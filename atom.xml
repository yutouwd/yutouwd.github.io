<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>yutouwd</title>
  
  <subtitle>æˆ‘çš„ã€Œç²¾ç¥å®¶å›­ã€</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yutouwd.github.io/"/>
  <updated>2019-04-08T12:29:30.162Z</updated>
  <id>http://yutouwd.github.io/</id>
  
  <author>
    <name>yutouwd</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>A7-Reverse-Interger</title>
    <link href="http://yutouwd.github.io/posts/1020379111/"/>
    <id>http://yutouwd.github.io/posts/1020379111/</id>
    <published>2019-04-08T12:29:30.000Z</published>
    <updated>2019-04-08T12:29:30.162Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h1><h1 id="æˆ‘çš„è§£æ³•"><a href="#æˆ‘çš„è§£æ³•" class="headerlink" title="æˆ‘çš„è§£æ³•"></a>æˆ‘çš„è§£æ³•</h1><h2 id="è§£é¢˜æ€è·¯"><a href="#è§£é¢˜æ€è·¯" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h2><h2 id="å®ç°ä»£ç "><a href="#å®ç°ä»£ç " class="headerlink" title="å®ç°ä»£ç "></a>å®ç°ä»£ç </h2><h1 id="é«˜ç¥¨è§£æ³•"><a href="#é«˜ç¥¨è§£æ³•" class="headerlink" title="é«˜ç¥¨è§£æ³•"></a>é«˜ç¥¨è§£æ³•</h1><h2 id="å®ç°ä»£ç -1"><a href="#å®ç°ä»£ç -1" class="headerlink" title="å®ç°ä»£ç "></a>å®ç°ä»£ç </h2><h2 id="ä»£ç åˆ†æ"><a href="#ä»£ç åˆ†æ" class="headerlink" title="ä»£ç åˆ†æ"></a>ä»£ç åˆ†æ</h2><h1 id="å­¦ä¹ æ€»ç»“"><a href="#å­¦ä¹ æ€»ç»“" class="headerlink" title="å­¦ä¹ æ€»ç»“"></a>å­¦ä¹ æ€»ç»“</h1>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
      <category term="leetcode" scheme="http://yutouwd.github.io/categories/leetcode/"/>
    
    
      <category term="leetcode" scheme="http://yutouwd.github.io/tags/leetcode/"/>
    
  </entry>
  
  <entry>
    <title>1.Two Sum</title>
    <link href="http://yutouwd.github.io/posts/2304652807/"/>
    <id>http://yutouwd.github.io/posts/2304652807/</id>
    <published>2019-04-05T00:43:29.000Z</published>
    <updated>2019-04-08T12:30:09.361Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h1><p>Given an array of integers, return indices of the two numbers such that they add up to a specific target. </p><p>You may assume that each input would have exactly one solution, and you may not use the same element twice. </p><p>Example: </p><p>Given nums = [2, 7, 11, 15], target = 9, </p><p>Because nums[0] + nums[1] = 2 + 7 = 9,<br>return [0, 1]. </p><h1 id="æˆ‘çš„è§£æ³•"><a href="#æˆ‘çš„è§£æ³•" class="headerlink" title="æˆ‘çš„è§£æ³•"></a>æˆ‘çš„è§£æ³•</h1><h2 id="è§£é¢˜æ€è·¯"><a href="#è§£é¢˜æ€è·¯" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h2><p>é¢˜ç›®çš„æ„æ€æ˜¯ç»™åˆ°ä¸€ä¸ªæ•´å½¢çš„æ•°ç»„å’Œä¸€ä¸ªç›®æ ‡ï¼Œè¦åœ¨è¿™ä¸ªæ•°ç»„é‡Œé¢æ‰¾åˆ°ä¸¤ä¸ªæ•°ç›¸åŠ ç­‰äºè¿™ä¸ªç›®æ ‡çš„ä¸¤ä¸ªæ•°ï¼Œå¹¶è¿”å›è¿™ä¸¤ä¸ªæ•°çš„ç´¢å¼•æ•°ç»„ã€‚å¹¶ä¸”å¯ä»¥å‡å®šæ¯ä¸ªè¾“å…¥å¿…æœ‰ä¸”åªæœ‰ä¸€ä¸ªè§£ï¼Œä¸èƒ½ç”¨ä¸€ä¸ªæ•°ä¸¤æ¬¡ã€‚</p><p>ç®€å•çš„æƒ³æ³•å°±æ˜¯ç”¨ä¸¤ä¸ªforå¾ªç¯ï¼Œéå†æ•°ç»„é‡Œä¸¤ä¸ªæ•°ç›¸åŠ çš„ç»„åˆï¼Œå¦‚æœç›¸åŠ ç­‰äºç›®æ ‡ï¼Œå°±è¿”å›è¿™ä¸¤ä¸ªç´¢å¼•å€¼ã€‚</p><h2 id="å®ç°ä»£ç "><a href="#å®ç°ä»£ç " class="headerlink" title="å®ç°ä»£ç "></a>å®ç°ä»£ç </h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; twoSum(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; index;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.size() - <span class="number">1</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; nums.size(); j++)&#123;</span><br><span class="line">                <span class="keyword">if</span> (nums[i] + nums[j] == target)&#123;</span><br><span class="line">                    index.push_back(i);</span><br><span class="line">                    index.push_back(j);</span><br><span class="line">                    <span class="keyword">return</span> index;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> index;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ç»“æœå¦‚ä¸‹ï¼š<br>âœ” Accepted<br>  âœ” 29/29 cases passed (144 ms)<br>  âœ” Your runtime beats 32.13 % of cpp submissions<br>  âœ” Your memory usage beats 99.9 % of cpp submissions (9.2 MB)<br>é€Ÿåº¦æœ‰ç‚¹ç‚¹çš„æ…¢</p><h1 id="é«˜ç¥¨è§£æ³•"><a href="#é«˜ç¥¨è§£æ³•" class="headerlink" title="é«˜ç¥¨è§£æ³•"></a>é«˜ç¥¨è§£æ³•</h1><p>çœ‹äº†ä¸‹é«˜ç¥¨ä»¥åŠé€Ÿåº¦è¾ƒå¿«çš„è§£æ³•ï¼ŒåŸºæœ¬éƒ½æ˜¯ç”¨äº†hashè¡¨ã€‚ä¹‹å‰åšé¢˜çš„æ—¶å€™ä¹Ÿç»å¸¸å¯ä»¥è§åˆ°ï¼Œä½†æ˜¯ä¸€ç›´ä¹Ÿéƒ½æ²¡æœ‰å¤ªç†è§£å®ƒçš„ç”¨æ³•</p><h2 id="å®ç°ä»£ç -1"><a href="#å®ç°ä»£ç -1" class="headerlink" title="å®ç°ä»£ç "></a>å®ç°ä»£ç </h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; twoSum(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">        <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; indices;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.size(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (indices.find(target - nums[i]) != indices.end()) &#123;</span><br><span class="line">                <span class="keyword">return</span> &#123;indices[target - nums[i]], i&#125;;</span><br><span class="line">            &#125;</span><br><span class="line">            indices[nums[i]] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="å­¦ä¹ æ€»ç»“"><a href="#å­¦ä¹ æ€»ç»“" class="headerlink" title="å­¦ä¹ æ€»ç»“"></a>å­¦ä¹ æ€»ç»“</h1><p>å…ˆå¥½å¥½äº†è§£ä¸€ä¸‹å“ˆå¸Œè¡¨å’ŒC++ä¸­çš„mapå’Œinorder_mapçš„ç”¨æ³•ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
      <category term="leetcode" scheme="http://yutouwd.github.io/categories/leetcode/"/>
    
    
      <category term="leetcode" scheme="http://yutouwd.github.io/tags/leetcode/"/>
    
      <category term="vector" scheme="http://yutouwd.github.io/tags/vector/"/>
    
      <category term="hash map" scheme="http://yutouwd.github.io/tags/hash-map/"/>
    
  </entry>
  
  <entry>
    <title>æˆä¸ºä¸€ä¸ªã€Œæ•°æ®æ ‡è®°å‘˜ã€</title>
    <link href="http://yutouwd.github.io/posts/921238856/"/>
    <id>http://yutouwd.github.io/posts/921238856/</id>
    <published>2019-04-04T13:41:12.000Z</published>
    <updated>2019-04-04T16:19:17.022Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>è¯­éŸ³æ˜¯è‡ªç„¶çš„ã€æœ‰äººæ€§çš„ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬å¸Œæœ›ä¸ºæœºå™¨å»ºç«‹å¯ç”¨çš„è¯­éŸ³æŠ€æœ¯ã€‚ä½†è¦åˆ›é€ ä¸€ä¸ªè¯­éŸ³ç³»ç»Ÿï¼Œå¼€å‘è€…éœ€è¦å¤§é‡çš„è¯­éŸ³æ•°æ®ã€‚</p><p>å¤§éƒ¨åˆ†ç”±å¤§å…¬å¸æŒæœ‰çš„æ•°æ®ï¼Œå¹¶æœªå¼€æ”¾ç»™å…¬ä¼—ä½¿ç”¨ã€‚æˆ‘ä»¬è®¤ä¸ºè¿™ä¼šæ‰¼æ€åˆ›æ–°ï¼Œå› è€Œæ¨å‡ºäº†Common Voiceé¡¹ç›®ï¼Œè®©è¯­éŸ³è¯†åˆ«æŠ€æœ¯çš„å¤§é—¨å¯¹æ¯ä¸ªäººå¼€æ”¾è€Œæ— éšœç¢ã€‚</p><p>ç°åœ¨ï¼Œæ‚¨å¯ä»¥è´¡çŒ®å‡ºæ‚¨çš„å£°éŸ³ï¼Œå¸®åŠ©æˆ‘ä»¬å»ºç«‹ä¸€ä¸ªå¼€æºçš„è¯­éŸ³æ•°æ®åº“ï¼Œä»»ä½•äººéƒ½å¯ä»¥ä½¿ç”¨å®ƒæ¥ä¸ºè®¾å¤‡å’Œç½‘ç»œåˆ¶ä½œåˆ›æ–°çš„åº”ç”¨ç¨‹åºã€‚ åªè¦æœ—è¯»ä¸€æ®µæ–‡å­—ï¼Œå³å¯å¸®åŠ©æœºå™¨äº†è§£äººä»¬å¦‚ä½•è¯´è¯ã€‚æ‚¨ä¹Ÿå¯ä»¥å¤æŸ¥å…¶ä»–è´¡çŒ®è€…çš„å·¥ä½œä»¥æé«˜è´¨é‡ã€‚å°±è¿™ä¹ˆç®€å•!<br><a id="more"></a><br>å‰æ®µæ—¶é—´åœ¨å…¬ä¼—å·ä¸Šçœ‹åˆ°äº†åˆæœ‰ä¸€ä¸ªè¯­éŸ³çš„æ•°æ®é›†å…¬å¼€äº†ï¼Œåæ¥æŸä¸€å¤©æœ‰æ„æ— æ„çš„å°±å»æŸ¥äº†ä¸‹è¿™ä¸ªæ•°æ®é›†ï¼Œç‚¹å¼€äº†Common Voiceçš„<a href="https://voice.mozilla.org/" target="_blank" rel="noopener">å®˜ç½‘</a>ï¼Œå°±çœ‹åˆ°äº†ä¸Šé¢é‚£ä¸€æ®µè¯ã€‚ä¸€ç›´éƒ½ä¼šè¢«è¿™ç§çœŸæ­£ä¸ºäº†æ•´ä¸ªä¸–ç•Œè¿›æ­¥çš„ç²¾ç¥æ‰€æ„ŸæŸ“ã€‚</p><p>åœ¨ä¹‹å‰å…¬å¸å·¥ä½œçš„æ—¶å€™ä¸€ä¸ªé€ƒä¸æ‰çš„é—®é¢˜å°±æ˜¯æ•°æ®äº†ï¼Œæ€»æ˜¯ä¼šå› ä¸ºæ²¡æœ‰å¼€æºçš„æ•°æ®æˆ–è€…æ•°æ®é‡å¤ªå°‘è€Œæ‰è¥Ÿè§è‚˜ï¼Œè€Œå¤§å…¬å¸ä»¬å°±å¯ä»¥åˆ©ç”¨ç°æœ‰çš„èµ„æºå»è·å¾—æµ·é‡çš„æ•°æ®ã€‚æ‰€ä»¥ä¸€å¼€å§‹çœ‹åˆ°Common Voiceçš„å®˜ç½‘å°±æ ¼å¤–çš„æ¿€åŠ¨ï¼Œä¸è¿‡é‚£ä¸ªæ—¶å€™æ±‰è¯­ï¼ˆä¸­å›½å¤§é™†ï¼‰è¿˜æ²¡æœ‰ä¸Šçº¿ï¼Œè¿˜åœ¨å‡†å¤‡å½“ä¸­ï¼Œäºæ˜¯å°±å…ˆå»éªŒè¯äº†å‡ ä¸ªæ±‰è¯­ï¼ˆå°æ¹¾ï¼‰çš„ç‰‡æ®µï¼Œä¹Ÿå¤§æ¦‚ææ‡‚äº†å®ƒæ”¶é›†æ•°æ®çš„æ–¹å¼ã€‚</p><p><img src="/upload_image/CommonVoiceVeri.png" alt=""></p><p>æ¯ä¸ªäººéƒ½å¯ä»¥è´¡çŒ®è‡ªå·±çš„å½•éŸ³ï¼Œæœ—è¯»å±å¹•ä¸Šçš„å¥å­ï¼›ä¹Ÿå¯ä»¥å»éªŒè¯åˆ«äººè¯»çš„å¥å­ï¼Œå¬åˆ«äººè¯»çš„å’Œå±å¹•ä¸Šçš„æ–‡æœ¬æ˜¯å¦ä¸€è‡´ï¼Œå¦‚æœ3ä¸ªäººæœ‰2ä¸ªäººè®¤ä¸ºæ˜¯å¯¹çš„å°±å¯ä»¥æ”¶å½•è¿›æ•°æ®é›†å½“ä¸­äº†ï¼Œè™½ç„¶æ„Ÿè§‰éªŒè¯çš„æ¬¡æ•°å¯èƒ½ç¨å¾®å°‘äº†ç‚¹ï¼Œä¸è¿‡è¿™ä¹Ÿæ˜¯ä¸ºæ•°ä¸å¤šä¸ç”¨ä¸“ç”¨çš„æ•°æ®æ ‡è®°äººå‘˜æ¥åˆ¶ä½œæ•°æ®é›†çš„åŠæ³•äº†å§ã€‚</p><p>ç›®å‰Common Voiceå·²ç»ä¸Šçº¿äº†23ç§è¯­è¨€ï¼Œæ±‰è¯­ï¼ˆä¸­å›½å¤§é™†ï¼‰ä¹Ÿç»ˆäºä¸Šçº¿äº†ï¼Œæˆ‘ä¹Ÿé©¬ä¸Šå»å½•åˆ¶äº†å‡ æ®µè¯­éŸ³ğŸ™ï¼Œå¿«æ¥å’Œæˆ‘ä¸€èµ·æˆä¸ºä¸€ä¸ªã€Œæ•°æ®æ ‡è®°å‘˜ã€å§ï½</p><p><del>æœ€åå†åæ§½ä¸‹Common Voiceé€‰çš„æ–‡æœ¬ä¹Ÿå¤ªæ‹—å£äº†å§ï¼Œå°±åƒä¸‹é¢è¿™æ®µè¯ï¼Œéƒ½è¦è¯»å¥½å‡ éæ‰èƒ½è¯»å¾—é€šé¡ºã€‚è€Œä¸”æ„Ÿè§‰é€‰çš„æ–‡æœ¬éƒ½æœ‰ç‚¹å¤ªè¿‡äºä¹¦é¢åŒ–äº†ï¼Œè¿˜æœ‰ä¸å°‘çš„æ–‡è¨€æ–‡ğŸ¤¦â€â™‚ï¸ï¼Œä¸è¿‡ç‘•ä¸æ©ç‘œå§ã€‚</del></p><p><img src="/upload_image/CommonVoiceSpeak.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¯­éŸ³æ˜¯è‡ªç„¶çš„ã€æœ‰äººæ€§çš„ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬å¸Œæœ›ä¸ºæœºå™¨å»ºç«‹å¯ç”¨çš„è¯­éŸ³æŠ€æœ¯ã€‚ä½†è¦åˆ›é€ ä¸€ä¸ªè¯­éŸ³ç³»ç»Ÿï¼Œå¼€å‘è€…éœ€è¦å¤§é‡çš„è¯­éŸ³æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;å¤§éƒ¨åˆ†ç”±å¤§å…¬å¸æŒæœ‰çš„æ•°æ®ï¼Œå¹¶æœªå¼€æ”¾ç»™å…¬ä¼—ä½¿ç”¨ã€‚æˆ‘ä»¬è®¤ä¸ºè¿™ä¼šæ‰¼æ€åˆ›æ–°ï¼Œå› è€Œæ¨å‡ºäº†Common Voiceé¡¹ç›®ï¼Œè®©è¯­éŸ³è¯†åˆ«æŠ€æœ¯çš„å¤§é—¨å¯¹æ¯ä¸ªäººå¼€æ”¾è€Œæ— éšœç¢ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨ï¼Œæ‚¨å¯ä»¥è´¡çŒ®å‡ºæ‚¨çš„å£°éŸ³ï¼Œå¸®åŠ©æˆ‘ä»¬å»ºç«‹ä¸€ä¸ªå¼€æºçš„è¯­éŸ³æ•°æ®åº“ï¼Œä»»ä½•äººéƒ½å¯ä»¥ä½¿ç”¨å®ƒæ¥ä¸ºè®¾å¤‡å’Œç½‘ç»œåˆ¶ä½œåˆ›æ–°çš„åº”ç”¨ç¨‹åºã€‚ åªè¦æœ—è¯»ä¸€æ®µæ–‡å­—ï¼Œå³å¯å¸®åŠ©æœºå™¨äº†è§£äººä»¬å¦‚ä½•è¯´è¯ã€‚æ‚¨ä¹Ÿå¯ä»¥å¤æŸ¥å…¶ä»–è´¡çŒ®è€…çš„å·¥ä½œä»¥æé«˜è´¨é‡ã€‚å°±è¿™ä¹ˆç®€å•!&lt;br&gt;
    
    </summary>
    
      <category term="ç²¾ç¥å®¶å›­" scheme="http://yutouwd.github.io/categories/%E7%B2%BE%E7%A5%9E%E5%AE%B6%E5%9B%AD/"/>
    
    
      <category term="è¯­éŸ³è¯†åˆ«" scheme="http://yutouwd.github.io/tags/%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB/"/>
    
      <category term="å£°çº¹è¯†åˆ«" scheme="http://yutouwd.github.io/tags/%E5%A3%B0%E7%BA%B9%E8%AF%86%E5%88%AB/"/>
    
      <category term="å¼€æºæ•°æ®" scheme="http://yutouwd.github.io/tags/%E5%BC%80%E6%BA%90%E6%95%B0%E6%8D%AE/"/>
    
      <category term="Common Voice" scheme="http://yutouwd.github.io/tags/Common-Voice/"/>
    
  </entry>
  
  <entry>
    <title>Leetcodeåˆ·é¢˜è®¡åˆ’</title>
    <link href="http://yutouwd.github.io/posts/2034461929/"/>
    <id>http://yutouwd.github.io/posts/2034461929/</id>
    <published>2019-04-03T12:39:19.000Z</published>
    <updated>2019-04-04T16:28:12.306Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>ç«‹ä¸‹ä¸€ä¸ªflagï½ğŸš©<br><a id="more"></a><br>ä¸€ç›´éƒ½æ²¡æœ‰ç³»ç»Ÿçš„å­¦è¿‡æ•°æ®ç»“æ„ï¼Œä¹Ÿå°±ç®€å•çš„çœ‹äº†ä¸€éã€Šæ•°æ®ç»“æ„ã€ç®—æ³•ä¸åº”ç”¨-C++è¯­è¨€æè¿°ã€‹ï¼Œä½†æ˜¯æ„Ÿè§‰å¯¹å¾ˆå¤šä¸œè¥¿éƒ½åªæ˜¯æœ‰äº†ä¸€ä¸ªæ¦‚å¿µï¼Œå®Œå…¨ä¸çŸ¥é“è¯¥æ€ä¹ˆç”¨ï¼›æœ‰çš„å›«å›µåæ£åœ°çœ‹äº†ä¸€éç°åœ¨ä¹Ÿå¿˜äº†ã€‚æ‰€ä»¥è¿˜æ˜¯ä¸‹å®šå†³å¿ƒå¼€å§‹åˆ·ä¸€åˆ·leetcodeçš„é¢˜ï¼Œæ ¹æ®ä»¥å¾€çš„ç»éªŒï¼Œæˆ‘æ€»æ˜¯å–œæ¬¢å®šä¸€ä¸ªå¾ˆé«˜çš„ç›®æ ‡ï¼Œç„¶åå¼€å§‹çš„ä¸€ä¸¤å¤©è¿˜èƒ½æŒ‰æ—¶å®Œæˆã€‚å‡ å¤©ä¹‹åï¼Œåœ¨æŸä¸ªå¥‘æœºä¹‹ä¸‹æ²¡æœ‰å®Œæˆè®¡åˆ’ï¼Œå°±å¼€å§‹ç ´ç½å­ç ´æ‘”äº†ã€‚æ‰€ä»¥è¿˜æ˜¯å…ˆå®šä¸€ä¸ªç›¸å¯¹æ¥è¯´æ˜¯ä¸€ä¸ªå¯ä»¥æ‰§è¡Œçš„ç›®æ ‡ï¼Œé‚£å°±äº‰å–æ¯å‘¨åš3ï½4é¢˜ï¼Œä½†æ˜¯æ¯ä¸ªé¢˜ç›®éƒ½è¦å®Œå®Œå…¨å…¨åœ°å¼„æ‡‚ï¼Œå…‰åšå‡ºæ¥äº‰å–çš„ç­”æ¡ˆä¹Ÿæ˜¯ä¸å¤Ÿçš„ï¼Œè¿˜è¦å†å»çœ‹çœ‹è¯„è®ºåŒºä¸­é«˜èµç­”æ¡ˆå’Œæ—¶é—´æœ€å¿«çš„ç­”æ¡ˆï¼Œå¹¶ä¸”æŠŠè§£é¢˜çš„æ€è·¯ä¹Ÿè¦å†™ä¸‹æ¥ã€‚é‚£å°±æ„‰å¿«åœ°å†³å®šå•¦ï¼Œå¸Œæœ›åˆ°å¹´æœ«çš„æ—¶å€™å¯ä»¥åšå¤Ÿ100é¢˜ï½å¸Œæœ›è¿™æ®µæ—¶é—´å¯ä»¥æŠŠåŸºç¡€çš„æ•°æ®ç»“æ„å’Œç®—æ³•çš„çŸ¥è¯†æŒæ¡ç‰¢å›ºğŸ’ª</p><p><del>ä¸ºäº†ä¸è®©leetcodeçš„æ–‡ç« åˆ·å±ï¼Œ</del>æˆ‘å°†å’Œleetcodeç›¸å…³çš„æ–‡ç« éƒ½è®¾ç½®æˆé¦–é¡µä¸æ˜¾ç¤ºçš„äº†ï¼Œæƒ³è¦çœ‹çš„è¯å¯ä»¥ç‚¹ä¸Šé¢çš„leetå›¾æ ‡æˆ–è€…ä¸‹é¢çš„é“¾æ¥ã€‚<br><a href="https://yutouwd.github.io/leetcode/">https://yutouwd.github.io/leetcode/</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç«‹ä¸‹ä¸€ä¸ªflagï½ğŸš©&lt;br&gt;
    
    </summary>
    
      <category term="leetcode" scheme="http://yutouwd.github.io/categories/leetcode/"/>
    
    
      <category term="leetcode" scheme="http://yutouwd.github.io/tags/leetcode/"/>
    
  </entry>
  
  <entry>
    <title>kaldiåœ¨Windowsä¸‹çš„ä½¿ç”¨</title>
    <link href="http://yutouwd.github.io/posts/3944650563/"/>
    <id>http://yutouwd.github.io/posts/3944650563/</id>
    <published>2019-02-26T12:49:11.000Z</published>
    <updated>2019-04-04T13:42:19.115Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>å…¶å®ä¸æ˜¯ç‰¹åˆ«æ¨èåœ¨Windowsä¸‹ä½¿ç”¨kaldiï¼Œå› ä¸ºåœ¨egsä¸‹æ‰€æœ‰çš„è„šæœ¬éƒ½æ— æ³•è¿è¡Œï¼Œæˆ‘ä¹Ÿæ˜¯å¼„äº†å¾ˆä¹…æ‰åœ¨Windowsä¸‹é…ç½®å¥½kaldiï¼Œéƒ½ä¸€åº¦å·®ç‚¹å¼ƒå‘ã€‚å°±è¿å®˜æ–¹ä¹Ÿè¯´<strong>There is no commitment to support Windows. The Windows port of Kaldi is targeted at experienced developers who want to program their own apps using the kaldi libraries and are able to do the troubleshooting on their own.</strong>å°±è®©æˆ‘æ¥æŠŠå‘å¡«å¹³é‚£ä¹ˆä¸€ç‚¹ç‚¹å§ğŸ§<br><a id="more"></a></p><h1 id="kaldiåœ¨Windowsä¸‹çš„å®‰è£…"><a href="#kaldiåœ¨Windowsä¸‹çš„å®‰è£…" class="headerlink" title="kaldiåœ¨Windowsä¸‹çš„å®‰è£…"></a>kaldiåœ¨Windowsä¸‹çš„å®‰è£…</h1><h2 id="å·¥å…·å‡†å¤‡"><a href="#å·¥å…·å‡†å¤‡" class="headerlink" title="å·¥å…·å‡†å¤‡"></a>å·¥å…·å‡†å¤‡</h2><ul><li>git</li><li>cmake</li><li>Visual Studio 2017</li></ul><p>vs2017è¦æ³¨æ„å®‰è£…win8.1 SDKï¼Œå¦‚æœå·²ç»å®‰è£…äº†vs2017ï¼Œä¹Ÿå¯ä»¥åœ¨ä¸Šæ–¹çš„èœå•æ ä¸­çš„å·¥å…·-&gt;è·å–å·¥å…·å’ŒåŠŸèƒ½ä¸­æ¥æŸ¥çœ‹æ˜¯å¦æœ‰å®‰è£…ã€‚gitå’Œcmakeçš„å®‰è£…æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„ï¼Œå°±ä¸åšä»‹ç»äº†ã€‚</p><h2 id="ç¼–è¯‘Openfst"><a href="#ç¼–è¯‘Openfst" class="headerlink" title="ç¼–è¯‘Openfst"></a>ç¼–è¯‘Openfst</h2><p>é¦–å…ˆä»githubä¸Šå°†openfst cloneä¸‹æ¥ã€‚ç„¶åè¿™é‡Œç”¨cmakeçš„æ–¹å¼æ¥å…ˆç¼–è¯‘å‡ºvsçš„å·¥ç¨‹æ–‡ä»¶ï¼Œå…·ä½“æ“ä½œæ–¹æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/kkm000/openfst.git</span><br><span class="line">cd openfst</span><br><span class="line">mkdir build64</span><br><span class="line">cd build64</span><br><span class="line">cmake -G "Visual Studio 15 2017 Win64" ../</span><br></pre></td></tr></table></figure><p>å¦‚æœè¿™ä¸€æ­¥æˆåŠŸä¼šæ˜¾ç¤ºä»¥ä¸‹æç¤ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">-- The C compiler identification is MSVC 19.11.25547.0</span><br><span class="line">-- The CXX compiler identification is MSVC 19.11.25547.0</span><br><span class="line">-- Check for working C compiler: C:/Program Files (x86)/Microsoft Visual Studio/2017/Community/VC/Tools/MSVC/14.11.25503/bin/Hostx86/x64/cl.exe</span><br><span class="line">-- Check for working C compiler: C:/Program Files (x86)/Microsoft Visual Studio/2017/Community/VC/Tools/MSVC/14.11.25503/bin/Hostx86/x64/cl.exe -- works</span><br><span class="line">-- Detecting C compiler ABI info</span><br><span class="line">-- Detecting C compiler ABI info - done</span><br><span class="line">-- Check for working CXX compiler: C:/Program Files (x86)/Microsoft Visual Studio/2017/Community/VC/Tools/MSVC/14.11.25503/bin/Hostx86/x64/cl.exe</span><br><span class="line">-- Check for working CXX compiler: C:/Program Files (x86)/Microsoft Visual Studio/2017/Community/VC/Tools/MSVC/14.11.25503/bin/Hostx86/x64/cl.exe -- works</span><br><span class="line">-- Detecting CXX compiler ABI info</span><br><span class="line">-- Detecting CXX compiler ABI info - done</span><br><span class="line">-- Detecting CXX compile features</span><br><span class="line">-- Detecting CXX compile features - done</span><br><span class="line">-- The following ICU libraries were not found:</span><br><span class="line">--   data (required)</span><br><span class="line">--   i18n (required)</span><br><span class="line">--   io (required)</span><br><span class="line">--   test (required)</span><br><span class="line">--   tu (required)</span><br><span class="line">--   uc (required)</span><br><span class="line">-- Failed to find all ICU components (missing: ICU_INCLUDE_DIR ICU_LIBRARY _ICU_REQUIRED_LIBS_FOUND)</span><br><span class="line">-- Could NOT find ZLIB (missing: ZLIB_LIBRARY ZLIB_INCLUDE_DIR)</span><br><span class="line">-- Configuring done</span><br><span class="line">-- Generating done</span><br><span class="line">-- Build files have been written to: C:/Users/jtrmal/Documents/openfst/build64</span><br></pre></td></tr></table></figure><p>æˆåŠŸåä¼šåœ¨build64ç›®å½•ä¸‹é¢ç”Ÿæˆä¸€ä¸ªopenfst.slnæ–‡ä»¶ï¼Œç”¨vs2017æ‰“å¼€è¿™ä¸ªæ–‡ä»¶ï¼Œåˆ†åˆ«ç”¨Debug|x64å’ŒRelease|x64æ¥ç”Ÿæˆä¸€éï¼Œå¦‚ä¸‹å›¾ï¼Œå¦‚æœå¤±è´¥ä¸º0åˆ™ä»£è¡¨ç¼–è¯‘é€šè¿‡ã€‚</p><h2 id="é…ç½®OpenBLAS"><a href="#é…ç½®OpenBLAS" class="headerlink" title="é…ç½®OpenBLAS"></a>é…ç½®OpenBLAS</h2><p>é¦–å…ˆä¹Ÿæ˜¯ä»githubä¸Šå…ˆå°†kaldi cloneä¸‹æ¥</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/kaldi-asr/kaldi.git kaldi</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬å°±éœ€è¦å»é…ç½®çº¿æ€§ä»£æ•°åº“ï¼Œè¿™é‡Œæœ‰ä¸¤ä¸ªé€‰æ‹©ï¼Œä¸€ä¸ªæ˜¯Intel MKLï¼Œä¸€ä¸ªæ˜¯OpenBLASã€‚è¿™é‡Œæˆ‘é€‰ç”¨OpenBLASã€‚ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥ä¸‹è½½OpenBLASçš„äºŒè¿›åˆ¶åŒ…ï¼ˆåœ¨kaldi/toolsç›®å½•ä¸‹ï¼‰ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -L -O http://sourceforge.net/projects/openblas/files/v0.2.14/OpenBLAS-v0.2.14-Win64-int32.zip</span><br><span class="line">unzip OpenBLAS-v0.2.14-Win64-int32.zip</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„è¿™é‡Œè¦ä¸‹è½½Win64-int32ç‰ˆæœ¬ï¼Œè€Œä¸æ˜¯Win64-int64ç‰ˆæœ¬</strong></p><h2 id="ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶</h2><p>è¿›å…¥kaldi/windowsè·¯å¾„æƒ³ï¼Œå°†varialbe.props.devå¤åˆ¶ä¸€ä»½é‡å‘½åä¸ºvariables.propsï¼Œæ‰“å¼€åå°†åˆšåˆšé…ç½®å¥½çš„åº“ä¿®æ”¹ä¸ºè‡ªå·±çš„è·¯å¾„ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Change the following paths so they are correct on your machine --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Do not modify anything before this line --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">MKLDIR</span>&gt;</span>C:\Program Files\(x86)\IntelSWTools\compilers_and_libraries\windows\mkl\<span class="tag">&lt;/<span class="name">MKLDIR</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">OPENBLASDIR</span>&gt;</span>C:\Users\Yenda\Downloads\kaldi-svn\tools\OpenBLAS-v0.2.14-Win64-int32<span class="tag">&lt;/<span class="name">OPENBLASDIR</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">OPENFST</span>&gt;</span>C:\Users\jtrmal\Documents\openfst<span class="tag">&lt;/<span class="name">OPENFST</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">OPENFSTLIB</span>&gt;</span>C:\Users\jtrmal\Documents\openfst\build64<span class="tag">&lt;/<span class="name">OPENFSTLIB</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Do not modify anything after this line --&gt;</span></span><br></pre></td></tr></table></figure></p><p>æˆ‘ä»¬éœ€è¦å°†OpenBLASå’ŒOpenfstä¿®æ”¹ä¸ºè‡ªå·±çš„è·¯å¾„ï¼Œå› ä¸ºæ²¡æœ‰ç”¨åˆ°MKLå°±ä¸ç”¨ä¿®æ”¹äº†ã€‚ä¸‹é¢å°±æ˜¯æˆ‘ä¿®æ”¹åçš„è·¯å¾„ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Change the following paths so they are correct on your machine --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Do not modify anything before this line --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">MKLDIR</span>&gt;</span>C:\Program Files(x86)\IntelSWTools\compilers_and_libraries\windows\mkl\<span class="tag">&lt;/<span class="name">MKLDIR</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">OPENBLASDIR</span>&gt;</span>D:\git_home\kaldi\tools\OpenBLAS-v0.2.14-Win64-int32<span class="tag">&lt;/<span class="name">OPENBLASDIR</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">OPENFST</span>&gt;</span>D:\git_home\openfst<span class="tag">&lt;/<span class="name">OPENFST</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">OPENFSTLIB</span>&gt;</span>D:\git_home\openfst\build64<span class="tag">&lt;/<span class="name">OPENFSTLIB</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Do not modify anything after this line --&gt;</span></span><br></pre></td></tr></table></figure><h2 id="äº§ç”Ÿå·¥ç¨‹æ–‡ä»¶"><a href="#äº§ç”Ÿå·¥ç¨‹æ–‡ä»¶" class="headerlink" title="äº§ç”Ÿå·¥ç¨‹æ–‡ä»¶"></a>äº§ç”Ÿå·¥ç¨‹æ–‡ä»¶</h2><p>åŒæ ·è¿˜æ˜¯åœ¨kaldi/windowsè·¯å¾„ä¸‹ï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯ä½¿ç”¨OpenBLASæ‰€ä»¥å°±æŠŠkaldiwin_openblas.propså¤åˆ¶ä¸€ä»½é‡å‘½åä¸ºkaldiwin.prospã€‚ç„¶ååœ¨windowsè·¯å¾„ä¸‹ç”¨git bashè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./generate_solution.pl --vsver vs2017 --enable-openblas</span><br><span class="line">./get_version.pl</span><br></pre></td></tr></table></figure></p><h2 id="kaldiç¼–è¯‘æµ‹è¯•"><a href="#kaldiç¼–è¯‘æµ‹è¯•" class="headerlink" title="kaldiç¼–è¯‘æµ‹è¯•"></a>kaldiç¼–è¯‘æµ‹è¯•</h2><p>ç„¶åæˆ‘ä»¬æ‰“å¼€åœ¨kaldi/kaldiwin_vs2017_OPENBLASè¿™ä¸ªæ–°ç”Ÿæˆçš„æ–‡ä»¶å¤¹ï¼Œæ‰“å¡é‡Œé¢çš„kaldiwin_vs2017.slnå·¥ç¨‹æ–‡ä»¶ï¼Œè¿™é‡Œé¢å°±åŒ…æ‹¬äº†æ‰€æœ‰kaldi/srcä¸­*binä¸­çš„.ccæ–‡ä»¶ã€‚è¿™æ—¶å€™éœ€è¦æ¥æµ‹è¯•ä¸€ä¸‹kaldièƒ½å¦è¿è¡Œï¼Œé¦–å…ˆè¦æŠŠDebug|Win32æ”¹ä¸ºDebug|x64ï¼Œç„¶åå³é”®é€‰æ‹©online2-wav-nnet2-latgen-fasterç”Ÿæˆï¼Œå¦‚ä¸‹å›¾ï¼Œå¦‚æœç”ŸæˆæˆåŠŸåˆ™ä»£è¡¨ä¹‹å‰çš„å·¥ä½œéƒ½åšå¯¹å•¦ï¼Œkaldiå·²ç»é…ç½®å¥½äº†âœŒï¸~exeæ–‡ä»¶ä¼šç”Ÿæˆåœ¨kaldiwin_vs2017_OPENBLAS/x64/Debugä¸­ï¼Œä¸è¿‡å½“ç”¨å‘½ä»¤è¡Œæ¥è¿è¡Œåˆšåˆšç”Ÿæˆçš„exeæ–‡ä»¶æ—¶ï¼Œè¿˜æ˜¯æœ‰å¯èƒ½ä¼šæŠ¥é”™ï¼Œå¦‚ç¼ºå°‘dllç­‰ï¼Œè§£å†³æ–¹æ³•è§å¸¸è§é—®é¢˜ã€‚</p><h1 id="kaldiåœ¨Windowsä¸‹çš„è°ƒè¯•"><a href="#kaldiåœ¨Windowsä¸‹çš„è°ƒè¯•" class="headerlink" title="kaldiåœ¨Windowsä¸‹çš„è°ƒè¯•"></a>kaldiåœ¨Windowsä¸‹çš„è°ƒè¯•</h1><h2 id="æ–°å»ºè‡ªå·±çš„kaldié¡¹ç›®"><a href="#æ–°å»ºè‡ªå·±çš„kaldié¡¹ç›®" class="headerlink" title="æ–°å»ºè‡ªå·±çš„kaldié¡¹ç›®"></a>æ–°å»ºè‡ªå·±çš„kaldié¡¹ç›®</h2><p>åœ¨é…ç½®å¥½kaldiä¹‹åï¼Œå°±å¯ä»¥å¼€å§‹è°ƒè¯•å’Œç¼–å†™è‡ªå·±çš„ä½¿ç”¨kaldiçš„ç¨‹åºäº†ã€‚ä¸è¿‡åŸæ¥çš„kaldié¡¹ç›®ä¸­æœ‰630ä¸ªé¡¹ç›®æˆ–è€…ç§°ä¸ºè§£å†³æ–¹æ¡ˆï¼Œæ¯æ¬¡æ‰“å¼€éƒ½è¦åŠ è½½å¾ˆä¹…ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ–°å»ºä¸€ä¸ªç©ºé¡¹ç›®ï¼š</p><h3 id="æ·»åŠ å¼•ç”¨"><a href="#æ·»åŠ å¼•ç”¨" class="headerlink" title="æ·»åŠ å¼•ç”¨"></a>æ·»åŠ å¼•ç”¨</h3><p>ç„¶åç‚¹å‡»å·¦ä¸Šè§’æ–‡ä»¶-&gt;æ·»åŠ -&gt;ç°æœ‰é¡¹ç›®ï¼Œåˆ‡æ¢åˆ°kaldi/kaldiwin_vs2017_OPENBLAS/kaldiwinè·¯å¾„ä¸‹ã€‚</p><p>æœ€å¥½æŠŠæ‰€æœ‰ä»¥kaldiå¼€å¤´çš„é¡¹ç›®éƒ½æ·»åŠ è¿›å»ï¼ˆç‚¹è¿›å»å…·ä½“çš„æ–‡ä»¶å¤¹ï¼Œæ·»åŠ .vcxprojæ–‡ä»¶ï¼‰ï¼ŒåŒ…å«testçš„ä¸ç”¨ã€‚ä¸è¿‡å¦‚æœä½ æ¸…æ¥šä½ ç”¨çš„é¡¹ç›®è¦ç”¨åˆ°å“ªäº›å…·ä½“çš„å¼•ç”¨ï¼Œé‚£ä¹ˆåªæ·»åŠ ç‰¹å®šçš„é¡¹ç›®å³å¯ã€‚é‚£ä¹ˆè¦æ€ä¹ˆçœ‹éœ€è¦ç”¨åˆ°é‚£äº›å¼•ç”¨å‘¢ï¼Œè¿™æ—¶å°±è¦å›åˆ°ä¹‹å‰é‚£ä¸ªåŒ…å«630ä¸ªé¡¹ç›®çš„vsä¸­å»ã€‚</p><p>æ¯”å¦‚è¯´æˆ‘æƒ³è¦æå–mfccç‰¹å¾ï¼Œå°±å¯ä»¥å»çœ‹çœ‹compute-mfcc-featsè¿™ä¸ªé¡¹ç›®ä¸­ä»¥ç”¨äº†é‚£äº›é¡¹ç›®ï¼Œç„¶ååœ¨è‡ªå·±çš„é¡¹ç›®æå–mfccç‰¹å¾é¡¹ç›®ä¸­ï¼Œä¹Ÿè¦ä»¥ç”¨ç›¸åŒçš„é¡¹ç›®ï¼Œé‚£ä¹ˆå°±æŠŠå¯¹åº”çš„é¡¹ç›®æ·»åŠ åˆ°è‡ªå·±çš„é¡¹ç›®ä¸­ï¼Œå¦‚ä¸‹å›¾ï¼š</p><h3 id="æ·»åŠ å·¥ç¨‹å±æ€§è¡¨"><a href="#æ·»åŠ å·¥ç¨‹å±æ€§è¡¨" class="headerlink" title="æ·»åŠ å·¥ç¨‹å±æ€§è¡¨"></a>æ·»åŠ å·¥ç¨‹å±æ€§è¡¨</h3><p>é…ç½®å¥½å¼•ç”¨è¿˜éœ€è¦æˆ‘ä»¬å»æ·»åŠ åˆšæ‰é…ç½®å¥½çš„vså·¥ç¨‹å±æ€§è¡¨ï¼Œç‚¹å¼€å·¦ä¸Šèœå•æ ä¸­çš„è§†å›¾-&gt;å…¶ä»–çª—å£-&gt;å±æ€§ç®¡ç†å™¨ã€‚</p><p>ç„¶ååœ¨è‡ªå·±çš„é¡¹ç›®çš„Debug|64ä¸­æ·»åŠ variables.props kaldiwin.props openfst_debug.propsï¼ˆå¦‚æœè¦releaseåˆ™æ·»åŠ å¯¹åº”çš„releaseç‰ˆæœ¬ï¼‰</p><h3 id="ä¿®æ”¹é™„åŠ åŒ…å«ç›®å½•"><a href="#ä¿®æ”¹é™„åŠ åŒ…å«ç›®å½•" class="headerlink" title="ä¿®æ”¹é™„åŠ åŒ…å«ç›®å½•"></a>ä¿®æ”¹é™„åŠ åŒ…å«ç›®å½•</h3><p>è¿˜å·®ä¸€æ­¥å°±å¤§åŠŸå‘Šæˆï¼Œé¦–å…ˆè¦åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­æ·»åŠ ä¸€ä¸ªcppæ–‡ä»¶ï¼Œç„¶åå³é”®å±æ€§-&gt;C/C++-&gt;æ‰€æœ‰é€‰é¡¹-&gt;é™„åŠ åŒ…å«ç›®å½•ï¼Œéœ€è¦æŠŠkaldi/srcç›®å½•æ·»åŠ è¿›å»</p><p>é…ç½®å¥½ä¹‹åï¼Œå°±å¯ä»¥å†™è‡ªå·±çš„è°ƒç”¨kaldiçš„ç¨‹åºäº†ï¼Œä¹‹åä¹Ÿå¯ä»¥æŒ‰ç…§è¿™æ ·çš„æ–¹å¼æ¥ã€‚æ€»ç»“ä¸€ä¸‹ï¼š</p><ul><li>åœ¨å½“å‰é¡¹ç›®ä¸­æ–‡ä»¶-&gt;æ·»åŠ -&gt;æ–°å»ºé¡¹ç›®</li><li>æ·»åŠ éœ€è¦ç”¨åˆ°çš„å¼•ç”¨</li><li>æ·»åŠ å·²ç»é…ç½®å¥½çš„å·¥ç¨‹å±æ€§è¡¨</li><li>æœ€åæŠŠkaldi/srcæ·»åŠ åˆ°é™„åŠ åŒ…å«ç›®å½•å°±å¯ä»¥äº†</li><li><strong><em>å¦å¤–è¦è®°ä½è°ƒè¯•æ¨¡å¼è¦åˆ‡æ¢æˆDebug|x64</em></strong></li></ul><h2 id="å†™è‡ªå·±çš„kaldiç¨‹åº"><a href="#å†™è‡ªå·±çš„kaldiç¨‹åº" class="headerlink" title="å†™è‡ªå·±çš„kaldiç¨‹åº"></a>å†™è‡ªå·±çš„kaldiç¨‹åº</h2><p>å¦‚æœæƒ³å†™è‡ªå·±çš„è°ƒç”¨kaldiçš„ç¨‹åºè¦æ€ä¹ˆå¼€å§‹å‘¢ï¼Œæœ€å¥½çš„åŠæ³•å°±æ˜¯å»çœ‹run.shä¸­ç”¨åˆ°äº†å“ªäº›å‘½ä»¤ï¼Œç„¶ååœ¨çœ‹å‘½ä»¤ä¸­C++ä»£ç æ˜¯æ€ä¹ˆåšçš„ã€‚ä»¥æå–mfccç‰¹å¾ä¸ºä¾‹ï¼Œåœ¨å£°çº¹è¯†åˆ«ä¸­ï¼Œä¸€èˆ¬éƒ½æ˜¯ä¸‹é¢å‡ æ¡å‘½ä»¤ç”¨æ¥æå–mfccç‰¹å¾ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> run.sh</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Now make MFCC features.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> mfccdir should be some place with a largish disk <span class="built_in">where</span> you</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> want to store MFCC features.</span></span><br><span class="line">mfccdir=mfcc</span><br><span class="line">for x in train test; do</span><br><span class="line">  steps/make_mfcc.sh --cmd "$train_cmd" --nj 10 data/$x exp/make_mfcc/$x $mfccdir</span><br><span class="line">  sid/compute_vad_decision.sh --nj 10 --cmd "$train_cmd" data/$x exp/make_mfcc/$x $mfccdir</span><br><span class="line">  utils/fix_data_dir.sh data/$x</span><br><span class="line">done</span><br></pre></td></tr></table></figure><p>å…·ä½“çš„æå–mfccçš„ç‰¹å¾ç¨‹åºå°±åœ¨steps/make_mfcc.shä¸­äº†</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> make_mfcc.sh</span></span><br><span class="line"><span class="meta">$</span><span class="bash">cmd JOB=1:<span class="variable">$nj</span> <span class="variable">$logdir</span>/make_mfcc_<span class="variable">$&#123;name&#125;</span>.JOB.log \</span></span><br><span class="line">  extract-segments scp,p:$scp $logdir/segments.JOB ark:- \| \</span><br><span class="line">  compute-mfcc-feats $vtln_opts --verbose=2 --config=$mfcc_config ark:- ark:- \| \</span><br><span class="line">  copy-feats --compress=$compress $write_num_frames_opt ark:- \</span><br><span class="line">  ark,scp:$mfccdir/raw_mfcc_$name.JOB.ark,$mfccdir/raw_mfcc_$name.JOB.scp \</span><br><span class="line">  || exit 1;</span><br></pre></td></tr></table></figure><p>é‡Œé¢å…·ä½“æå–mfccç‰¹å¾çš„å‘½ä»¤å°±åº”è¯¥æ˜¯steps/make_mfcc.shäº†ï¼Œçœ‹ä¸‹make_mfcc.shï¼Œåœ¨ç»è¿‡ä¸€ç³»åˆ—å¤„ç†åï¼Œä½¿ç”¨compute-mfcc-featè¿™ä¸ªå‘½ä»¤æ¥æå–mfccç‰¹å¾çš„ã€‚æˆ‘ä»¬å°±å¯ä»¥å»çœ‹åœ¨featbinä¸‹çš„compute-mfcc-feat.ccä¸­æ˜¯å¦‚ä½•æå–mfccç‰¹å¾çš„ï¼Œä¸‹é¢å°±è´´ä¸Šæˆ‘çš„æå–mfccå¹¶å†™å…¥ä¸€ä¸ªtxtæ–‡ä»¶çš„ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">"feat/feature-mfcc.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">"feat/wave-reader.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">"base/kaldi-math.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">"matrix/kaldi-matrix-inl.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">"matrix/kaldi-vector.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span> * argv[])</span></span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">using</span> <span class="keyword">namespace</span> kaldi;   <span class="comment">//è¦è®°ä½ä½¿ç”¨namespace kaldi</span></span><br><span class="line">        <span class="keyword">const</span> <span class="keyword">char</span> * Usage =</span><br><span class="line">            <span class="string">"my_kaldi.exe [wav_filename] [mfcc_filename] \n"</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="function">ParseOptions <span class="title">po</span><span class="params">(Usage)</span></span>;</span><br><span class="line">        po.Read(argc, argv);</span><br><span class="line">        <span class="keyword">if</span> (po.NumArgs() != <span class="number">2</span>) &#123;</span><br><span class="line">            po.PrintUsage();</span><br><span class="line">            <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">string</span> wav_filename = po.GetArg(<span class="number">1</span>);</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">string</span> mfcc_filename = po.GetArg(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*è¯»å–wavæ–‡ä»¶*/</span></span><br><span class="line">        <span class="built_in">std</span>::ifstream wav_file;</span><br><span class="line">        wav_file.open(wav_filename, <span class="built_in">std</span>::ios_base::binary);</span><br><span class="line">        WaveData wave;</span><br><span class="line">        wave.Read(wav_file);</span><br><span class="line">        SubVector&lt;BaseFloat&gt; waveform(wave.Data(), <span class="number">0</span>);<span class="comment">//å°†wavæ–‡ä»¶æ•°æ®æ”¾åˆ°waveformä¸­</span></span><br><span class="line">              </span><br><span class="line">        <span class="comment">/*mfccç‰¹å¾é…ç½®*/</span></span><br><span class="line">        MfccOptions mfcc_opts;</span><br><span class="line">        mfcc_opts.frame_opts.samp_freq = <span class="number">16000</span>;</span><br><span class="line">        mfcc_opts.frame_opts.frame_length_ms = <span class="number">25</span>;</span><br><span class="line">        mfcc_opts.frame_opts.frame_shift_ms = <span class="number">10</span>;</span><br><span class="line">        mfcc_opts.frame_opts.preemph_coeff = <span class="number">0.95</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*æå–mfccç‰¹å¾*/</span></span><br><span class="line">        Matrix&lt;BaseFloat&gt; mfcc_feature;</span><br><span class="line">        <span class="function">Mfcc <span class="title">feat</span><span class="params">(mfcc_opts)</span></span>;</span><br><span class="line">        feat.ComputeFeatures(waveform, wave.SampFreq(), <span class="number">1.0</span>, &amp;mfcc_feature);</span><br><span class="line">              </span><br><span class="line">        <span class="comment">/*å†™å…¥åˆ°æ–‡ä»¶ä¸­*/</span></span><br><span class="line">        WriteKaldiObject(mfcc_feature,mfcc,<span class="literal">false</span>);</span><br><span class="line">        <span class="comment">//kaldiä¸­éƒ½å¯ä»¥ä½¿ç”¨WriteKaldiObjectæ¥å†™ä½¿ç”¨åˆ°çš„kaldiå¯¹è±¡</span></span><br><span class="line">    &#125;</span><br><span class="line">       </span><br><span class="line">    <span class="keyword">catch</span> (<span class="keyword">const</span> <span class="built_in">std</span>::exception &amp;e) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cerr</span> &lt;&lt; e.what();</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;   </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="kaldiæ¨¡å‹çš„è¯»å–"><a href="#kaldiæ¨¡å‹çš„è¯»å–" class="headerlink" title="kaldiæ¨¡å‹çš„è¯»å–"></a>kaldiæ¨¡å‹çš„è¯»å–</h2><p>åœ¨windowsä¸Šè·‘kaldiï¼Œä¸å¯é¿å…åœ°ä¼šç”¨åˆ°kaldiä¸­çš„I/Oæ¥å£ï¼Œæ¯”å¦‚è¯»å–åœ¨Linuxä¸‹å·²ç»è®­ç»ƒå¥½çš„æ¨¡å‹ç­‰ã€‚kaldiä¸­çš„æ¨¡å‹å¾€å¾€éƒ½æ˜¯ä¸€ä¸ªç±»ï¼Œæ¯”å¦‚è¯´å£°çº¹è¯†åˆ«ä¸­ç”¨åˆ°çš„UBMç±»FullGmmï¼Œæå–ivectorçš„IvectorExtractorç­‰ç­‰ï¼Œå¯¹äºè¿™äº›ç±»çš„æå–éƒ½å¯ä»¥ç”¨ReadKaldiObjectæ¥å®Œæˆ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> kaldi;</span><br><span class="line">FullGmm fgmm;                           <span class="comment">//é¦–å…ˆè¦å£°æ˜æƒ³è¦è¯»å–çš„æ¨¡å‹çš„ç±»</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">string</span> ubmFile = <span class="string">"final.ubm"</span>;    <span class="comment">//ç„¶åç¡®å®šæ–‡ä»¶å</span></span><br><span class="line">ReadKaldiObject(ubmFile, &amp;fgmm);</span><br></pre></td></tr></table></figure><p>å¯¹äºå…¶ä»–çš„æ¨¡å‹ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ç±»ä¼¼çš„æ–¹æ³•æ¥è¯»å–åˆ°å†…å­˜ä¸­ã€‚å¦‚æœæƒ³æŠŠæ¨¡å‹ç­‰å†™å‡ºæ¥ä¹Ÿå¯ä»¥é€šè¿‡WriteKaldiObjectæ¥å®Œæˆã€‚</p><h1 id="kaldiåœ¨Windowsä¸‹çš„ç§»æ¤"><a href="#kaldiåœ¨Windowsä¸‹çš„ç§»æ¤" class="headerlink" title="kaldiåœ¨Windowsä¸‹çš„ç§»æ¤"></a>kaldiåœ¨Windowsä¸‹çš„ç§»æ¤</h1><p>æ­¤å¤„çš„ç§»æ¤æŒ‡çš„æ˜¯èƒ½å¤Ÿä½¿kaldiåœ¨ä¸€å°æ²¡æœ‰å¼€å‘ç¯å¢ƒä¸‹çš„ç”µè„‘ä¸­æ­£å¸¸è¿è¡Œã€‚åˆšå¼€å§‹è¦åšçš„æ—¶å€™æ„Ÿè§‰å¯èƒ½ä¼šæœ‰å„ç§çš„å‘ï¼Œä¸è¿‡å®é™…ä¸­åšè¦æ¯”æƒ³è±¡ä¸­ç®€å•å¾—å¤šï¼Œå¦‚æœä¸Šé¢é…ç½®åŸºæœ¬æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œç§»æ¤çš„è¯ä¹Ÿå°±æ²¡ä»€ä¹ˆé—®é¢˜äº†ã€‚</p><h2 id="ç”Ÿæˆexe"><a href="#ç”Ÿæˆexe" class="headerlink" title="ç”Ÿæˆexe"></a>ç”Ÿæˆexe</h2><p>ç”Ÿæˆexeå…¶å®å¾ˆç®€å•ï¼Œåœ¨æ¯æ¬¡Debugçš„æ—¶å€™éƒ½ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œä¸è¿‡è¦æƒ³åœ¨ä¸€ä¸ªæ²¡æœ‰å¼€å‘ç¯å¢ƒçš„ç”µè„‘ä¸Šä½¿ç”¨ï¼Œè¦ç”¨Releaseæ¥é‡æ–°ç”Ÿæˆä¸€ä¸‹ã€‚æˆ‘ä»¬å¯ä»¥ç”¨main(int argc, char * argv[])æ¥è¯»å–å‘½ä»¤è¡Œçš„å‚æ•°ï¼Œç„¶åå¯ä»¥ç”¨ParseOptions po(Usage);æ¥æ§åˆ¶è¾“å…¥çš„å‚æ•°ï¼Œå…·ä½“å‚è€ƒä¸Šé¢æå–mfccçš„ä»£ç ï¼Œè¿™é‡Œå°±ä¸åšè¿‡å¤šçš„ä»‹ç»äº†ã€‚åœ¨ç§»æ¤è¿‡ç¨‹ä¸­è¿˜é‡åˆ°çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯ç¼ºå°‘ä¸€äº›dllï¼Œä¸»è¦æ˜¯mingwçš„ä¸€äº›dllï¼Œè§£å†³æ–¹æ³•è§ä¸‹é¢é‡åˆ°çš„é—®é¢˜ã€‚</p><h2 id="ç”Ÿæˆdll"><a href="#ç”Ÿæˆdll" class="headerlink" title="ç”Ÿæˆdll"></a>ç”Ÿæˆdll</h2><p>å¦‚æœæƒ³ç”Ÿæˆdllæ‰“åŒ…ç»™å…¶ä»–ç¨‹åºç”¨ï¼Œå°±éœ€è¦åœ¨æƒ³è¦çš„å‡½æ•°çš„å‰é¢åŠ ä¸Š</p><ul><li style="list-style: none"><input type="checkbox"> æœªå®Œå¾…ç»­</li></ul><h1 id="é‡åˆ°çš„é—®é¢˜è®°å½•"><a href="#é‡åˆ°çš„é—®é¢˜è®°å½•" class="headerlink" title="é‡åˆ°çš„é—®é¢˜è®°å½•"></a>é‡åˆ°çš„é—®é¢˜è®°å½•</h1><h2 id="cmakeç”ŸæˆOpenfstå·¥ç¨‹æ–‡ä»¶å¤±è´¥"><a href="#cmakeç”ŸæˆOpenfstå·¥ç¨‹æ–‡ä»¶å¤±è´¥" class="headerlink" title="cmakeç”ŸæˆOpenfstå·¥ç¨‹æ–‡ä»¶å¤±è´¥"></a>cmakeç”ŸæˆOpenfstå·¥ç¨‹æ–‡ä»¶å¤±è´¥</h2><p>æ ¹æ®é”™è¯¯æç¤ºï¼Œåº”è¯¥æ˜¯ç¼ºå°‘äº†fst_test.h weight-tester.h algo_test.hï¼Œåœ¨openfst/srcç›®å½•ä¸‹æœç´¢è¿™å‡ ä¸ªæ–‡ä»¶ï¼Œå‘ç°éƒ½åœ¨openfst\src\include\fst\testä¸­ï¼Œäºæ˜¯æŠŠå‡ ä¸ªæ–‡ä»¶éƒ½å¤åˆ¶è¿‡æ¥ï¼Œç„¶åå†æ‰§è¡Œé‚£æ¡cmakeçš„å‘½ä»¤ï¼Œå°±å¯ä»¥æˆåŠŸäº†~ã€‚</p><h2 id="ç¼ºå°‘libopenblas-dll"><a href="#ç¼ºå°‘libopenblas-dll" class="headerlink" title="ç¼ºå°‘libopenblas.dll"></a>ç¼ºå°‘libopenblas.dll</h2><p>å½“åœ¨å‘½ä»¤è¡Œæˆ–git bashä¸­è¿è¡Œç”Ÿæˆå¥½çš„exeæ—¶ï¼Œä¼šæŠ¥é”™ç¼ºå°‘libopenblas.dllï¼š</p><p>æˆ‘ä»¬éœ€è¦å°†ä¹‹å‰ä¸‹è½½çš„OpenBLASä¸­binç›®å½•ä¸‹çš„libopenblas.dllæ‹·åˆ°å’Œexeæ–‡ä»¶åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­å°±å¯ä»¥æ‰§è¡Œäº†ã€‚</p><h2 id="mingw-dllä¸‹è½½"><a href="#mingw-dllä¸‹è½½" class="headerlink" title="mingw dllä¸‹è½½"></a>mingw dllä¸‹è½½</h2><p>åŒ…æ‹¬libgcc_s_seh-1.dll libgfortran-3.dll libquadmath-0.dllï¼Œä¸‹è½½ååŒæ ·éœ€è¦æ”¾åˆ°å’ŒexeåŒä¸€ç›®å½•ä¸‹ã€‚<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -L -O http://sourceforge.net/projects/openblas/files/v0.2.14/mingw64_dll.zip</span><br><span class="line">unzip mingw64_dll.zip</span><br></pre></td></tr></table></figure></p><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p>å®˜æ–¹Windowsä¸‹å®‰è£…æŒ‡å—ï¼š<br><a href="https://github.com/kaldi-asr/kaldi/blob/master/windows/INSTALL.md" target="_blank" rel="noopener">https://github.com/kaldi-asr/kaldi/blob/master/windows/INSTALL.md</a><br>ä¸€ä¸ªä¸­æ–‡çš„å®‰è£…è¯´æ˜ï¼š<br><a href="https://www.jianshu.com/p/5494d6607789" target="_blank" rel="noopener">https://www.jianshu.com/p/5494d6607789</a><br>Windowsä¸‹å®‰è£…å¸¸è§çš„é—®é¢˜ï¼š<br><a href="https://blog.csdn.net/qq_25867649/article/details/78356474?locationNum=8&amp;fps=1" target="_blank" rel="noopener">https://blog.csdn.net/qq_25867649/article/details/78356474?locationNum=8&amp;fps=1</a><br>kaldiä¸­IOæ¥å£ä»‹ç»ï¼š<br><a href="http://kaldi-asr.org/doc/io.html" target="_blank" rel="noopener">http://kaldi-asr.org/doc/io.html</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å…¶å®ä¸æ˜¯ç‰¹åˆ«æ¨èåœ¨Windowsä¸‹ä½¿ç”¨kaldiï¼Œå› ä¸ºåœ¨egsä¸‹æ‰€æœ‰çš„è„šæœ¬éƒ½æ— æ³•è¿è¡Œï¼Œæˆ‘ä¹Ÿæ˜¯å¼„äº†å¾ˆä¹…æ‰åœ¨Windowsä¸‹é…ç½®å¥½kaldiï¼Œéƒ½ä¸€åº¦å·®ç‚¹å¼ƒå‘ã€‚å°±è¿å®˜æ–¹ä¹Ÿè¯´&lt;strong&gt;There is no commitment to support Windows. The Windows port of Kaldi is targeted at experienced developers who want to program their own apps using the kaldi libraries and are able to do the troubleshooting on their own.&lt;/strong&gt;å°±è®©æˆ‘æ¥æŠŠå‘å¡«å¹³é‚£ä¹ˆä¸€ç‚¹ç‚¹å§ğŸ§&lt;br&gt;
    
    </summary>
    
      <category term="å£°çº¹è¯†åˆ«" scheme="http://yutouwd.github.io/categories/%E5%A3%B0%E7%BA%B9%E8%AF%86%E5%88%AB/"/>
    
      <category term="kaldi" scheme="http://yutouwd.github.io/categories/%E5%A3%B0%E7%BA%B9%E8%AF%86%E5%88%AB/kaldi/"/>
    
    
      <category term="å£°çº¹è¯†åˆ«" scheme="http://yutouwd.github.io/tags/%E5%A3%B0%E7%BA%B9%E8%AF%86%E5%88%AB/"/>
    
      <category term="kaldi" scheme="http://yutouwd.github.io/tags/kaldi/"/>
    
      <category term="Visual Studio" scheme="http://yutouwd.github.io/tags/Visual-Studio/"/>
    
  </entry>
  
  <entry>
    <title>åšå®¢æŠ˜è…¾è®°å½•</title>
    <link href="http://yutouwd.github.io/posts/87e6cb09/"/>
    <id>http://yutouwd.github.io/posts/87e6cb09/</id>
    <published>2019-02-18T15:17:59.000Z</published>
    <updated>2019-04-03T09:39:27.312Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>ä¹‹å‰ä¸€ç›´æ²¡æœ‰è®°å½•ä¿®æ”¹&amp;ä¼˜åŒ–åšå®¢çš„è¿‡ç¨‹ï¼Œå…¶å®è¿™æ˜¯ä¸€ä¸ªä¸å¤ªå¥½çš„ä¹ æƒ¯ï¼Œç°åœ¨éƒ½å¿˜äº†è‡ªå·±ä¿®æ”¹è¿‡å“ªäº›åœ°æ–¹äº†(è™½ç„¶vscodeå¯ä»¥æ ‡å‡ºæ¥)ï¼Œå“ªäº›ä¿®æ”¹å¯¹åº”äº†ç½‘ç«™å“ªäº›å˜åŒ–ã€‚æ‰€ä»¥è¿˜æ˜¯è¦è®°å½•ä¸€ä¸‹ä¿®æ”¹çš„è®°å½•ï¼Œä¸ºæ–¹ä¾¿æ—¥åå¯¹åšå®¢æŒç»­ä¼˜åŒ–ã€‚</p><h2 id="things-to-do"><a href="#things-to-do" class="headerlink" title="things to do"></a>things to do</h2><ul><li style="list-style: none"><input type="checkbox" checked> ä¿®æ”¹ç«™ç‚¹ä¸‹åšå®¢æ–‡ç« å­˜æ”¾ç›®å½•</li><li style="list-style: none"><input type="checkbox" checked> ä¾§è¾¹æ tocè‡ªåŠ¨å±•å¼€</li><li style="list-style: none"><input type="checkbox" checked> è¯„è®ºç³»ç»Ÿæ›´æ¢ä¸ºvaline</li><li style="list-style: none"><input type="checkbox"> ç«™ç‚¹è‡ªåŠ¨å¤‡ä»½ç³»ç»Ÿ</li><li style="list-style: none"><input type="checkbox"> æ–‡ç« åˆ†ç±»ã€å½’æ¡£é¡µé¢ä¼˜åŒ–</li><li style="list-style: none"><input type="checkbox"> ä»£ç å—ä¼˜åŒ–</li><li style="list-style: none"><input type="checkbox" checked> nextç‰ˆæœ¬å‡çº§</li><li style="list-style: none"><input type="checkbox"> SEOä¼˜åŒ–</li><li style="list-style: none"><input type="checkbox"> leetcodeæ–‡ç« å½’æ¡£</li></ul><a id="more"></a><h2 id="ä¿®æ”¹ç«™ç‚¹ä¸‹åšå®¢æ–‡ç« å­˜æ”¾ç›®å½•"><a href="#ä¿®æ”¹ç«™ç‚¹ä¸‹åšå®¢æ–‡ç« å­˜æ”¾ç›®å½•" class="headerlink" title="ä¿®æ”¹ç«™ç‚¹ä¸‹åšå®¢æ–‡ç« å­˜æ”¾ç›®å½•"></a>ä¿®æ”¹ç«™ç‚¹ä¸‹åšå®¢æ–‡ç« å­˜æ”¾ç›®å½•</h2><p>è¿™ä¸ªå…¶å®æ˜¯åœ¨æ‰¾è§£å†³å¦‚ä½•å°†ä¾§è¾¹æ tocè‡ªåŠ¨å±•å¼€æ—¶ï¼Œæ‰¾åˆ°ä¸€ç¯‡<a href="https://blog.dongleizhang.com/posts/32005d86/" target="_blank" rel="noopener">åšå®¢</a>æ— æ„ä¸­å‘ç°çš„ã€‚åŸæ¥é‚£ç§å¹´/æœˆ/æ—¥â€¦çš„æ–¹å¼çœŸçš„å¤ªæŒ«äº†ï¼Œäºæ˜¯å°±æŒ‰ç…§ä»–çš„è¿™ç§æ–¹å¼ï¼Œç”Ÿæˆä¸€ä¸ªæ°¸ä¹…é“¾æ¥ã€‚<br>é¦–å…ˆå®‰è£…hexo-abbrlinkæ’ä»¶ï¼Œä½¿ç”¨å‘½ä»¤ npm install hexo-abbrlink â€“save å³å¯ã€‚ç„¶åéœ€è¦åœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼Œå³hexoç›®å½•ä¸‹çš„_config.ymlæ–‡ä»¶ä¸­ä¿®æ”¹ permalink: :year/:month/:day/:title/ ä¸ºä¸€ä¸‹å†…å®¹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">permalink: posts/:abbrlink/</span><br><span class="line">abbrlink:</span><br><span class="line">  alg: crc32  <span class="comment">#support crc16(default) and crc32</span></span><br><span class="line">  rep: hex    <span class="comment">#support dec(default) and hex</span></span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨hexo cleanå’Œhexo g &amp;&amp; hexo då³å¯ã€‚ä¸è¿‡ä»¤äººä¼¤å¿ƒçš„æ˜¯ï¼Œåœ¨é‡æ–°ç”Ÿæˆæ–‡ç« é“¾æ¥ååŸæ¥çš„é˜…è¯»é‡ä¹Ÿéšä¹‹æ¸…é›¶äº†ğŸ˜­ï¼Œæˆ‘è¿™å¯æ€œçš„é˜…è¯»é‡ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™æ‰èƒ½å››ä½æ•°å•Šã€‚</p><h2 id="ä¾§è¾¹æ tocè‡ªåŠ¨å±•å¼€"><a href="#ä¾§è¾¹æ tocè‡ªåŠ¨å±•å¼€" class="headerlink" title="ä¾§è¾¹æ tocè‡ªåŠ¨å±•å¼€"></a>ä¾§è¾¹æ tocè‡ªåŠ¨å±•å¼€</h2><p>ç›®å‰åœ¨githubä¸Šæ‰¾åˆ°äº†å‡ ä¸ªissue:<a href="https://github.com/theme-next/hexo-theme-next/issues/307" target="_blank" rel="noopener">#307</a> <a href="https://github.com/iissnan/hexo-theme-next/issues/531" target="_blank" rel="noopener">#531</a> <a href="https://github.com/iissnan/hexo-theme-next/issues/710" target="_blank" rel="noopener">#710</a><br>å…·ä½“çš„è§£å†³æ–¹æ³•å°±æ˜¯åœ¨themes/next/source/_custom/custom.stylä¸­åŠ å…¥ä»¥ä¸‹ä»£ç ï¼Œå¯ä»¥è‡ªåŠ¨å±•å¼€äºŒçº§æ ‡é¢˜ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.post-toc .nav .nav-level-1&gt;.nav-child &#123; </span><br><span class="line">   display: block; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="è¯„è®ºç³»ç»Ÿæ›´æ¢ä¸ºvaline"><a href="#è¯„è®ºç³»ç»Ÿæ›´æ¢ä¸ºvaline" class="headerlink" title="è¯„è®ºç³»ç»Ÿæ›´æ¢ä¸ºvaline"></a>è¯„è®ºç³»ç»Ÿæ›´æ¢ä¸ºvaline</h2><p>çœŸçš„å—ä¸äº†disqusï¼Œé¦–å…ˆè¢«æ²³èŸ¹äº†ï¼Œç„¶åå³ä½¿èƒ½åŠ è½½ä¹Ÿéå¸¸çš„æ…¢ï¼Œç•Œé¢ä¹Ÿååˆ†çš„ä¸‘ã€‚ä»Šå¤©çœ‹åˆ°ä¸€äº›åšå®¢ç”¨äº†valineå‘ç°æ¯”disquså¥½çœ‹å¤šäº†ï¼ŒæŠ½æ—¶é—´èµ¶ç´§æŠŠè¿™ä¸ªç»™æ”¹äº†ã€‚<br>ä¸€å¼€å§‹å¼„å¥½äº†ï¼Œä½†æ˜¯å‘ç°åˆ·æ–°åè¯„è®ºå°±ä¼šæ¶ˆå¤±ã€‚åæ¥åœ¨githubä¸Šé—®äº†ä¸‹<a href="https://github.com/xCss/Valine/issues/159" target="_blank" rel="noopener">#159</a>ï¼ŒåŸæ¥valineå’Œnextè‡ªå¸¦çš„ç»Ÿè®¡é˜…è¯»é‡ä¼šæœ‰å†²çªã€‚ç„¶åè¿˜å‘ç°ä¸€ä¸ªå¾ˆä¸¥é‡çš„é—®é¢˜ï¼Œä¸€å¼€å§‹åœ¨é€‰ä¸»é¢˜çš„æ—¶å€™æ²¡æœ‰ä»”ç»†è°ƒç ”ï¼Œå°±ä¸‹äº†æ—§çš„nextç‰ˆæœ¬5.1.4ã€‚ç°åœ¨æœ€æ–°çš„nextç‰ˆæœ¬å·²ç»åˆ°6ç‚¹å¤šï¼Œå¹¶ä¸”åœ¨å¦å¤–ä¸€ä¸ªä»“åº“ä¸­ã€‚æ‰€ä»¥åˆæƒ³æŠŠnextæ¢æˆæœ€æ–°çš„ç‰ˆæœ¬ã€‚</p><h2 id="ç«™ç‚¹è‡ªåŠ¨å¤‡ä»½ç³»ç»Ÿ"><a href="#ç«™ç‚¹è‡ªåŠ¨å¤‡ä»½ç³»ç»Ÿ" class="headerlink" title="ç«™ç‚¹è‡ªåŠ¨å¤‡ä»½ç³»ç»Ÿ"></a>ç«™ç‚¹è‡ªåŠ¨å¤‡ä»½ç³»ç»Ÿ</h2><p><a href="https://notes.doublemine.me/2015-07-06-%E8%87%AA%E5%8A%A8%E5%A4%87%E4%BB%BDHexo%E5%8D%9A%E5%AE%A2%E6%BA%90%E6%96%87%E4%BB%B6.html" target="_blank" rel="noopener">https://notes.doublemine.me/2015-07-06-%E8%87%AA%E5%8A%A8%E5%A4%87%E4%BB%BDHexo%E5%8D%9A%E5%AE%A2%E6%BA%90%E6%96%87%E4%BB%B6.html</a></p><h2 id="æ–‡ç« åˆ†ç±»ã€å½’æ¡£é¡µé¢ä¼˜åŒ–"><a href="#æ–‡ç« åˆ†ç±»ã€å½’æ¡£é¡µé¢ä¼˜åŒ–" class="headerlink" title="æ–‡ç« åˆ†ç±»ã€å½’æ¡£é¡µé¢ä¼˜åŒ–"></a>æ–‡ç« åˆ†ç±»ã€å½’æ¡£é¡µé¢ä¼˜åŒ–</h2><p>æŸ¥äº†ä¸€ä¸‹æ‰å‘ç°ï¼ŒåŸæ¥hexoå·²ç»æ”¯æŒäºŒçº§åˆ†ç±»äº†</p><h2 id="ä»£ç å—ä¼˜åŒ–"><a href="#ä»£ç å—ä¼˜åŒ–" class="headerlink" title="ä»£ç å—ä¼˜åŒ–"></a>ä»£ç å—ä¼˜åŒ–</h2><p>ä»£ç å—macé£æ ¼<br><a href="https://blog.ihoey.com/posts/Hexo/2018-05-27-hexo-code-block.html" target="_blank" rel="noopener">https://blog.ihoey.com/posts/Hexo/2018-05-27-hexo-code-block.html</a><br>ä»£ç å—å¤åˆ¶(åœ¨next7.0ä¸­å·²ç»é›†æˆäº†ä»£ç å—å¤åˆ¶åŠŸèƒ½)<br><a href="https://qiming.info/Hexo%E5%8D%9A%E5%AE%A2%E4%B8%AD%E5%8A%A0%E5%85%A5%E4%BB%A3%E7%A0%81%E5%9D%97%E5%A4%8D%E5%88%B6%E5%8A%9F%E8%83%BD/" target="_blank" rel="noopener">https://qiming.info/Hexo%E5%8D%9A%E5%AE%A2%E4%B8%AD%E5%8A%A0%E5%85%A5%E4%BB%A3%E7%A0%81%E5%9D%97%E5%A4%8D%E5%88%B6%E5%8A%9F%E8%83%BD/</a></p><h2 id="nextç‰ˆæœ¬å‡çº§"><a href="#nextç‰ˆæœ¬å‡çº§" class="headerlink" title="nextç‰ˆæœ¬å‡çº§"></a>nextç‰ˆæœ¬å‡çº§</h2><p>å‡çº§åˆ°7.0ï¼Œå…ˆå°†å°±çš„themes/nextæ–‡ä»¶å¤¹é‡å‘½åä¸ºnext-oldï¼Œç„¶ååœ¨æŠŠæœ€æ–°çš„nextä¸‹è½½åˆ°themes/nextä¸­ï¼Œåœ¨æŠŠä¹‹å‰çš„ä¸€äº›é…ç½®ä¿®æ”¹ä¸€ä¸‹ã€‚ä¸çŸ¥é“ä¸ºä»€ä¹ˆæ–°çš„å­—æ•°ç»Ÿè®¡åŠ è½½ä¸å‡ºæ¥ï¼Œè¿˜æ˜¯æƒ³ç”¨å›åŸæ¥çš„ã€‚ç°åœ¨next-old/_config.ymlä¸­æ‰¾åˆ°åŸæ¥çš„wordcountè®¾ç½®å­—æ®µå¤åˆ¶åˆ°æ–°çš„nextçš„_cogfig.ymlä¸­ã€‚å…ˆæ‰¾åˆ°äº†æ•´ä¸ªç½‘ç«™é¡µä½çš„å­—æ•°ç»Ÿè®¡æ˜¯åœ¨theme/next/layout/footer.swigä¸­è®¾ç½®çš„ã€‚å°†æ—§çš„wordcountçš„è®¾ç½®å¤åˆ¶è¿‡å»ï¼Œå°±å¯ä»¥äº†ã€‚<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.post_wordcount.totalcount %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-divider"</span>&gt;</span>|<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-item-icon"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-area-chart"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  &#123;% if theme.post_wordcount.item_text %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-item-text"</span>&gt;</span>&#123;&#123; __('æ–‡å­—æ€»æ•°') &#125;&#125;&amp;#58;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">title</span>=<span class="string">"&#123;&#123; __('post.totalcount') &#125;&#125;"</span>&gt;</span>&#123;#</span><br><span class="line">  #&#125;&#123;&#123; totalcount(site, '0,0.0a') &#125;&#125;&#123;#</span><br><span class="line">#&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></p><p>ç„¶åè¿˜éœ€è¦ä¿®æ”¹æ¯ç¯‡æ–‡ç« ä¸Šçš„æ˜¾ç¤ºè®¾ç½®ï¼Œåœ¨æ—§çš„nextä¸»é¢˜githubåœ°å€<a href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="noopener">https://github.com/iissnan/hexo-theme-next</a> ä¸­æœç´¢ post_wordcount å¯ä»¥æ‰¾åˆ°åœ¨next/layout/_marco/post.swigä¸­æœ‰ç”¨åˆ°ï¼Œé‚£ä¹ˆè¿™é‡Œå°±åº”è¯¥æ˜¯è®¾ç½®æ¯ç¯‡æ–‡ç« çš„å­—æ•°ç»Ÿè®¡çš„åœ°æ–¹ã€‚å†æŠŠæ—§çš„å’Œæ–°çš„å¯¹æ¯”ä¸€ä¸‹æŠŠæ—§çš„åŒ…æ‹¬post_wordcountçš„ä»£ç å¤åˆ¶è¿‡å»ï¼Œå°±å¤§åŠŸå‘Šæˆã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.post_wordcount.wordcount or theme.post_wordcount.min2read %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"post-wordcount"</span>&gt;</span></span><br><span class="line">    &#123;% if theme.post_wordcount.wordcount %&#125;</span><br><span class="line">      &#123;% if not theme.post_wordcount.separated_meta %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-divider"</span>&gt;</span>|<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      &#123;% endif %&#125;</span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-item-icon"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-file-word-o"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      &#123;% if theme.post_wordcount.item_text %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-item-text"</span>&gt;</span>&#123;&#123; __('å­—æ•°ç»Ÿè®¡') &#125;&#125;&amp;#58;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      &#123;% endif %&#125;</span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">title</span>=<span class="string">"&#123;&#123; __('post.wordcount') &#125;&#125;"</span>&gt;</span></span><br><span class="line">        &#123;&#123; wordcount(post.content) &#125;&#125;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line"></span><br><span class="line">    &#123;% if theme.post_wordcount.wordcount and theme.post_wordcount.min2read %&#125;</span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-divider"</span>&gt;</span>|<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line"></span><br><span class="line">    &#123;% if theme.post_wordcount.min2read %&#125;</span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-item-icon"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-clock-o"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      &#123;% if theme.post_wordcount.item_text %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-item-text"</span>&gt;</span>&#123;&#123; __('é˜…è¯»æ—¶é—´') &#125;&#125; &amp;asymp;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      &#123;% endif %&#125;</span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">title</span>=<span class="string">"&#123;&#123; __('post.min2read') &#125;&#125;"</span>&gt;</span></span><br><span class="line">        &#123;&#123; min2read(post.content) &#125;&#125;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><h2 id="SEOä¼˜åŒ–"><a href="#SEOä¼˜åŒ–" class="headerlink" title="SEOä¼˜åŒ–"></a>SEOä¼˜åŒ–</h2><p>ç»ˆäºç©ºä¸‹æ¥æœ‰æ—¶é—´å¼„å¼„åšå®¢å•¦ï¼Œé¦–å…ˆå°±æ˜¯æ„Ÿè§‰æŠŠSEOå¼„äº†ï¼Œä¸€ç›´éƒ½æ‹–äº†å¥½ä¹…ã€‚SEOä¸»è¦å‚è€ƒäº†è¿™ç¯‡åšå®¢<a href="https://blog.csdn.net/qq_34149805/article/details/84894713" target="_blank" rel="noopener">https://blog.csdn.net/qq_34149805/article/details/84894713</a>å’Œ<a href="https://www.jianshu.com/p/c20bb9df1867" target="_blank" rel="noopener">https://www.jianshu.com/p/c20bb9df1867</a>ä»¥åŠ<a href="https://felixxiong.github.io/2018/10/06/%E5%8D%9A%E5%AE%A2SEO%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E4%BC%98%E5%8C%96/" target="_blank" rel="noopener">https://felixxiong.github.io/2018/10/06/%E5%8D%9A%E5%AE%A2SEO%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E4%BC%98%E5%8C%96/</a></p><p>ä¸è¿‡ç°åœ¨å¡åœ¨ç™¾åº¦çš„è®¤è¯ä¸Šäº†ï¼Œä¸‹è½½è®¤è¯æ–‡ä»¶æ”¾åˆ°nextä¸»é¢˜ç›®å½•çš„è·¯å¾„ä¸‹ï¼Œä¼šæ˜¾ç¤ºéªŒè¯å¤±è´¥ï¼šâ€œæ‚¨çš„ç«™ç‚¹æœ‰é“¾æ¥æœªé€šè¿‡httpsæ ¡éªŒâ€œé»‘äººé—®å·ï¼Ÿï¼Ÿï¼Ÿ</p><h2 id="leetcodeæ–‡ç« å½’æ¡£"><a href="#leetcodeæ–‡ç« å½’æ¡£" class="headerlink" title="leetcodeæ–‡ç« å½’æ¡£"></a>leetcodeæ–‡ç« å½’æ¡£</h2><p>æƒ³æ³•æ˜¯å†™leetcodeçš„æ–‡ç« ä¸ä¼šè‡ªåŠ¨æ˜¾ç¤ºåœ¨ä¸»é¡µä¸Šï¼Œç„¶åæ–°å»ºä¸€ä¸ªpageï¼Œé‡Œé¢ä¸“é—¨æ”¶å½•å†™çš„å…³äºleetcoedeçš„æ–‡ç« ã€‚å¯ä»¥åœ¨scaffoldsç›®å½•ä¸­æ–°å»ºä¸€ä¸ªleet.mdï¼Œä»¥åç›´æ¥ç”¨hexo new leet [leeté¢˜ç›®]è¿™æ ·æ–¹å¼æ¥æ–°å»ºä¸€ä¸ªæ–‡ç« ã€‚å°†æ–‡ç« ä¸æ˜¾ç¤ºåœ¨ä¸»é¡µçš„æ–¹æ³•å‚è€ƒè¿™ç¯‡æ–‡ç« <a href="https://www.jianshu.com/p/79fe9fb9dfa0" target="_blank" rel="noopener">https://www.jianshu.com/p/79fe9fb9dfa0</a>ï¼Œä¿®æ”¹å¥½ä¹‹åï¼Œå°±åœ¨leet.mdä¸­åŠ ä¸Šnotshow: trueï¼Œä»¥åæ–°å»ºå°±å¯ä»¥è‡ªåŠ¨è®¾ç½®ä¸ºä¸æ˜¾ç¤ºäº†ã€‚</p><p>ç„¶åè¿˜æƒ³å¼„ä¸€ä¸ªç±»ä¼¼äºgithubä¸Šä¸ªäººä¸»é¡µé‚£ç§æ—¥å†è¡¨ï¼Œå¦‚æœæœ‰ä¸€å¤©æœ‰åšé¢˜çš„è¯ï¼Œå°±ä¼šè®¾ç½®æˆç»¿è‰²ã€‚æ‰¾äº†ä¸‹ï¼Œå‘ç°å¯ä»¥é€šè¿‡baiduçš„echartæˆ–è€…google chartæ¥å®ç°ã€‚baiduçš„å¥½å¤„å°±æ˜¯æœ‰ä¸­æ–‡çš„æ–‡æ¡£ï¼Œgoogleçš„ä¾‹å­ä¼¼ä¹æ›´å¥½çœ‹ä¸€äº›ï¼Œä½†æ˜¯ä¸çŸ¥é“ä¼šä¸ä¼šè¢«emmmmï¼Œå°±è¿˜æ˜¯å…ˆè¯•è¯•ç™¾åº¦çš„å§ã€‚åªè¦<strong>npm install hexo-tag-echarts3 â€“save</strong>å°±å¯ä»¥æ¥ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªechartæµ‹è¯•ï¼š</p><div id="echarts3582" style="width: 85%;height: 400px;margin: 0 auto"></div><script src="https://cdn.bootcss.com/echarts/3.8.0/echarts.common.min.js"></script><script type="text/javascript">        // åŸºäºå‡†å¤‡å¥½çš„domï¼Œåˆå§‹åŒ–echartså®ä¾‹        var myChart = echarts.init(document.getElementById('echarts3582'));        // æŒ‡å®šå›¾è¡¨çš„é…ç½®é¡¹å’Œæ•°æ®        var option = {    tooltip : {        trigger: 'axis',        axisPointer : {            // åæ ‡è½´æŒ‡ç¤ºå™¨ï¼Œåæ ‡è½´è§¦å‘æœ‰æ•ˆ            type : 'shadow'        // é»˜è®¤ä¸ºç›´çº¿ï¼Œå¯é€‰ä¸ºï¼š'line' | 'shadow'        }    },    legend: {        data:['åˆ©æ¶¦', 'æ”¯å‡º', 'æ”¶å…¥']    },    grid: {        left: '3%',        right: '4%',        bottom: '3%',        containLabel: true    },    xAxis : [        {            type : 'value'        }    ],    yAxis : [        {            type : 'category',            axisTick : {show: false},            data : ['å‘¨ä¸€','å‘¨äºŒ','å‘¨ä¸‰','å‘¨å››','å‘¨äº”','å‘¨å…­','å‘¨æ—¥']        }    ],    series : [        {            name:'åˆ©æ¶¦',            type:'bar',            itemStyle : {                normal: {                    label: {show: true, position: 'inside'}                }            },            data:[200, 170, 240, 244, 200, 220, 210]        },        {            name:'æ”¶å…¥',            type:'bar',            stack: 'æ€»é‡',            itemStyle: {                normal: {                    label : {show: true}                }            },            data:[320, 302, 341, 374, 390, 450, 420]        },        {            name:'æ”¯å‡º',            type:'bar',            stack: 'æ€»é‡',            itemStyle: {normal: {                label : {show: true, position: 'left'}            }},            data:[-120, -132, -101, -134, -190, -230, -210]        }    ]};        // ä½¿ç”¨åˆšæŒ‡å®šçš„é…ç½®é¡¹å’Œæ•°æ®æ˜¾ç¤ºå›¾è¡¨ã€‚        myChart.setOption(option);</script><p>å¯ä»¥ç‚¹å‡»ä¸Šæ–¹çš„åˆ©æ¶¦ã€æ”¶å…¥ã€æ”¯å‡ºæ¥è®¾ç½®æ˜¾ç¤ºå’Œä¸æ˜¾ç¤ºï¼Œè¿˜æ˜¯å¾ˆç‚«é…·æ»´ğŸ•¶ï¸ï¼Œæ¥ä¸‹æ¥è¯•ä¸‹æ—¥å†è¡¨ï¼š</p><div id="echarts3430" style="width: 85%;height: 400px;margin: 0 auto"></div><script src="https://cdn.bootcss.com/echarts/3.8.0/echarts.common.min.js"></script><script type="text/javascript">        // åŸºäºå‡†å¤‡å¥½çš„domï¼Œåˆå§‹åŒ–echartså®ä¾‹        var myChart = echarts.init(document.getElementById('echarts3430'));        // æŒ‡å®šå›¾è¡¨çš„é…ç½®é¡¹å’Œæ•°æ®        var option = option = {    title: {        top: 30,        left: 'center',        text: '2016å¹´æŸäººæ¯å¤©çš„æ­¥æ•°'    },    tooltip : {},    visualMap: {        min: 0,        max: 10000,        type: 'piecewise',        orient: 'horizontal',        left: 'center',        top: 65,        textStyle: {            color: '#000'        }    },    calendar: {        top: 120,        left: 30,        right: 30,        cellSize: ['auto', 13],        range: '2019',        itemStyle: {            normal: {borderWidth: 0.5}        },        yearLabel: {show: false}    },    series: {        type: 'heatmap',        coordinateSystem: 'calendar',        data: [Date(2019,1,1),10000]    }};        // ä½¿ç”¨åˆšæŒ‡å®šçš„é…ç½®é¡¹å’Œæ•°æ®æ˜¾ç¤ºå›¾è¡¨ã€‚        myChart.setOption(option);</script><p>å¥½å§ï¼Œå¥½åƒä¸èƒ½æ˜¾ç¤ºâ€¦ä¸çŸ¥é“æ˜¯å› ä¸ºechartæ²¡å†™å¥½è¿˜æ˜¯ä¸æ”¯æŒâ€¦é‚£å°±å…ˆæç½®ä¸‹æ¥ï¼Œä»¥åæœ‰æ—¶é—´å°±è¯•è¯•googleçš„å§ï¼Œä½†æ˜¯hexoä¸­google chartçš„æ’ä»¶æœ€åä¸€æ¬¡æ›´æ–°å·²ç»æ˜¯4å¹´å‰äº†ã€‚</p><h2 id="æ•™ç¨‹æ”¶è—"><a href="#æ•™ç¨‹æ”¶è—" class="headerlink" title="æ•™ç¨‹æ”¶è—"></a>æ•™ç¨‹æ”¶è—</h2><p><a href="http://yearito.cn/tags/Hexo/" target="_blank" rel="noopener">http://yearito.cn/tags/Hexo/</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¹‹å‰ä¸€ç›´æ²¡æœ‰è®°å½•ä¿®æ”¹&amp;amp;ä¼˜åŒ–åšå®¢çš„è¿‡ç¨‹ï¼Œå…¶å®è¿™æ˜¯ä¸€ä¸ªä¸å¤ªå¥½çš„ä¹ æƒ¯ï¼Œç°åœ¨éƒ½å¿˜äº†è‡ªå·±ä¿®æ”¹è¿‡å“ªäº›åœ°æ–¹äº†(è™½ç„¶vscodeå¯ä»¥æ ‡å‡ºæ¥)ï¼Œå“ªäº›ä¿®æ”¹å¯¹åº”äº†ç½‘ç«™å“ªäº›å˜åŒ–ã€‚æ‰€ä»¥è¿˜æ˜¯è¦è®°å½•ä¸€ä¸‹ä¿®æ”¹çš„è®°å½•ï¼Œä¸ºæ–¹ä¾¿æ—¥åå¯¹åšå®¢æŒç»­ä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;h2 id=&quot;things-to-do&quot;&gt;&lt;a href=&quot;#things-to-do&quot; class=&quot;headerlink&quot; title=&quot;things to do&quot;&gt;&lt;/a&gt;things to do&lt;/h2&gt;&lt;ul&gt;
&lt;li style=&quot;list-style: none&quot;&gt;&lt;input type=&quot;checkbox&quot; checked&gt; ä¿®æ”¹ç«™ç‚¹ä¸‹åšå®¢æ–‡ç« å­˜æ”¾ç›®å½•&lt;/li&gt;
&lt;li style=&quot;list-style: none&quot;&gt;&lt;input type=&quot;checkbox&quot; checked&gt; ä¾§è¾¹æ tocè‡ªåŠ¨å±•å¼€&lt;/li&gt;
&lt;li style=&quot;list-style: none&quot;&gt;&lt;input type=&quot;checkbox&quot; checked&gt; è¯„è®ºç³»ç»Ÿæ›´æ¢ä¸ºvaline&lt;/li&gt;
&lt;li style=&quot;list-style: none&quot;&gt;&lt;input type=&quot;checkbox&quot;&gt; ç«™ç‚¹è‡ªåŠ¨å¤‡ä»½ç³»ç»Ÿ&lt;/li&gt;
&lt;li style=&quot;list-style: none&quot;&gt;&lt;input type=&quot;checkbox&quot;&gt; æ–‡ç« åˆ†ç±»ã€å½’æ¡£é¡µé¢ä¼˜åŒ–&lt;/li&gt;
&lt;li style=&quot;list-style: none&quot;&gt;&lt;input type=&quot;checkbox&quot;&gt; ä»£ç å—ä¼˜åŒ–&lt;/li&gt;
&lt;li style=&quot;list-style: none&quot;&gt;&lt;input type=&quot;checkbox&quot; checked&gt; nextç‰ˆæœ¬å‡çº§&lt;/li&gt;
&lt;li style=&quot;list-style: none&quot;&gt;&lt;input type=&quot;checkbox&quot;&gt; SEOä¼˜åŒ–&lt;/li&gt;
&lt;li style=&quot;list-style: none&quot;&gt;&lt;input type=&quot;checkbox&quot;&gt; leetcodeæ–‡ç« å½’æ¡£&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="ä¸ªäººåšå®¢" scheme="http://yutouwd.github.io/categories/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    
    
      <category term="ä¸ªäººåšå®¢" scheme="http://yutouwd.github.io/tags/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="Hexo" scheme="http://yutouwd.github.io/tags/Hexo/"/>
    
      <category term="Next" scheme="http://yutouwd.github.io/tags/Next/"/>
    
  </entry>
  
  <entry>
    <title>æ·±åº¦å­¦ä¹ åœ¨å£°çº¹è¯†åˆ«ä¸­çš„åº”ç”¨</title>
    <link href="http://yutouwd.github.io/posts/600d0d5d/"/>
    <id>http://yutouwd.github.io/posts/600d0d5d/</id>
    <published>2019-02-02T00:39:57.000Z</published>
    <updated>2019-04-04T13:42:51.310Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>éšç€æ·±åº¦å­¦ä¹ çš„è¿…çŒ›å‘å±•ï¼Œç¥ç»ç½‘ç»œåœ¨è¶Šæ¥è¶Šå¤šçš„æ–¹å‘å¾—åˆ°äº†å¹¿æ³›çš„åº”ç”¨ï¼Œå£°çº¹è¯†åˆ«ä¹Ÿä¸ä¾‹å¤–ã€‚æœ‰è¶Šæ¥è¶Šå¤šçš„ä½¿ç”¨ç¥ç»ç½‘ç»œçš„æ–¹æ³•æ¥è¿›è¡Œå£°çº¹è¯†åˆ«çš„æ–‡ç« ï¼Œå¹¶ä¸”éƒ½å–å¾—äº†ä¸é”™çš„æ•ˆæœã€‚æœ€è¿‘ä¹Ÿçœ‹äº†æŒºå¤šæ–‡ç« çš„ï¼Œæ€»çš„æ¥è¯´ï¼Œå¤§è‡´å¯ä»¥åˆ†ä¸ºä¸¤ä¸ªæ–¹å‘ï¼šfeature learning,å¤§æ¦‚å°±æ˜¯è®­ç»ƒä¸€ä¸ªç¥ç»ç½‘ç»œå½“ä½œç‰¹å¾æå–å™¨ï¼Œç„¶åä½¿ç”¨æå–å‡ºæ¥ä»£è¡¨è¯´è¯äººçš„ç‰¹å¾å†åšåˆ†ç±»ï¼›End to endå°±æ˜¯æŒ‡ç›´æ¥è¾“å…¥ä¸¤æ®µè¯­éŸ³ï¼Œç„¶åé€šè¿‡ç¥ç»ç½‘ç»œæ¥åˆ¤æ–­è¿™ä¸¤æ®µè¯­éŸ³æ˜¯å¦æ¥è‡ªåŒä¸€ä¸ªäººã€‚<br><a id="more"></a></p><h1 id="Feature-Learning"><a href="#Feature-Learning" class="headerlink" title="Feature Learning"></a>Feature Learning</h1><h2 id="d-vector"><a href="#d-vector" class="headerlink" title="d-vector"></a>d-vector</h2><p>æœ€æ—©åœ¨2014å¹´Googleå°†ç¥ç»ç½‘ç»œç”¨äºå£°çº¹è¯†åˆ«ï¼š<a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.674.3686&amp;rep=rep1&amp;type=pdf" target="_blank" rel="noopener">Deep Neural Networks for Small Footprint Text-Dependent</a>ã€‚å®ƒä½¿ç”¨äº†ä¸€ä¸ªå››å±‚çš„å…¨è¿æ¥å±‚çš„ç½‘ç»œæ¥å®Œæˆæ–‡æœ¬ç›¸å…³çš„å£°çº¹è¯†åˆ«ä»»åŠ¡ã€‚å®ƒçš„ç»“æ„å¦‚ä¸‹ï¼š</p><p><img src="/upload_image/3.png" alt=""></p><p>å®ƒä½¿ç”¨40ç»´çš„filterbankç‰¹å¾ï¼ˆå’ŒMFCCç›¸æ¯”å°‘äº†ç¦»æ•£ä½™å¼¦å˜æ¢ï¼‰ï¼Œç„¶åä½¿ç”¨å½“å‰å¸§çš„ä»¥åŠå®ƒçš„å‰åä¸¤å¸§ä½œä¸ºè¾“å…¥ï¼Œå³ä¸€ä¸ª120ç»´çš„ä¸€ç»´å‘é‡ä½œä¸ºè¾“å…¥ã€‚ç»è¿‡å››å±‚çš„å…¨è¿æ¥å±‚ï¼Œæ¯å±‚æœ‰256ä¸ªèŠ‚ç‚¹ï¼Œä½¿ç”¨maxoutä½œä¸ºæ¿€æ´»å‡½æ•°ï¼Œæœ€åä¸¤å±‚åŠ å…¥dropoutã€‚è®­ç»ƒæ—¶ä½¿ç”¨å¸§çº§åˆ«ï¼ˆframe levelï¼‰çš„ç‰¹å¾ï¼Œä½¿ç”¨softmaxåˆ†ç±»ã€‚</p><p>åœ¨ç½‘ç»œè®­ç»ƒå¥½ä¹‹åï¼Œå°†ä¹‹å‰çš„æœ€åä¸€å±‚ç§»é™¤ï¼Œä½¿ç”¨éšè—å±‚çš„æœ€åä¸€å±‚ä½œä¸ºè¾“å‡ºï¼Œå³ä½¿ç”¨è¿™ä¸€å±‚å½“ä½œä¸€æ®µè¯­éŸ³æ‰€æå–å‡ºçš„ç‰¹å¾ã€‚åœ¨æ³¨å†Œå’ŒéªŒè¯è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨ä¸€æ®µè¯­éŸ³ï¼ˆutteranceï¼‰è¿›è¡Œåˆ†å¸§ï¼Œæå–filterbankç‰¹å¾ï¼Œè¾“å…¥åˆ°ç¥ç»ç½‘ç»œï¼Œç„¶åå°†å…¨éƒ¨å¸§æ‰€å¯¹åº”çš„éšè—å±‚çš„æœ€åä¸€å±‚æ±‚å‡å€¼ä½œä¸ºè¿™ä¸€æ®µè¯­éŸ³çš„ç‰¹å¾ã€‚åœ¨æ‰“åˆ†çš„è¿‡ç¨‹ä¸­ä½¿ç”¨consineè·ç¦»æ¥åˆ¤æ–­ä¸¤æ®µè¯­éŸ³æ˜¯å¦æ¥è‡ªåŒä¸€ä¸ªäººã€‚ä¸è¿‡å®ƒå–å¾—çš„æ•ˆæœå¹¶ä¸æ˜¯å¾ˆå¥½ï¼Œç­‰é”™è¯¯ç‡æ²¡æœ‰i-vectoré«˜ã€‚ä½†æ˜¯åœ¨åŠ å…¥å™ªå£°çš„æƒ…å†µä¸‹ç¨³å®šæ€§è¦ç¨å¾®å¥½ä¸€äº›ã€‚</p><p>è¿™ç§ç»“æ„çš„ç³»ç»Ÿå¯ä»¥ç†è§£ä¸ºä½¿ç”¨ç¥ç»ç½‘ç»œæ¥åšä¸€ä¸ªç‰¹å¾æå–çš„ä»»åŠ¡ã€‚åœ¨è®­ç»ƒçš„è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨softmaxæ¥å¯¹è®­ç»ƒé›†ä¸­çš„ä¸åŒè¯´è¯äººåšä¸€ä¸ªåˆ†ç±»ã€‚è€Œåˆ°äº†æ³¨å†Œå’ŒéªŒè¯çš„é˜¶æ®µï¼Œå°±å°†è¿™ä¸ªsoftmaxå±‚å»æ‰ï¼Œä½¿ç”¨å€’æ•°ç¬¬äºŒå±‚ï¼ˆæˆ–è€…è¯´éšè—å±‚çš„æœ€åä¸€å±‚ï¼‰å½“ä½œç¥ç»ç½‘ç»œçš„è¾“å‡ºï¼Œä½¿ç”¨è¿™ä¸€å±‚å½“ä½œè¯´è¯äººçš„ç‰¹å¾ï¼Œè®ºæ–‡ä¸­ä¹Ÿç§°ä¸ºd-vectorã€‚ç„¶åå†ä½¿ç”¨consine similarityæ¥è¿›è¡Œæ‰“åˆ†åˆ¤åˆ«ã€‚</p><h2 id="d-vectoræ”¹è¿›"><a href="#d-vectoræ”¹è¿›" class="headerlink" title="d-vectoræ”¹è¿›"></a>d-vectoræ”¹è¿›</h2><p>å‰ä¸€ç¯‡æ–‡ç« è™½ç„¶ç½‘ç»œçš„ç»“æ„æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯æ˜¯ç¬¬ä¸€ç¯‡å®Œå…¨ä½¿ç”¨ç¥ç»ç½‘ç»œç”¨äºå£°çº¹è¯†åˆ«çš„æ–‡ç« ã€‚ä¹‹åä¹Ÿæœ‰ä¸å°‘äººåœ¨æ­¤åŸºç¡€ä¸Šåšäº†æ”¹è¿›ï¼Œä¸‹é¢ä¸€ç¯‡å°±æ˜¯å¯¹d-vectorå¯¹æ”¹è¿›ï¼š<a href="https://arxiv.org/pdf/1705.03670.pdf" target="_blank" rel="noopener">Deep Speaker Feature Learning for Text-independent Speaker Verification</a>è¿™ç¯‡æ–‡ç« æ”¹è¿›äº†ä¹‹å‰çš„ç»“æ„ï¼Œå¹¶ä¸”ç”¨äºæ–‡æœ¬ä¸ç›¸å…³çš„ä»»åŠ¡å½“ä¸­ã€‚ä»–çš„ç»“æ„å¦‚ä¸‹ï¼š</p><p><img src="/upload_image/4.png" alt=""></p><p>å®ƒè¿˜æ˜¯ä½¿ç”¨äº†40ç»´filterbankä½œä¸ºè¾“å…¥ç‰¹å¾ï¼Œä¸è¿‡è¿™é‡Œä½¿ç”¨ä¸€å¸§ä»¥åŠå®ƒå‰åç›¸é‚»çš„4å¸§ï¼Œå³ä¸€å…±ä¹å¸§ä½œä¸ºæ•´ä¸ªç¥ç»ç½‘ç»œçš„è¾“å…¥ï¼ˆ9*40ï¼‰ã€‚ç„¶åç»è¿‡ä¸¤ä¸ªå·ç§¯â€“æ± åŒ–å±‚ï¼Œç„¶åå†ç»è¿‡ä¸€ä¸ªbottleneckå±‚ï¼Œä¹‹åå†æœ‰ä¸¤å±‚time-delayå±‚ï¼Œä»¥åŠä¸€ä¸ªå…¨è¿æ¥å±‚ï¼Œæœ€åæ˜¯ä¸€ä¸ª5000ç»´çš„softmaxè¾“å‡ºã€‚</p><p>åˆ°äº†æ³¨å†Œå’Œæµ‹è¯•é˜¶æ®µï¼ŒåŒæ ·æ˜¯å°†æœ€åçš„åˆ†ç±»å±‚å»é™¤ï¼Œä½¿ç”¨éšè—å±‚çš„æœ€åä¸€å±‚ä½œä¸ºæå–å‡ºæ¥çš„ç‰¹å¾ï¼Œç§°ä¸ºd-vectorã€‚å¹¶ä¸”å°†å¸§çº§åˆ«ï¼ˆframe levelï¼‰çš„d-vectoræ±‚å‡å€¼å¾—åˆ°utterance levelçš„d-vectorä½œä¸ºä¸€æ®µè¯­éŸ³æ‰€ä»£è¡¨çš„ç‰¹å¾ã€‚æœ€åæ–‡ç« ä¹Ÿæ¯”è¾ƒäº†å‡ ç§åˆ†ç±»å™¨çš„æ•ˆæœï¼Œåˆ†åˆ«æ˜¯consineã€LDAå’ŒPLDAã€‚åœ¨i-vectorç³»ç»Ÿä¸­PLDAæœ‰ç€æœ€ä½çš„EERï¼Œè€Œåœ¨d-vectorä¸­LDAåˆ™è¡¨ç°æ›´åŠ ä¼˜å¼‚ã€‚ï¼ˆä¸å¤ªæ¸…æ¥šè¿™é‡Œæ˜¯ç”¨LDAåšé™ç»´åå†æ¥consine similarityè¿˜æ˜¯ç”¨LDAåšåˆ†ç±»ï¼‰ï¼ˆä½†æ˜¯æˆ‘ç°åœ¨è¿˜ä¸å¤ªæ˜ç™½LDAæ˜¯æ€ä¹ˆè¿›è¡Œåˆ†ç±»çš„ï¼Œä¸è¿‡æ‰¾åˆ°ä¸€ç¯‡æ–‡ç« ï¼Œåˆ†åˆ«ä»‹ç»äº†ä½¿ç”¨LDAç”¨äºåˆ†ç±»å’Œé™ç»´çš„æ–¹æ³•ï¼š<a href="https://towardsdatascience.com/is-lda-a-dimensionality-reduction-technique-or-a-classifier-algorithm-eeed4de9953a" target="_blank" rel="noopener">Is LDA a dimensionality reduction technique or a classifier algorithm?</a>ï¼‰</p><h2 id="x-vector"><a href="#x-vector" class="headerlink" title="x-vector"></a>x-vector</h2><p>åœ¨18å¹´David Snyderä¹Ÿå°±æ˜¯kaldiçš„ä½œè€…ä¹‹ä¸€æå‡ºäº†<a href="http://www.danielpovey.com/files/2018_icassp_xvectors.pdf" target="_blank" rel="noopener">x-vector: Robust DNN Embedding for Speaker Recognition</a>ï¼Œä¹Ÿæ˜¯å¯¹äºå‰é¢ç½‘ç»œçš„æ”¹è¿›ï¼Œåœ¨è®­ç»ƒçš„æ•°æ®é‡è¾ƒå¤§æ—¶ï¼Œå¯ä»¥æœ‰è¾ƒä½çš„EERã€‚å®ƒçš„ç½‘ç»œç»“æ„å¦‚ä¸‹è¡¨ï¼š</p><p><img src="/upload_image/5.png" alt=""></p><p>çœ‹äº†ä¸‹kaldiä¸­çš„ä»£ç ï¼Œæ„Ÿè§‰è¿™é‡Œå’Œä¹‹å‰çš„time delayæœ‰ç‚¹ä¸åŒã€‚é¦–å…ˆè¾“å…¥æ˜¯24ç»´çš„filterbankç‰¹å¾ï¼Œä½¿ç”¨ä¸€å¸§ä»¥åŠå‰å2ä¸¤å¸§ï¼Œä¸€å…±5å¸§ä¸€ä¸ª120ç»´çš„ä¸€ç»´å‘é‡ä½œä¸ºè¾“å…¥ï¼Œè¾“å‡ºé•¿åº¦ä¸º512ã€‚å¦‚æœå½“å‰æ—¶åˆ»ä¸ºtï¼Œåˆ™ç¬¬äºŒå±‚çš„è¾“å…¥ä¸ºt-2ã€tå’Œt+2æ—¶åˆ»çš„ç¬¬ä¸€å±‚çš„è¾“å…¥ã€‚ç¬¬ä¸‰å±‚åŒç†ï¼Œä½¿ç”¨äº†ç¬¬äºŒå±‚çš„t-3ã€tå’Œt+3æ—¶åˆ»ä½œä¸ºè¾“å…¥ã€‚ç¬¬å››ç¬¬äº”å°±æ˜¯æ™®é€šçš„å…¨è¿æ¥å±‚ã€‚ç„¶ååˆ°äº†ä¸€ä¸ªstats poolingï¼Œkaldiä¸­çš„æ³¨é‡Šè¯´åˆ°ï¼šLayer after this are segment levelï¼Œå¹¶ä¸”segment sizeæ˜¯[0,max_chunk_size]ï¼Œåœ¨è„šæœ¬ä¸­è¿™ä¸ªmax_chunk_sizeçš„å¤§å°ä¸º10000ï¼Œè¿™é‡Œå°±æ˜¯è¡¨æ ¼ä¸­çš„Tã€‚è¿™ä¸€å±‚åšçš„æ˜¯ä»€ä¹ˆå‘¢ï¼Œå°±æ˜¯æ±‚ä¸€ä¸‹ä¹‹å‰è¾“å‡ºçš„ç»Ÿè®¡å€¼ï¼Œæˆ‘çœ‹åœ¨è„šæœ¬ä¸­æ˜¯mean+stddevï¼Œä¹Ÿå°±æ˜¯å‡å€¼åŠ ä¸Šæ ‡å‡†å·®ã€‚ä¹‹ååé¢å°±æ˜¯ä¸¤ä¸ªå…¨è¿æ¥å±‚ã€‚æœ€åæ¥ä¸Šä¸€ä¸ªsoftmaxåˆ†ç±»ã€‚</p><p>åœ¨ç½‘ç»œè®­ç»ƒå¥½ä¹‹åï¼ŒæŠŠsegment7å’Œsoftmaxå±‚éƒ½å»æ‰ï¼Œä½¿ç”¨segment6ä½œä¸ºæå–å‡ºæ¥çš„ç‰¹å¾ï¼Œæˆä¸ºx-vectorï¼Œç„¶åå†ä½¿ç”¨LDAé™ç»´å’ŒPLDAæ‰“åˆ†ã€‚åœ¨kaldiä¸­ï¼Œx-vectorçš„è„šæœ¬è¿˜åšäº†å…¶ä»–å¾ˆå¤šæ“ä½œï¼ŒåŒ…æ‹¬ä½¿ç”¨å™ªå£°å¯¹æ•°æ®è¿›è¡Œå¢å¼ºï¼Œå»é™¤æ—¶é—´è¿‡çŸ­çš„uttï¼Œç„¶åè¿˜éœ€è¦å»é™¤uttè¾ƒå°‘çš„speakerç­‰ã€‚</p><h1 id="End-to-End"><a href="#End-to-End" class="headerlink" title="End to End"></a>End to End</h1><p>æ¥ä¸‹æ¥å°±æ˜¯end to endçš„ç»“æ„ï¼Œå’Œä¹‹å‰çš„feature learningçš„ç»“æ„ç›¸æ¯”ï¼Œend to endä¸éœ€è¦å†æŠŠè®­ç»ƒå¥½çš„ç½‘ç»œå†å»æ‰æœ€åçš„é‚£ä¹ˆä¸€ä¸¤å±‚ï¼Œç›´æ¥è¾“å…¥ä¸¤æ®µè¯­éŸ³å°±å¯ä»¥åˆ¤æ–­è¿™è¯­éŸ³æ˜¯å¦æ¥è‡ªåŒä¸€ä¸ªäººäº†ã€‚end to endçš„æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯åœ¨è®­ç»ƒçš„æ—¶å€™éœ€è¦æŒ‘é€‰ä¸‰æ®µè¯­éŸ³ï¼šé¦–å…ˆéœ€è¦ç¡®å®šä¸€ä¸ªanchorï¼Œå³ç›®æ ‡è¯­éŸ³ï¼›ç„¶åè¿˜éœ€è¦é€‰æ¥è‡ªåŒä¸€ä¸ªè¯´è¯äººçš„æ­£æ ·æœ¬ï¼Œå’Œæ¥è‡ªä¸åŒè¯´è¯äººçš„è´Ÿæ ·æœ¬ã€‚è®­ç»ƒæ—¶å€™çš„ç›®æ ‡å°±æ˜¯å¸Œæœ›æ¥è‡ªåŒä¸€ä¸ªäººçš„è¯­éŸ³ï¼ˆpositive pairï¼‰çš„embeddingè¦æå¯èƒ½çš„ç›¸ä¼¼ï¼Œè€Œæ¥è‡ªä¸åŒäººçš„è¯­éŸ³ï¼ˆnegative pairï¼‰åˆ™è¦å°½å¯èƒ½çš„ä¸åŒã€‚åœ¨è®­ç»ƒå®Œæˆä¹‹åï¼Œå°±å¯ä»¥ç›´æ¥è¾“å…¥ä¸¤æ®µè¯­éŸ³ç„¶ååˆ¤æ–­ä»–ä»¬æ˜¯å¦æ¥è‡ªåŒä¸€ä¸ªäººäº†ã€‚</p><h2 id="Network-in-Network"><a href="#Network-in-Network" class="headerlink" title="Network in Network"></a>Network in Network</h2><p>åŒæ ·æ˜¯David Snyderå†16å¹´å‘è¡¨çš„ä¸€ç¯‡æ–‡ç« ï¼š<a href="http://www.danielpovey.com/files/2016_slt_xvector.pdf" target="_blank" rel="noopener">Deep Neural Network-Based Speaker Embeddings for End-to-End Speaker Verification</a>ï¼Œå®ƒä½¿ç”¨äº†time delay Network in Networkçš„ç½‘ç»œç»“æ„ï¼Œç³»ç»Ÿçš„ç»“æ„å¦‚ä¸‹ï¼š</p><p><img src="/upload_image/6.png" alt=""></p><p>é¦–å…ˆç½‘ç»œçš„è¾“å…¥æ˜¯MFCCç‰¹å¾ï¼Œæ¯ä¸€å¸§æå–20ç»´çš„MFCCç‰¹å¾ï¼Œç„¶åå–å‰åå„4å¸§ä¸€å…±9å¸§å…±180ç»´çš„å‘é‡ä½œä¸ºè¾“å…¥ã€‚ç„¶åå†è¾“å…¥åˆ°æ·±åº¦ç¥ç»ç½‘ç»œå½“ä¸­å»ï¼Œå®ƒçš„ç½‘ç»œçš„å…·ä½“ç»“æ„å¦‚ä¸‹ï¼š<em>(è¿™æ˜¯å¦å¤–ä¸€ç¯‡æ–‡ç« ä¸­æ¯”è¾ƒfeature learningå’ŒE2Eä¸¤ç§çš„æ¨¡å‹çš„æ‰€ç”»çš„å›¾ï¼Œé‚£ç¯‡è®ºæ–‡å›¾æ›´åŠ ç›´è§‚ä¸€äº›ï¼š<a href="https://arxiv.org/pdf/1706.07859.pdf" target="_blank" rel="noopener">Deep Speaker Verification: Do We Need End-to-End</a>ï¼‰</em> </p><p><img src="/upload_image/7.png" alt=""></p><p>è¿™ç¯‡æ–‡ç« ä½¿ç”¨40ç»´çš„filterbankç‰¹å¾ï¼Œé€‰ç”¨å½“å‰å¸§ä»¥åŠå‰åå„ä¸€å¸§ï¼Œä¸€å…±3å¸§å…±120ç»´çš„å‘é‡ä½œä¸ºè¾“å…¥ã€‚ç„¶åæ˜¯time delayå±‚ï¼Œå–[t-2,t+1]æ—¶åˆ»å…±å››ä¸ªæ—¶åˆ»600ç»´å‘é‡ä½œä¸ºè¾“å…¥ç»è¿‡ä¸€ä¸ª1000ç»´å…¨è¿æ¥å±‚å’Œ500ç»´å…¨è¿æ¥å±‚ï¼Œè¾“å‡ºåˆ°ä¸‹ä¸€ä¸ªNINä¸­ã€‚ä¸€å…±æœ‰3ä¸ªtime delayNINï¼Œè¿™é‡Œæœ€åä¸€ä¸ªtime delay NINå†æ¥ä¸€ä¸ª150ç»´çš„å…¨è¿æ¥å±‚ï¼Œç„¶åå†æ±‚ç»Ÿè®¡å€¼ï¼ˆå‡å€¼å’Œæ ‡å‡†å·®ï¼‰è¿™é‡Œçš„æ–¹å¼åº”è¯¥å’Œx-vectoræ˜¯ç±»ä¼¼çš„ï¼Œéƒ½æ˜¯æ±‚ä¸€æ®µè¯­éŸ³å‰é¢çš„å†è¿›è¡Œä¸€ä¸ªstatistics poolingï¼Œæœ€åå†æœ‰ä¸€ä¸ªNINï¼Œè¿™é‡Œå°±æ²¡æœ‰time delayäº†ï¼Œå†åŠ ä¸Šä¸€ä¸ª150ç»´çš„å…¨è¿æ¥å±‚ã€‚</p><p>ä»–è¿™é‡Œçš„lossè®¾è®¡çš„ä¹ŸæŒºå¤æ‚çš„ï¼Œæˆ‘ä¹Ÿè¿˜æ˜¯ä¸æ˜¯ç‰¹åˆ«åœ°ç†è§£ï¼Œå®ƒçš„å…¬å¼å¦‚ä¸‹ï¼š<br><img src="/upload_image/8.png" alt=""></p><h2 id="Triplet-Loss"><a href="#Triplet-Loss" class="headerlink" title="Triplet Loss"></a>Triplet Loss</h2><p>è‡ªä»triplet lossåœ¨äººè„¸è¯†åˆ«ä¸­å–å¾—æˆåŠŸä¹‹åï¼Œä¹Ÿå¾ˆå¤šäººåœ¨å£°çº¹è¯†åˆ«ä¸­ä¹Ÿç”¨äº†triplet lossã€‚è¿™é‡Œå°±é€‰ä¸€ç¯‡æ¥ä»‹ç»ä¸‹ï¼š<a href="https://www.isca-speech.org/archive/Interspeech_2017/pdfs/1608.PDF" target="_blank" rel="noopener">End-to-End Text-Independent Speaker Verification with Triplet Loss on Short Utterance</a>ã€‚é¦–å…ˆtriplet lossçš„å…¬å¼å¦‚ä¸‹ï¼š</p><p>$$L=\sum_{i}[||f(x_i^a)-f(x_i^p)||_2^2-||f(x_i^a)-f(x_i^n)||_2^2+\alpha]$$</p><p>å…¶ä¸­ä¸Šæ ‡aä»£è¡¨anchorï¼Œä¸Šæ ‡pä»£è¡¨postiveï¼Œä¸Šæ ‡nä»£è¡¨negativeï¼Œ$\alpha$æ˜¯ä¸€ä¸ªç»éªŒå€¼ã€‚Triplet lossçš„æ€æƒ³å¾ˆç®€å•ï¼Œå°±æ˜¯å¸Œæœ›positive pairçš„æ¬§å¼è·ç¦»è¦å°½å¯èƒ½çš„å°ï¼Œè€Œnegative pairçš„æ¬§å¼è·ç¦»åˆ™è¦å°½å¯èƒ½çš„å¤§ã€‚</p><p>å¯¹äºä½¿ç”¨triplet lossçš„ç½‘ç»œæ¥è¯´ï¼Œtripletçš„é€‰å–éå¸¸é‡è¦ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬ä¸å¯èƒ½é€‰å–å…¨éƒ¨å¯èƒ½çš„tripletï¼Œå› ä¸ºè¿™æ ·åšéœ€è¦çš„è®¡ç®—é‡éå¸¸çš„å¤§ã€‚å› æ­¤é€‰å–å‡ºæ›´åŠ æœ‰æ•ˆçš„tripletè¿›è¡Œè®­ç»ƒæ—¢ä¼šæé«˜è®­ç»ƒçš„æ•ˆæœä¹Ÿä¼šæé«˜è®­ç»ƒçš„é€Ÿåº¦ã€‚è¿™ç¯‡æ–‡ç« ä¸­çš„tripleté€‰å–çš„æ–¹å¼å¦‚ä¸‹ï¼šé¦–å…ˆä¸€æ¬¡é€‰å‡º60ä¸ªè¯´è¯äººï¼Œç„¶åæ¯ä¸ªäººéšæœºé€‰æ‹©40æ®µè¯­éŸ³ï¼Œè¿™æ ·ä¸€ä¸ªepochä¸€å…±å°±æœ‰60*40*39/2=46800ä¸ªtripletã€‚ç„¶åé€šè¿‡é€‰å–æ»¡è¶³å½“ä¸‹é¢å…¬å¼alpha=0.2æ—¶çš„tripletæ‹¿å»è®­ç»ƒã€‚</p><p>è¿™ç¯‡æ–‡ç« çš„é€‰ç”¨çš„ç½‘ç»œç»“æ„æ˜¯Inception-resnet-v1ï¼Œå…³äºè¿™ä¸ªç½‘ç»œçš„ä»‹ç»ç½‘ä¸Šå·²ç»æœ‰éå¸¸å¤šäº†ï¼Œæˆ‘è¿™é‡Œä¹Ÿå°±ä¸åšè¯¦ç»†çš„ä»‹ç»äº†ã€‚è¿™ç¯‡æ–‡ç« ä½¿ç”¨äº†è¯­è°±å›¾ä½œä¸ºç¥ç»ç½‘ç»œçš„è¾“å…¥ï¼Œç›¸å½“äºå°±æ˜¯ä¸€ä¸ªå›¾åƒè¯†åˆ«çš„é—®é¢˜äº†ã€‚</p><h2 id="Deep-Speaker"><a href="#Deep-Speaker" class="headerlink" title="Deep Speaker"></a>Deep Speaker</h2><p>åŸºäºtriplet lossçš„æ–‡ç« è¿˜æœ‰å¾ˆå¤šï¼Œæ›´å¤šçš„å°±æ˜¯é€‰ç”¨ä¸åŒçš„ç½‘ç»œç»“æ„ï¼Œå¦‚ç™¾åº¦çš„<a href="https://arxiv.org/pdf/1705.02304.pdf" target="_blank" rel="noopener">Deep Speaker: an End-to-End Neural Speaker Embedding System</a>,ä»–å°±å¯¹æ¯”äº†ä½¿ç”¨ResNetå’ŒGRUçš„æ•ˆæœã€‚ä¹‹åçš„æ”¹è¿›æ–¹å‘ä¹Ÿå¯æ˜¯é€‰ç”¨æ›´åŠ æ›´æ·±å±‚çš„ç¥ç»ç½‘ç»œï¼Œæˆ–è€…æ˜¯æ›´åˆç†çš„ç»“æ„ã€‚å¯ä»¥çœ‹åˆ°éšç€æ·±åº¦å­¦ä¹ æŠ€æœ¯çš„å‘å±•ï¼Œå£°çº¹è¯†åˆ«ä¸­ä¹Ÿåœ¨ä¸æ–­çš„åº”ç”¨æœ€æ–°çš„æŠ€æœ¯</p><h1 id="ä¸¤è€…çš„åŒºåˆ«"><a href="#ä¸¤è€…çš„åŒºåˆ«" class="headerlink" title="ä¸¤è€…çš„åŒºåˆ«"></a>ä¸¤è€…çš„åŒºåˆ«</h1><p>ä¸¤è€…çš„åŒºåˆ«å¤§è‡´å¦‚ä¸‹ï¼šfeature learningçš„æ€è·¯å°±æ˜¯ä½¿ç”¨ç¥ç»ç½‘ç»œæ¥æå–ç‰¹å¾ï¼Œå®ƒåœ¨è®­ç»ƒçš„æ—¶å€™å’ŒéªŒè¯çš„æ—¶å€™ç½‘ç»œçš„ç»“æ„ä¼šæœ‰æ‰€ä¸åŒã€‚åœ¨è®­ç»ƒçš„æ—¶å€™ï¼Œæœ€åä¸€èˆ¬éƒ½ä½¿ç”¨softmaxä¸ºè®­ç»ƒé›†åšåˆ†ç±»ã€‚è€Œåˆ°äº†éªŒè¯çš„æ—¶å€™ï¼Œå°±éœ€è¦æŠŠsoftmaxå±‚å»æ‰ï¼Œä½¿ç”¨å€’æ•°ç¬¬äºŒå±‚æˆ–ç¬¬ä¸‰å±‚ä½œä¸ºæå–å‡ºæ¥çš„ç‰¹å¾ï¼Œç„¶ååœ¨ä½¿ç”¨consineè·ç¦»æˆ–è€…pldaæ¨¡å‹æ¥è¿›è¡Œæ‰“åˆ†åˆ¤åˆ«ã€‚è€Œend to endçš„æ€è·¯å°±æ˜¯å»è®­ç»ƒç¥ç»ç½‘ç»œï¼Œä½¿å…¶èƒ½ç›´æ¥åˆ¤æ–­ä¸¤æ®µè¯­éŸ³çš„ç›¸ä¼¼åº¦ã€‚<a href="https://arxiv.org/pdf/1706.07859.pdf" target="_blank" rel="noopener">Deep Speaker Verification: Do We Need End-to-End</a>è¿™ç¯‡æ–‡ç« ä¹Ÿåˆ—ä¸¾æ¥è¿™ä¸¤ç§ç»“æ„çš„ä¸åŒä¹‹å¤„ï¼š</p><ul><li>ä¸åŒçš„æ¨¡å‹ç»“æ„ï¼šend to endåŒ…æ‹¬äº†speaker embedding(front-end)å’Œscoring(back-end)ï¼Œè¿™ä¸¤ä¸ªè¢«è”åˆèµ·æ¥å»è®­ç»ƒæˆä¸€ä¸ªå®Œæ•´ç½‘ç»œï¼›feature learingå°±åªåŒ…æ‹¬embeddingè¿™ä¸€æ­¥ã€‚</li><li>ä¸åŒçš„è®­ç»ƒç›®æ ‡ï¼šend to endçš„è®­ç»ƒç›®æ ‡æ˜¯åˆ¤åˆ«ä¸€å¯¹è¯­éŸ³ä½¿æ¥è‡ªåŒä¸€ä¸ªäººè¿˜æ˜¯ä¸åŒçš„äººï¼›feature learningæ˜¯åˆ¤åˆ«åœ¨è®­ç»ƒé›†ä¸­çš„è¯´è¯äººã€‚</li><li>ä¸åŒçš„è®­ç»ƒæ–¹æ³•ï¼šend to endæ˜¯ä½¿ç”¨ä¸€å¯¹å¯¹çš„è¯­éŸ³è¿›è¡Œè®­ç»ƒï¼Œè¯­éŸ³å¯¹é€‰å–çš„å¥½åå°±ä¼šå¾ˆå¤§ç¨‹åº¦å½±å“è®­ç»ƒçš„æ•ˆæœï¼›feature learningæ˜¯ä¸€ç§one-hotå¼çš„è®­ç»ƒæ–¹å¼ï¼Œç›¸æ¯”äºend to endæ¥è¯´æ›´å®¹æ˜“å»è®­ç»ƒã€‚</li><li>ä¸åŒçš„æ³›åŒ–èƒ½åŠ›ï¼šend to endè®­ç»ƒå¥½ä¹‹ååªèƒ½ç”¨åœ¨å£°çº¹è¯†åˆ«çš„ä»»åŠ¡å½“ä¸­å»ï¼›feature learningè¿˜å¯ä»¥åœ¨å…¶ä»–çš„è¯­éŸ³ä»»åŠ¡ä¸­å»ä½¿ç”¨ã€‚</li></ul><h1 id="ä¸ºä»€ä¹ˆi-vectorä¾ç„¶åšæŒº"><a href="#ä¸ºä»€ä¹ˆi-vectorä¾ç„¶åšæŒº" class="headerlink" title="ä¸ºä»€ä¹ˆi-vectorä¾ç„¶åšæŒº"></a>ä¸ºä»€ä¹ˆi-vectorä¾ç„¶åšæŒº</h1><p>ä¹‹å‰åœ¨çŸ¥ä¹ä¸Šçœ‹åˆ°è¿™æ ·çš„ä¸€ä¸ªé—®é¢˜ï¼š<a href="https://www.zhihu.com/question/67471632" target="_blank" rel="noopener">ä¸ºä»€ä¹ˆåœ¨è¯´è¯äººè¯†åˆ«æŠ€æœ¯ä¸­ï¼Œi-vector+pldaé¢å¯¹ç¥ç»ç½‘ç»œä¾ç„¶åšæŒº</a>åœ¨ç›®å‰æœ€å‰æ²¿çš„è¯´è¯äººè¯†åˆ«ç³»ç»Ÿä¸­ï¼Œä»ç„¶æœ‰ä¸å°‘æ˜¯åŸºäºi-vector+PLDAçš„ï¼Œåœ¨2017å¹´ICASSPå’ŒInterspeechä¸­ï¼ŒåŸºäºi-vectorçš„è¯´è¯äººè¯†åˆ«è®ºæ–‡æ•°é‡å’ŒåŸºäºç¥ç»ç½‘ç»œçš„è®ºæ–‡æ•°ä¾ç„¶å¯ä»¥æŠ—è¡¡ã€‚åœ¨ç¥ç»ç½‘ç»œå¸­å·äº†æœºå™¨å­¦ä¹ ä¼—å¤šé¢†åŸŸçš„ä»Šå¤©ï¼Œä¸ºä»€ä¹ˆi-vectorä¾ç„¶èƒ½å¤ŸåšæŒºåœ°å­˜åœ¨å‘¢ï¼Ÿå®ƒæœ‰ä»€ä¹ˆä¼˜ç‚¹æ˜¯ç¥ç»ç½‘ç»œæ‰€æ²¡æœ‰çš„ï¼Ÿæœ€é«˜ç¥¨çš„ç­”ä¸»åšäº†å¾ˆå¥½çš„å›ç­”ï¼Œè¿™é‡Œæ¦‚æ‹¬ä¸€ä¸‹ï¼š</p><blockquote><p>ä¸ºä»€ä¹ˆåœ¨è¯­éŸ³è¯†åˆ«ä¸­DNNçš„åº”ç”¨ä¼šå¸¦æ¥å¦‚æ­¤æ˜æ˜¾çš„æå‡ï¼Œåœ¨è¯´è¯äººè¯†åˆ«ä»»åŠ¡ä¸­å´ç»™äººä¸€ç§æŒ£æ‰çš„æ„Ÿè§‰ï¼Ÿè¿™å’Œä»»åŠ¡å±æ€§æ˜¯ç›´æ¥ç›¸å…³çš„ï¼Œè¯­éŸ³è¯†åˆ«ä¸­ï¼Œè¾“å‡ºçš„æ˜¯senoneï¼Œä¸å­˜åœ¨é›†å¤–çš„æ¦‚å¿µã€‚ä»»ä½•ä¸€å¥è¯é‡Œé¢çš„éŸ³ç´ éƒ½èƒ½æ‰¾åˆ°å®ƒå¯¹åº”çš„èŠ‚ç‚¹ã€‚ä½†æ˜¯è¯´è¯äººè¯†åˆ«ä¸ä¸€æ ·ï¼Œæˆ‘ä»¬ä¸å¯èƒ½è¦æ±‚æµ‹è¯•çš„äººåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å‡ºç°ï¼Œæ›´ä¸å¯èƒ½ç›´æ¥è®­ç»ƒä¸€ä¸ªæ‰€æœ‰äººçš„åˆ†ç±»å™¨ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸€ä¸ªéšå˜é‡ç©ºé—´ï¼Œæ¯ä¸ªäººéƒ½æ˜¯ç©ºé—´ä¸Šçš„ä¸€ä¸ªç‚¹ï¼Œå¯ä»¥ç”¨è¿™ä¸ªç©ºé—´çš„ä¸€ç»„åŸºæ¥è¡¨ç¤ºã€‚i-vectorå°±æ˜¯æ‰¾åˆ°äº†è¿™æ ·çš„ä¸€ä¸ªéšå˜é‡ç©ºé—´ã€‚</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;éšç€æ·±åº¦å­¦ä¹ çš„è¿…çŒ›å‘å±•ï¼Œç¥ç»ç½‘ç»œåœ¨è¶Šæ¥è¶Šå¤šçš„æ–¹å‘å¾—åˆ°äº†å¹¿æ³›çš„åº”ç”¨ï¼Œå£°çº¹è¯†åˆ«ä¹Ÿä¸ä¾‹å¤–ã€‚æœ‰è¶Šæ¥è¶Šå¤šçš„ä½¿ç”¨ç¥ç»ç½‘ç»œçš„æ–¹æ³•æ¥è¿›è¡Œå£°çº¹è¯†åˆ«çš„æ–‡ç« ï¼Œå¹¶ä¸”éƒ½å–å¾—äº†ä¸é”™çš„æ•ˆæœã€‚æœ€è¿‘ä¹Ÿçœ‹äº†æŒºå¤šæ–‡ç« çš„ï¼Œæ€»çš„æ¥è¯´ï¼Œå¤§è‡´å¯ä»¥åˆ†ä¸ºä¸¤ä¸ªæ–¹å‘ï¼šfeature learning,å¤§æ¦‚å°±æ˜¯è®­ç»ƒä¸€ä¸ªç¥ç»ç½‘ç»œå½“ä½œç‰¹å¾æå–å™¨ï¼Œç„¶åä½¿ç”¨æå–å‡ºæ¥ä»£è¡¨è¯´è¯äººçš„ç‰¹å¾å†åšåˆ†ç±»ï¼›End to endå°±æ˜¯æŒ‡ç›´æ¥è¾“å…¥ä¸¤æ®µè¯­éŸ³ï¼Œç„¶åé€šè¿‡ç¥ç»ç½‘ç»œæ¥åˆ¤æ–­è¿™ä¸¤æ®µè¯­éŸ³æ˜¯å¦æ¥è‡ªåŒä¸€ä¸ªäººã€‚&lt;br&gt;
    
    </summary>
    
      <category term="å£°çº¹è¯†åˆ«" scheme="http://yutouwd.github.io/categories/%E5%A3%B0%E7%BA%B9%E8%AF%86%E5%88%AB/"/>
    
      <category term="æ·±åº¦å­¦ä¹ " scheme="http://yutouwd.github.io/categories/%E5%A3%B0%E7%BA%B9%E8%AF%86%E5%88%AB/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="å£°çº¹è¯†åˆ«" scheme="http://yutouwd.github.io/tags/%E5%A3%B0%E7%BA%B9%E8%AF%86%E5%88%AB/"/>
    
      <category term="æ·±åº¦å­¦ä¹ " scheme="http://yutouwd.github.io/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>Kaldiä¸­çš„å£°çº¹è¯†åˆ«</title>
    <link href="http://yutouwd.github.io/posts/364e185b/"/>
    <id>http://yutouwd.github.io/posts/364e185b/</id>
    <published>2019-01-31T01:18:34.000Z</published>
    <updated>2019-04-04T13:42:01.143Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>å‰æ®µæ—¶é—´ä¸€ç›´åˆ°åœ¨ä½¿ç”¨kaldiæ¥åšå£°çº¹è¯†åˆ«ï¼Œç®—æ˜¯å¯ä»¥æŠŠæ•´ä¸ªivectorçš„ä¾‹ç¨‹å¯ä»¥è·‘ä¸‹æ¥ï¼Œä¹Ÿå¯ä»¥æ ¹æ®ä¾‹ç¨‹æ¥æ”¹å†™è„šæœ¬ï¼Œä½¿ç”¨è‡ªå·±çš„æ•°æ®æ¥è®­ç»ƒå’Œæµ‹è¯•ã€‚æ¥ä¸‹æ¥å¯èƒ½è¦å»åšå…¶ä»–çš„é¡¹ç›®äº†ï¼Œæ‰€ä»¥è¦è¶ç€è¿˜è®°å¾—çš„æ—¶å€™èµ¶ç´§å†™ä¸ªæ€»ç»“ï¼Œä¹Ÿç®—æ˜¯å¯¹ä¹‹å‰çš„å·¥ä½œä¹Ÿç®—æ˜¯å½’çº³ä¸€ä¸‹ã€‚<br><a id="more"></a></p><h2 id="kaldiçš„å®‰è£…"><a href="#kaldiçš„å®‰è£…" class="headerlink" title="kaldiçš„å®‰è£…"></a>kaldiçš„å®‰è£…</h2><p>kaldiåœ¨Linuxä¸‹çš„å®‰è£…æ€»çš„æ¥è¯´è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œé¦–å…ˆæ˜¯å…ˆè¿›å…¥toolsä¸­è¿è¡Œextras/check_dependenices.shçœ‹ä¸‹è¿˜æœ‰å“ªäº›ä¾èµ–é¡¹æ²¡æœ‰å®‰è£…ï¼Œç„¶åå°±å¯ä»¥æŒ‰ç…§ä»–çš„æç¤ºæ¥å®‰è£…ä¾èµ–é¡¹ç›®ã€‚å®‰è£…å®Œä¾èµ–é¡¹ä¹‹åå°±åˆ†åˆ«è¿›å…¥toolsç›®å½•å’Œsrcç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤make -j8ï¼Œå…¶ä¸­8æ—¶cpuå¯ä»¥åŒæ—¶è¿è¡Œçš„çº¿ç¨‹æ•°é‡ã€‚è¿™ä¸ªè¿‡ç¨‹è¿˜æ˜¯éœ€è¦ä¸€å®šæ—¶é—´çš„ã€‚åœ¨makeå®Œä¹‹åå°±å¯ä»¥è¿è¡Œä¸€ä¸ªå°çš„ä¾‹ç¨‹æ¥çœ‹ä¸‹æœ‰æ²¡æœ‰æˆåŠŸåœ°å®‰è£…kaldiï¼Œæˆ‘ä»¬è¿›å…¥åˆ°egs/yesno/s5ç›®å½•ä¸‹ç„¶åè¿è¡Œrun.shè„šæœ¬ï¼Œè¿™æ˜¯ä¸€ä¸ªåˆ¤æ–­è¯­éŸ³ä¸­è¯´çš„æ˜¯yesè¿˜æ˜¯noçš„ç¨‹åºï¼Œä»–ä¼šè‡ªåŠ¨ä¸‹è½½æ•°æ®å¹¶è®­ç»ƒå’Œæµ‹è¯•ï¼Œæœ€ç»ˆå¯ä»¥æœ‰0.0%çš„WERï¼Œè¿™å°±ä»£è¡¨kaldiå®‰è£…æˆåŠŸå•¦âœŒï¸</p><h2 id="è¿è¡Œaishellä¾‹ç¨‹"><a href="#è¿è¡Œaishellä¾‹ç¨‹" class="headerlink" title="è¿è¡Œaishellä¾‹ç¨‹"></a>è¿è¡Œaishellä¾‹ç¨‹</h2><p>é¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸‹kaldiä¸‹çš„ç›®å½•ï¼š</p><p><img src="/upload_image/1.png" alt=""></p><ul><li>egsï¼šä¿å­˜äº†å„ç§ä¾‹ç¨‹ï¼Œå‡ä½¿ç”¨è„šæœ¬ç¼–å†™ï¼Œä»¥ä½¿ç”¨çš„æ•°æ®åº“çš„åå­—å‘½åã€‚åœ¨ä¸‹ä¸€çº§ç›®å½•ä¸­ä»¥så¼€å¤´çš„æ–‡ä»¶æ˜¯è¯­éŸ³è¯†åˆ«ï¼Œä»¥vå¼€å¤´çš„æ˜¯å£°çº¹è¯†åˆ«ï¼Œä¸€èˆ¬v1å°±æ˜¯ä½¿ç”¨i-vectorçš„æ–¹æ³•æ¥è¿›è¡Œå£°çº¹è¯†åˆ«ã€‚</li><li>srcï¼šä¿å­˜äº†kaldiçš„C++ä»£ç ã€‚</li><li>toolsï¼šåŒ…æ‹¬äº†kaldiä¾èµ–çš„åº“å’Œä¸€äº›å®ç”¨çš„è„šæœ¬ã€‚</li><li>windowsï¼šåŒ…æ‹¬äº†åœ¨Windowsä¸‹å®‰è£…éœ€è¦çš„ä¸€äº›å·¥å…·å’Œé…ç½®æ–‡ä»¶</li></ul><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥è·‘ä¸€ä¸‹aishellçš„å£°çº¹è¯†åˆ«ä¾‹ç¨‹ï¼Œåœ¨egs/aishell/v1ä¸­çš„run.shå°±åŒ…æ‹¬äº†æ•´ä¸ªå£°çº¹è¯†åˆ«çš„æµç¨‹ï¼Œæœ€å¥½å°†run.shä¸­çš„å‘½ä»¤å¤åˆ¶åˆ°å¦å¤–ä¸€ä¸ªè„šæœ¬ä¸­ï¼Œä¸€å¥ä¸€å¥åœ°æ‰§è¡Œï¼Œè¿™æ ·å°±èƒ½åŠæ—¶å‘ç°é”™è¯¯ç„¶åä¿®æ”¹ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">data=/<span class="built_in">export</span>/a05/xna/data</span><br><span class="line">data_url=www.openslr.org/resources/33</span><br><span class="line"></span><br><span class="line">. ./cmd.sh</span><br><span class="line">. ./path.sh</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> -e <span class="comment"># exit on error</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">local</span>/download_and_untar.sh <span class="variable">$data</span> <span class="variable">$data_url</span> data_aishell</span><br><span class="line"><span class="built_in">local</span>/download_and_untar.sh <span class="variable">$data</span> <span class="variable">$data_url</span> resource_aishell</span><br><span class="line"></span><br><span class="line"><span class="comment"># Data Preparation</span></span><br><span class="line"><span class="built_in">local</span>/aishell_data_prep.sh <span class="variable">$data</span>/data_aishell/wav <span class="variable">$data</span>/data_aishell/transcript</span><br></pre></td></tr></table></figure><p>é¦–å…ˆæ˜¯æ•°æ®å‡†å¤‡é˜¶æ®µï¼Œå¦‚æœæ²¡æœ‰ä¸‹è½½æ•°æ®ï¼Œè„šæœ¬ä¹Ÿå¯ä»¥è‡ªåŠ¨ä¸‹è½½å’Œè§£å‹ï¼›å¦‚æœä¸‹è½½å¥½äº†å°±è¦æŠŠdataçš„è·¯å¾„æ”¹æˆè‡ªå·±å­˜æ”¾æ•°æ®çš„è·¯å¾„ã€‚ä¹‹åçš„cmd.shå’Œpath.shåˆ†åˆ«æ˜¯è®¾ç½®æ‰§è¡Œå‘½ä»¤çš„æ–¹å¼å’Œkaldiçš„è·¯å¾„ã€‚å¦‚æœæˆ‘ä»¬æ˜¯åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šè¿è¡Œï¼Œå°±éœ€è¦è¿›å…¥åˆ°cmd.shä¸­ï¼ŒæŠŠqueue.plä¿®æ”¹æˆrun.plã€‚path.shå°±æ˜¯è®¾ç½®å’Œkaldiç›¸å…³çš„è·¯å¾„ï¼Œå¦‚æœæ˜¯ä¾‹ç¨‹çš„è¯å°±ä¸ç”¨ä¿®æ”¹äº†ã€‚é…ç½®å¥½ä¹‹åå°±å¼€å§‹ä¸‹è½½å’Œè§£å‹æ•°æ®ã€‚</p><p>ä¹‹åå°±æ˜¯æœ€å…³é”®çš„éƒ¨åˆ†äº†ï¼Œå‡†å¤‡ä¸€äº›ä¸‹é¢ç¯èŠ‚éœ€è¦çš„æ–‡æ¡£ï¼Œä½¿ç”¨aishell_data_prep.shè¿™ä¸ªè„šæœ¬æ¥ç”Ÿæˆã€‚å£°çº¹è¯†åˆ«éœ€è¦ç”¨åˆ°çš„åˆ†åˆ«æ˜¯utt2spk spk2utt wav.scpè¿™ä¸‰ä¸ªæ–‡ä»¶ã€‚å…¶ä¸­uttæŒ‡çš„æ˜¯utteranceä»£è¡¨ä¸€ä¸ªéŸ³é¢‘æ–‡ä»¶çš„æ–‡ä»¶åï¼Œspkä»£è¡¨speakeræ˜¯è¯´è¯äººçš„IDï¼Œè¿™é‡Œåœ¨ä¸‹ä¸€èŠ‚åšè¯¦ç»†çš„ä»‹ç»ã€‚å¦‚æœæ˜¯åšè¯­éŸ³è¯†åˆ«ï¼Œè¿˜éœ€è¦textæ–‡ä»¶ï¼Œè¿™é‡Œå°±ä¸åšä»‹ç»äº†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Now make MFCC  features.</span></span><br><span class="line"><span class="comment"># mfccdir should be some place with a largish disk where you</span></span><br><span class="line"><span class="comment"># want to store MFCC features.</span></span><br><span class="line">mfccdir=mfcc</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> train <span class="built_in">test</span>; <span class="keyword">do</span></span><br><span class="line">  steps/make_mfcc.sh --cmd <span class="string">"<span class="variable">$train_cmd</span>"</span> --nj 10 data/<span class="variable">$x</span> exp/make_mfcc/<span class="variable">$x</span> <span class="variable">$mfccdir</span></span><br><span class="line">  sid/compute_vad_decision.sh --nj 10 --cmd <span class="string">"<span class="variable">$train_cmd</span>"</span> data/<span class="variable">$x</span> exp/make_mfcc/<span class="variable">$x</span> <span class="variable">$mfccdir</span></span><br><span class="line">  utils/fix_data_dir.sh data/<span class="variable">$x</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><p>åœ¨å‡†å¤‡å¥½æ•°æ®ä¹‹åå°±è¦å¼€å§‹æå–mfccç‰¹å¾äº†ï¼ˆmake_mfccçš„è¿‡ç¨‹ä¸­ä¹ŸåŒ…æ‹¬äº†åˆ†å¸§åŠ çª—ï¼‰ï¼Œè¿›è¡Œç«¯ç‚¹æ£€æµ‹ï¼ˆVADï¼‰ï¼Œä»¥åŠæ£€æŸ¥æ–‡ä»¶ç¬¦ä¸ç¬¦åˆè¦æ±‚å¯¹æ–‡ä»¶è¿›è¡Œæ’åºï¼ˆå…¶å®æˆ‘ä¹Ÿæ²¡æœ‰çœ‹å¤ªæ‡‚fix_data_dir.shè¿™ä¸ªè„šæœ¬åˆ°åº•åšäº†ä»€ä¹ˆğŸ˜‘)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># train diag ubm</span></span><br><span class="line">sid/train_diag_ubm.sh --nj 10 --cmd <span class="string">"<span class="variable">$train_cmd</span>"</span> --num-threads 16 \</span><br><span class="line">  data/train 1024 exp/diag_ubm_1024</span><br><span class="line"></span><br><span class="line"><span class="comment">#train full ubm</span></span><br><span class="line">sid/train_full_ubm.sh --nj 10 --cmd <span class="string">"<span class="variable">$train_cmd</span>"</span> data/train \</span><br><span class="line">  exp/diag_ubm_1024 exp/full_ubm_1024</span><br><span class="line"></span><br><span class="line"><span class="comment">#train ivector</span></span><br><span class="line">sid/train_ivector_extractor.sh --cmd <span class="string">"<span class="variable">$train_cmd</span> --mem 10G"</span> \</span><br><span class="line">  --num-iters 5 exp/full_ubm_1024/final.ubm data/train \</span><br><span class="line">  exp/extractor_1024</span><br></pre></td></tr></table></figure><p>å†æ¥ä¸‹æ¥å°±æ˜¯è®­ç»ƒUBMå’Œivector extractoräº†ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯è®­ç»ƒivector extractorçš„è„šæœ¬ä¼šé»˜è®¤åŒæ—¶æ‰§è¡Œç¨‹åºéå¸¸å¤šï¼Œä¼šå ç”¨å¾ˆé«˜çš„å†…å­˜å¯¼è‡´å†…å­˜æº¢å‡ºã€‚æˆ‘ä»¬éœ€è¦è¿›å…¥train_ivector_extractor.shä¸­ä¿®æ”¹ä¸€ä¸‹ã€‚å®ƒé»˜è®¤åŒæ—¶æ‰§è¡Œçš„ç¨‹åºæ•°é‡ä¸ºnj*num_thread*num_processes,åœ¨16Gå†…å­˜ä¸‹æˆ‘æŠŠè¿™ä¸‰ä¸ªå‚æ•°éƒ½æ”¹ä¸º2æ‰èƒ½è·‘é€šã€‚è¿™é‡Œä¹Ÿè¿˜æœ‰ä¸¤ä¸ªè¶…å‚æ•°å¯ä»¥ä¿®æ”¹ï¼Œåˆ†åˆ«æ˜¯UBMçš„ç»´æ•°å’Œivectorçš„ç»´æ•°ï¼ŒUBMçš„ç»´æ•°å°±ç›´æ¥åœ¨run.shä¸­ä¿®æ”¹å°±è¡Œï¼Œtrain_diag_ubm.shä¸­data/trainåé¢é‚£ä¸ªå‚æ•°å°±æ˜¯UBMçš„ç»´æ•°ï¼Œé»˜è®¤ä¸º1024ã€‚è¦ä¿®æ”¹ivectorçš„ç»´æ•°å°±åŒæ ·éœ€è¦è¿›åˆ°train_ivector_extractor.shä¸­ä¿®æ”¹ivector_dimï¼Œé»˜è®¤ä¸º400ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#extract ivector</span></span><br><span class="line">sid/extract_ivectors.sh --cmd <span class="string">"<span class="variable">$train_cmd</span>"</span> --nj 10 \</span><br><span class="line">  exp/extractor_1024 data/train exp/ivector_train_1024</span><br><span class="line"></span><br><span class="line"><span class="comment">#train plda</span></span><br><span class="line"><span class="variable">$train_cmd</span> exp/ivector_train_1024/<span class="built_in">log</span>/plda.log \</span><br><span class="line">  ivector-compute-plda ark:data/train/spk2utt \</span><br><span class="line">  <span class="string">'ark:ivector-normalize-length scp:exp/ivector_train_1024/ivector.scp  ark:- |'</span> \</span><br><span class="line">  exp/ivector_train_1024/plda</span><br></pre></td></tr></table></figure><p>è®­ç»ƒå®Œivectorä¹‹åå°±è¦å¼€å§‹æå–è®­ç»ƒé›†çš„ivectoräº†ï¼Œç„¶åç”¨è®­ç»ƒé›†çš„ivectoræ¥è®­ç»ƒpldaæ¨¡å‹ç”¨äºæ‰“åˆ†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># split the test to enroll and eval</span></span><br><span class="line">mkdir -p data/<span class="built_in">test</span>/enroll data/<span class="built_in">test</span>/<span class="built_in">eval</span></span><br><span class="line">cp data/<span class="built_in">test</span>/&#123;spk2utt,feats.scp,vad.scp&#125; data/<span class="built_in">test</span>/enroll</span><br><span class="line">cp data/<span class="built_in">test</span>/&#123;spk2utt,feats.scp,vad.scp&#125; data/<span class="built_in">test</span>/<span class="built_in">eval</span></span><br><span class="line"><span class="built_in">local</span>/split_data_enroll_eval.py data/<span class="built_in">test</span>/utt2spk  data/<span class="built_in">test</span>/enroll/utt2spk  data/<span class="built_in">test</span>/<span class="built_in">eval</span>/utt2spk</span><br><span class="line">trials=data/<span class="built_in">test</span>/aishell_speaker_ver.lst</span><br><span class="line"><span class="built_in">local</span>/produce_trials.py data/<span class="built_in">test</span>/<span class="built_in">eval</span>/utt2spk <span class="variable">$trials</span></span><br><span class="line">utils/fix_data_dir.sh data/<span class="built_in">test</span>/enroll</span><br><span class="line">utils/fix_data_dir.sh data/<span class="built_in">test</span>/<span class="built_in">eval</span></span><br></pre></td></tr></table></figure><p>ä¹‹åå°±è¦å°†æµ‹è¯•é›†åˆ†ä¸ºæ³¨å†Œé›†å’ŒéªŒè¯é›†ï¼Œè¿™ä¸€æ­¥ä¸»è¦é€šè¿‡loacl/split_data_enroll_eval.pyè¿™ä¸ªè„šæœ¬æ¥å®Œæˆï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹è¿™ä¸ªè„šæœ¬ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># split_data_enroll_eval.py</span></span><br><span class="line"><span class="keyword">import</span> sys,random</span><br><span class="line"></span><br><span class="line">dictutt = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> open(sys.argv[<span class="number">1</span>]):</span><br><span class="line">  line = line.rstrip(<span class="string">'\r\t\n '</span>)</span><br><span class="line">  utt, spk = line.split(<span class="string">' '</span>)</span><br><span class="line">  <span class="keyword">if</span> spk <span class="keyword">not</span> <span class="keyword">in</span> dictutt:</span><br><span class="line">    dictutt[spk] = []</span><br><span class="line">  dictutt[spk].append(utt)</span><br><span class="line"></span><br><span class="line">fenroll = open(sys.argv[<span class="number">2</span>], <span class="string">'w'</span>)</span><br><span class="line">feval = open(sys.argv[<span class="number">3</span>], <span class="string">'w'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> dictutt:</span><br><span class="line">  utts = dictutt[key]</span><br><span class="line">  random.shuffle(utts)</span><br><span class="line">  <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, len(utts)):</span><br><span class="line">    line = utts[i] + <span class="string">' '</span> + key</span><br><span class="line">    <span class="keyword">if</span>(i &lt; <span class="number">3</span>):</span><br><span class="line">      fenroll.write(line + <span class="string">'\n'</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">      feval.write(line + <span class="string">'\n'</span>)</span><br><span class="line"></span><br><span class="line">fenroll.close()</span><br><span class="line">feval.close()</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªè„šæœ¬é¦–å…ˆå…ˆå°†æ¯ä¸ªspkå’Œä¸å…¶å¯¹åº”çš„uttå­˜å…¥dictuttä¸­ï¼Œç„¶åå†å°†spkçš„utté¡ºåºéšæœºæ‰“ä¹±ï¼Œé‡æ–°åˆ†é…åˆ°enrollï¼ˆæ³¨å†Œé›†ï¼‰å’Œevalï¼ˆè¯„ä¼°é›†ï¼‰ä¸­ã€‚å¯ä»¥çœ‹åˆ°åœ¨ç¨‹åºçš„å€’æ•°ç¬¬å…­è¡Œä¸­ï¼Œif(i&lt;3):å°±å°†uttå†™å…¥enrollä¸­ï¼Œå¦åˆ™å°±å†™å…¥evalä¸­ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡æ”¹è¿™ä¸ªå€¼æ¥æ”¹å˜æ³¨å†Œé›†å’Œè¯„ä¼°é›†ä¸­çš„è¯­éŸ³æ•°ã€‚</p><p>åœ¨é‡æ–°ç”Ÿæˆå®Œutt2spkä¹‹åï¼Œå°±è¦ç”Ÿæˆtrialsäº†ã€‚trialsé€šè¿‡loacl/product_trials.pyæ¥ç”Ÿæˆã€‚trialsæ˜¯æŒ‡éœ€è¦è¿›è¡Œæ‰“åˆ†çš„æ³¨å†Œè¯´è¯äººå’Œä¸åŒçš„è¯­éŸ³çš„ä¸€ä¸ªåˆ—è¡¨ï¼Œå®ƒçš„æ ¼å¼ä¸º(ä¸¾ä¸ªä¾‹å­ğŸŒ°ï¼‰ï¼š</p><table><thead><tr><th>uttID</th><th>spkID</th><th>target/nontarget</th></tr></thead><tbody><tr><td>spkA-utt1</td><td>spkA</td><td>target</td></tr><tr><td>spkA-utt2</td><td>spkB</td><td>nontarget</td></tr><tr><td>spkB-utt1</td><td>spkA</td><td>nontarget</td></tr><tr><td>spkB-utt1</td><td>spkB</td><td>target</td></tr><tr><td>â€¦</td><td>â€¦</td><td>â€¦</td></tr></tbody></table><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#extract enroll ivector</span></span><br><span class="line">sid/extract_ivectors.sh --cmd <span class="string">"<span class="variable">$train_cmd</span>"</span> --nj 10 \</span><br><span class="line">  exp/extractor_1024 data/<span class="built_in">test</span>/enroll  exp/ivector_enroll_1024</span><br><span class="line"><span class="comment">#extract eval ivector</span></span><br><span class="line">sid/extract_ivectors.sh --cmd <span class="string">"<span class="variable">$train_cmd</span>"</span> --nj 10 \</span><br><span class="line">  exp/extractor_1024 data/<span class="built_in">test</span>/<span class="built_in">eval</span>  exp/ivector_eval_1024</span><br><span class="line"></span><br><span class="line"><span class="comment">#compute plda score</span></span><br><span class="line"><span class="variable">$train_cmd</span> exp/ivector_eval_1024/<span class="built_in">log</span>/plda_score.log \</span><br><span class="line">  ivector-plda-scoring --num-utts=ark:exp/ivector_enroll_1024/num_utts.ark \</span><br><span class="line">  exp/ivector_train_1024/plda \</span><br><span class="line">  ark:exp/ivector_enroll_1024/spk_ivector.ark \</span><br><span class="line">  <span class="string">"ark:ivector-normalize-length scp:exp/ivector_eval_1024/ivector.scp ark:- |"</span> \</span><br><span class="line">  <span class="string">"cat '<span class="variable">$trials</span>' | awk '&#123;print \\\$2, \\\$1&#125;' |"</span> exp/trials_out</span><br><span class="line"></span><br><span class="line"><span class="comment">#compute eer</span></span><br><span class="line">awk <span class="string">'&#123;print $3&#125;'</span> exp/trials_out | paste - <span class="variable">$trials</span> | awk <span class="string">'&#123;print $1, $4&#125;'</span> | compute-eer -</span><br></pre></td></tr></table></figure><p>åœ¨å°†æµ‹è¯•é›†åˆ†æˆæ³¨å†Œé›†å’Œè¯„ä¼°é›†ä¹‹åï¼Œå°±å¼€å§‹åˆ†åˆ«æå–æ³¨å†Œé›†å’Œè¯„ä¼°é›†çš„ivectorï¼Œç„¶åæŒ‰ç…§ç”Ÿæˆçš„trialsæ‰“åˆ†ï¼Œæœ€ç»ˆæ‰“åˆ†ç»“æœè¾“å‡ºåœ¨trials_outä¸­,æœ€ç»ˆè·‘å‡ºæ¥çš„ç»“æœä¸ºeerä¸º0.183%ã€‚</p><h2 id="ä½¿ç”¨TIMITæ•°æ®åº“è¿›è¡Œå£°çº¹è¯†åˆ«"><a href="#ä½¿ç”¨TIMITæ•°æ®åº“è¿›è¡Œå£°çº¹è¯†åˆ«" class="headerlink" title="ä½¿ç”¨TIMITæ•°æ®åº“è¿›è¡Œå£°çº¹è¯†åˆ«"></a>ä½¿ç”¨TIMITæ•°æ®åº“è¿›è¡Œå£°çº¹è¯†åˆ«</h2><p>åœ¨äº†è§£äº†kaldiä¸­æ•´ä¸ªå£°çº¹è¯†åˆ«çš„æµç¨‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥AISHELLçš„ä¾‹ç¨‹æ¥æ”¹å†™ä½¿ç”¨è‡ªå·±æ•°æ®çš„å£°çº¹è¯†åˆ«ç³»ç»Ÿï¼Œè¿™é‡Œæˆ‘ä½¿ç”¨TIMITæ•°æ®åº“ã€‚</p><p>æˆ‘ä»¬é¦–å…ˆçœ‹ä¸‹AISHELLå’ŒTIMITæ•°æ®åº“ä¸­çš„æ•°æ®åˆ’åˆ†ã€‚AISHELLä¸­ä¸€å…±æœ‰400äººï¼Œé»˜è®¤åˆ†ä¸ºtrainã€devå’Œtesté›†ã€‚å…¶ä¸­trainé‡Œé¢æœ‰340äººï¼›devé‡Œé¢æœ‰40äººï¼›testé‡Œé¢æœ‰20äººã€‚åœ¨ä¾‹ç¨‹ä¸­ï¼Œä½¿ç”¨trainä½œä¸ºè®­ç»ƒé›†ï¼Œtestä½œä¸ºæµ‹è¯•é›†ï¼Œå¹¶æ²¡æœ‰ä½¿ç”¨devã€‚AISHELLé‡Œæ¯ä¸ªäººå¤§æ¦‚æœ‰300å¤šæ®µè¯­éŸ³ï¼Œæ¯æ®µè¯­éŸ³æ˜¯ä¸€å¥è¯ï¼Œæ¯æ®µè¯­éŸ³å¤§æ¦‚åœ¨2~6sã€‚åœ¨TIMITæ•°æ®åº“ä¸­ä¸€å…±æœ‰630äººï¼Œåˆ†ä¸ºtrainå’Œtestã€‚è®­ç»ƒé›†ä¸­æœ‰462äººï¼Œæµ‹è¯•é›†ä¸­æœ‰168äººã€‚æ¯ä¸ªäººåˆ†åˆ«æœ‰10æ®µè¯­éŸ³ï¼Œæ¯æ®µè¯­éŸ³å¤§æ¦‚åœ¨2~4sã€‚è¿™é‡Œå°±ç›´æ¥ä½¿ç”¨TIMITçš„åŸæœ¬çš„åˆ†é…æ–¹å¼ï¼Œç”¨462äººä½œä¸ºè®­ç»ƒé›†ï¼Œ168äººä½œä¸ºæµ‹è¯•é›†ã€‚</p><p>ä¸è¿‡ä½¿ç”¨TIMITæ•°æ®åº“è¿˜æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼ŒTIMITæ•°æ®åº“ä¸­æ–‡ä»¶å­˜æ”¾ä»¥åŠå‘½åçš„æ–¹å¼å’ŒAISHELLä¸å¤ªä¸€æ ·ã€‚TIMITæ•°æ®åº“ä¸‹æ–‡ä»¶å­˜æ”¾çš„ç»“æ„æ˜¯ï¼Œ/TRAIN/DR<em>/SPEARKER_ID/UTTERANCE_ID.wavï¼Œtrainä»£è¡¨æ˜¯è®­ç»ƒé›†æˆ–è€…æµ‹è¯•é›†ï¼ŒDR\</em>ï¼ˆ1ï½8ï¼‰ä»£è¡¨äº†è¯´è¯äººçš„æ–¹è¨€ç±»å‹ï¼Œç„¶åæ˜¯è¯´è¯äººçš„IDæ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶å¤¹ä¸‹å­˜æ”¾äº†10æ®µè¯­éŸ³ã€‚TIMITæ•°æ®åº“ä¸­ä¸åŒçš„äººä¼šè¯´åŒä¸€æ®µè¯ï¼Œè¯´çš„è¯çš„å†…å®¹æ˜¯ä¸€æ ·çš„è¯æ–‡ä»¶åå°±æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä¸çŸ¥é“å¦‚æœæœ‰ç›¸åŒçš„æ–‡ä»¶åä¼šä¸ä¼šå¼•å‘é”™è¯¯ï¼Œç¨³å¦¥èµ·è§è¿˜æ˜¯æŠŠæ¯ä¸ªæ–‡ä»¶éƒ½é‡æ–°å‘½åäº†ã€‚æˆ‘å†™äº†ä¸ªç¨‹åºï¼Œå°†æ–‡ä»¶éƒ½é‡æ–°å‘½åä¸ºè¯´è¯äººçš„IDåŠ ä¸ŠéŸ³é¢‘çš„åºå·ï¼Œå¹¶ä¸”å°†å…¶é‡æ–°ä¿å­˜åœ¨/TRAIN/SPEAKER_IDè¿™æ ·çš„ç›®å½•ä¸‹ï¼Œè¿™æ ·å°±åœ¨ä¸‹é¢çš„ç¨‹åºå°±å¯ä»¥ä¸ç”¨ä¿®æ”¹å¤ªå¤šã€‚</p><p>åœ¨äº†è§£å®Œä¸¤ä¸ªæ•°æ®åº“çš„åŒºåˆ«å’Œæ•´ä¸ªå£°çº¹è¯†åˆ«çš„æµç¨‹ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹æ”¹å†™æˆ‘ä»¬çš„ç¨‹åºäº†ã€‚å…¶å®æ•´ä¸ªè¿‡ç¨‹ä¸­éœ€è¦æ”¹çš„åœ°æ–¹å¹¶ä¸å¤šï¼Œä¸»è¦å°±æ˜¯åœ¨å‡†å¤‡æ•°æ®é˜¶æ®µå’Œç”Ÿæˆtrialsçš„è¿‡ç¨‹éœ€è¦ä¿®æ”¹ä¸€ä¸‹ã€‚é¦–å…ˆæ˜¯æ•°æ®å‡†å¤‡é˜¶æ®µï¼Œæˆ‘ä»¬å°±å¯ä»¥æ ¹æ®å“ˆaishell_data_prepare.shè¿™ä¸ªè„šæœ¬æ¥æ”¹å†™è‡ªå·±çš„timit_data_prepare.shäº†ã€‚æ•°æ®å‡†å¤‡é˜¶æ®µå°±è¦ç”Ÿæˆutt2spk spk2uttå’Œwav.scpè¿™ä¸‰ä¸ªæ–‡ä»¶ã€‚è¿™ä¸‰ä¸ªæ–‡ä»¶çš„æ ¼å¼å¦‚ä¸‹ï¼š</p><table><thead><tr><th>æ–‡ä»¶å</th><th>æ ¼å¼</th></tr></thead><tbody><tr><td>utt2spk</td><td>[éŸ³é¢‘æ–‡ä»¶å] [è¯´è¯äººID]</td></tr><tr><td>spk2utt</td><td>[è¯´è¯äººå] [éŸ³é¢‘æ–‡ä»¶å] [éŸ³é¢‘æ–‡ä»¶å] [éŸ³é¢‘æ–‡ä»¶å]</td></tr><tr><td>wav.scp</td><td>[éŸ³é¢‘æ–‡ä»¶å] [éŸ³é¢‘æ–‡ä»¶çš„å…·ä½“è·¯å¾„]</td></tr></tbody></table><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">. ./path.sh || <span class="built_in">exit</span> 1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$#</span> != 2 ]; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"Usage: <span class="variable">$0</span> &lt;audio-path&gt; &lt;text-path&gt;"</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">" <span class="variable">$0</span> /export/a05/xna/data/data_aishell/wav /export/a05/xna/data/data_aishell/transcript"</span></span><br><span class="line">  <span class="built_in">exit</span> 1;</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">aishell_audio_dir=<span class="variable">$1</span></span><br><span class="line">aishell_text_dir=<span class="variable">$2</span></span><br><span class="line"></span><br><span class="line">train_dir=data/<span class="built_in">local</span>/train</span><br><span class="line">dev_dir=data/<span class="built_in">local</span>/dev</span><br><span class="line">test_dir=data/<span class="built_in">local</span>/<span class="built_in">test</span></span><br><span class="line"></span><br><span class="line">mkdir -p <span class="variable">$train_dir</span></span><br><span class="line">mkdir -p <span class="variable">$dev_dir</span></span><br><span class="line">mkdir -p <span class="variable">$test_dir</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># data directory check</span></span><br><span class="line"><span class="keyword">if</span> [ ! -d <span class="variable">$aishell_audio_dir</span> ] || [ ! -d <span class="variable">$aishell_text_dir</span> ]; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"Error: <span class="variable">$0</span> requires two directory arguments"</span></span><br><span class="line">  <span class="built_in">exit</span> 1;</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># find wav audio file for train, dev and test resp.</span></span><br><span class="line">find <span class="variable">$aishell_audio_dir</span> -iname <span class="string">"*.wav"</span> | grep -i <span class="string">"wav/train"</span> &gt; <span class="variable">$train_dir</span>/wav.flist || <span class="built_in">exit</span> 1;</span><br><span class="line">find <span class="variable">$aishell_audio_dir</span> -iname <span class="string">"*.wav"</span> | grep -i <span class="string">"wav/dev"</span> &gt; <span class="variable">$dev_dir</span>/wav.flist || <span class="built_in">exit</span> 1;</span><br><span class="line">find <span class="variable">$aishell_audio_dir</span> -iname <span class="string">"*.wav"</span> | grep -i <span class="string">"wav/test"</span> &gt; <span class="variable">$test_dir</span>/wav.flist || <span class="built_in">exit</span> 1;</span><br></pre></td></tr></table></figure><p>å‰é¢é¦–å…ˆæ˜¯æ£€æŸ¥è·¯å¾„å’Œåˆ›å»ºç”¨æ¥å­˜æ”¾æ–‡ä»¶çš„è·¯å¾„ï¼Œç”±äºåœ¨TIMITä¸­æ²¡æœ‰devé›†ï¼Œæ‰€ä»¥è¦æŠŠå¸¦æœ‰devçš„éƒ½åˆ æ‰ã€‚æ¥ä¸‹æ¥è„šæœ¬æŸ¥æ‰¾ç›®å½•ä¸‹çš„æ‰€æœ‰wavæ–‡ä»¶ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">n=`cat <span class="variable">$train_dir</span>/wav.flist <span class="variable">$dev_dir</span>/wav.flist <span class="variable">$test_dir</span>/wav.flist | wc -l`</span><br><span class="line">[ <span class="variable">$n</span> -ne 141925 ] &amp;&amp; \</span><br><span class="line">  <span class="built_in">echo</span> Warning: expected 141925 data data files, found <span class="variable">$n</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Transcriptions preparation</span></span><br><span class="line"><span class="keyword">for</span> dir <span class="keyword">in</span> <span class="variable">$train_dir</span> <span class="variable">$test_dir</span>; <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> Preparing <span class="variable">$dir</span> transcriptions</span><br><span class="line">  sed -e <span class="string">'s/\.wav//'</span> <span class="variable">$dir</span>/wav.flist | awk -F <span class="string">'/'</span> <span class="string">'&#123;print $NF&#125;'</span> &gt; <span class="variable">$dir</span>/utt.list</span><br><span class="line">  sed -e <span class="string">'s/\.wav//'</span> <span class="variable">$dir</span>/wav.flist | awk -F <span class="string">'/'</span> <span class="string">'&#123;i=NF-1;printf("%s %s\n",$NF,$i)&#125;'</span> &gt; <span class="variable">$dir</span>/utt2spk_all</span><br><span class="line">  paste -d<span class="string">' '</span> <span class="variable">$dir</span>/utt.list <span class="variable">$dir</span>/wav.flist &gt; <span class="variable">$dir</span>/wav.scp_all</span><br><span class="line">  utils/filter_scp.pl -f 1 <span class="variable">$dir</span>/utt.list <span class="variable">$aishell_text_dir</span>/*.txt &gt; <span class="variable">$dir</span>/transcripts.txt</span><br><span class="line">  awk <span class="string">'&#123;print $1&#125;'</span> <span class="variable">$dir</span>/transcripts.txt | sort -u &gt; <span class="variable">$dir</span>/utt.list</span><br><span class="line">  utils/filter_scp.pl -f 1 <span class="variable">$dir</span>/utt.list <span class="variable">$dir</span>/utt2spk_all | sort -u &gt; <span class="variable">$dir</span>/utt2spk</span><br><span class="line">  utils/filter_scp.pl -f 1 <span class="variable">$dir</span>/utt.list <span class="variable">$dir</span>/wav.scp_all | sort -u &gt; <span class="variable">$dir</span>/wav.scp</span><br><span class="line">  sort -u <span class="variable">$dir</span>/transcripts.txt &gt; <span class="variable">$dir</span>/text</span><br><span class="line">  utils/utt2spk_to_spk2utt.pl <span class="variable">$dir</span>/utt2spk &gt; <span class="variable">$dir</span>/spk2utt</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">mkdir -p data/train data/<span class="built_in">test</span></span><br><span class="line"><span class="keyword">for</span> f <span class="keyword">in</span> spk2utt utt2spk wav.scp text; <span class="keyword">do</span></span><br><span class="line">  cp <span class="variable">$train_dir</span>/<span class="variable">$f</span> data/train/<span class="variable">$f</span> || <span class="built_in">exit</span> 1;</span><br><span class="line">  cp <span class="variable">$test_dir</span>/<span class="variable">$f</span> data/<span class="built_in">test</span>/<span class="variable">$f</span> || <span class="built_in">exit</span> 1;</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$0</span>: AISHELL data preparation succeeded"</span></span><br><span class="line"><span class="built_in">exit</span> 0;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥å°±æ£€æŸ¥æ‰¾åˆ°çš„wavæ–‡ä»¶åŠ èµ·æ¥æœ‰æ²¡æœ‰141924ä¸ªï¼Œç„¶åå°±å¼€å§‹åšwav.scpã€utt2spkå’Œspk2uttä»¥åŠç”¨äºè¯­éŸ³è¯†åˆ«çš„transcripts.txtï¼Œè¿™é‡Œæˆ‘ä»¬å°±è¦æ‰¾åˆ°è„šæœ¬ä¸­å’Œtranscripts.txtç›¸å…³çš„ï¼Œç„¶ååˆ æ‰å°±å¯ä»¥äº†ã€‚</p><p>å†åšå®Œå‡†å¤‡æ•°æ®çš„é˜¶æ®µä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹æŒ‰ç…§ä¸Šé¢çš„æµç¨‹æ¥è¿›è¡Œå£°çº¹è¯†åˆ«äº†ã€‚è¿˜éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯trialsï¼Œå¦‚æœä¸€ä¸ªäººåªæœ‰ä¸¤ä¸‰æ®µè¯­éŸ³çš„è¯ï¼Œå°±éœ€è¦ä¿®æ”¹åˆ†é…enrollé›†å’Œevalé›†çš„æ¯”ä¾‹ã€‚ä¸è¿‡ç”±äºTIMITæ•°æ®åº“æ¯ä¸ªäººæœ‰10æ®µè¯­éŸ³ï¼Œæ‰€ä»¥ä¸ç”¨ä¿®æ”¹ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚è¿™é‡Œå°±ç”¨3æ®µè¯­éŸ³å»æ³¨å†Œï¼Œç„¶åå‰©ä¸‹çš„7æ®µè¯­éŸ³ç”¨äºéªŒè¯ã€‚</p><p>æœ€ç»ˆè·‘å‡ºæ¥çš„ç­‰é”™è¯¯ç‡åœ¨4.5%å·¦å³ï¼Œè™½ç„¶æ˜¯ä¸€ä¸ªè¿˜å¯ä»¥æ¥å—çš„ç»“æœï¼Œä½†æ˜¯å’ŒAISHELLçš„0.18%çš„ç­‰é”™è¯¯ç‡ç›¸æ¯”è¿˜æ˜¯å·®äº†å¾ˆå¤šçš„ã€‚åˆ†æä¸€ä¸‹åŸå› ï¼šé¦–å…ˆæ˜¯ç”¨äºè®­ç»ƒçš„è¯­éŸ³è¾ƒå°‘ï¼Œè™½ç„¶äººæ•°æœ‰462äººï¼Œä½†æ˜¯æ¯ä¸ªäººåªæœ‰10æ®µè¯­éŸ³ï¼Œå’ŒAISHELLä¸­340äººç”¨äºè®­ç»ƒï¼Œæ¯ä¸ªäºº300å¤šæ®µè¯­éŸ³ç›¸æ¯”å·®äº†å¾ˆå¤šã€‚åŒæ ·çš„ï¼ŒTIMITä¸­æµ‹è¯•é›†ä¸­ä¸€å…±æœ‰168äººï¼Œç›¸æ¯”äºAISHELLä¸­æµ‹è¯•é›†åªæœ‰40äººå¤šäº†å¾ˆå¤šã€‚è€Œä¸”ï¼ŒAISHELLé»˜è®¤çš„è®­ç»ƒçš„UBMé˜¶æ•°å’Œivectorçš„ç»´åº¦éƒ½éå¸¸é«˜ï¼Œæ‰€ä»¥è¿™ä¸¤ç‚¹å¯èƒ½å¯¼è‡´äº†ç­‰é”™è¯¯ç‡æ¯”è¾ƒé«˜ã€‚å¦‚æœæƒ³è¿›ä¸€æ­¥é™ä½ç­‰é”™è¯¯ç‡å¯ä»¥å°è¯•é™ä½è®­ç»ƒçš„UBMå’Œivectorçš„ç»´åº¦ã€‚æˆ‘æŠŠUBMå’Œivectorçš„ç»´åº¦éƒ½é™ä½åï¼Œç­‰é”™è¯¯ç‡æœ€ç»ˆå¯ä»¥è¾¾åˆ°1.53%ã€‚</p><h2 id="kaldiä¸­å£°çº¹è¯†åˆ«çš„æµç¨‹"><a href="#kaldiä¸­å£°çº¹è¯†åˆ«çš„æµç¨‹" class="headerlink" title="kaldiä¸­å£°çº¹è¯†åˆ«çš„æµç¨‹"></a>kaldiä¸­å£°çº¹è¯†åˆ«çš„æµç¨‹</h2><p>æ€»ç»“ä¸€ä¸‹ï¼Œkaldiä¸­å£°çº¹çš„è¯†åˆ«ï¼ˆivectorï¼‰çš„æµç¨‹å›¾å¦‚ä¸‹ï¼š</p><p><img src="/upload_image/2.png" alt=""></p><p>é¦–å…ˆï¼Œå°†æ•°æ®é›†åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†ã€‚ç„¶åå¯¹å…ˆå¯¹è®­ç»ƒé›†åšå¤„ç†ï¼Œå…ˆæå–è®­ç»ƒé›†çš„mfccç‰¹å¾ï¼Œç„¶åè®­ç»ƒUBMå’Œivector extractorï¼Œæ¥ç€æå–è®­ç»ƒé›†çš„ivectorï¼Œå¹¶ä½¿ç”¨è®­ç»ƒé›†çš„ivectorå»è®­ç»ƒpldaæ¨¡å‹ã€‚ä¹‹åå°±å¼€å§‹å¯¹æµ‹è¯•é›†è¿›è¡Œå¤„ç†ï¼Œå…ˆæŠŠæµ‹è¯•é›†åˆ†ä¸ºæ³¨å†Œé›†å’ŒéªŒè¯é›†ï¼Œåˆ†åˆ«æå–mfccç„¶ååœ¨æå–ivectorï¼Œåœ¨ç”¨pldaè¿›è¡Œæ‰“åˆ†ã€‚è¿™å°±æ˜¯æ•´ä¸ªkaldiä¸­ivectorå£°çº¹è¯†åˆ«çš„æµç¨‹äº†ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å‰æ®µæ—¶é—´ä¸€ç›´åˆ°åœ¨ä½¿ç”¨kaldiæ¥åšå£°çº¹è¯†åˆ«ï¼Œç®—æ˜¯å¯ä»¥æŠŠæ•´ä¸ªivectorçš„ä¾‹ç¨‹å¯ä»¥è·‘ä¸‹æ¥ï¼Œä¹Ÿå¯ä»¥æ ¹æ®ä¾‹ç¨‹æ¥æ”¹å†™è„šæœ¬ï¼Œä½¿ç”¨è‡ªå·±çš„æ•°æ®æ¥è®­ç»ƒå’Œæµ‹è¯•ã€‚æ¥ä¸‹æ¥å¯èƒ½è¦å»åšå…¶ä»–çš„é¡¹ç›®äº†ï¼Œæ‰€ä»¥è¦è¶ç€è¿˜è®°å¾—çš„æ—¶å€™èµ¶ç´§å†™ä¸ªæ€»ç»“ï¼Œä¹Ÿç®—æ˜¯å¯¹ä¹‹å‰çš„å·¥ä½œä¹Ÿç®—æ˜¯å½’çº³ä¸€ä¸‹ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="å£°çº¹è¯†åˆ«" scheme="http://yutouwd.github.io/categories/%E5%A3%B0%E7%BA%B9%E8%AF%86%E5%88%AB/"/>
    
      <category term="kaldi" scheme="http://yutouwd.github.io/categories/%E5%A3%B0%E7%BA%B9%E8%AF%86%E5%88%AB/kaldi/"/>
    
    
      <category term="å£°çº¹è¯†åˆ«" scheme="http://yutouwd.github.io/tags/%E5%A3%B0%E7%BA%B9%E8%AF%86%E5%88%AB/"/>
    
      <category term="kaldi" scheme="http://yutouwd.github.io/tags/kaldi/"/>
    
      <category term="ivector" scheme="http://yutouwd.github.io/tags/ivector/"/>
    
  </entry>
  
</feed>
