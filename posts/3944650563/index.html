<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">


  
  
  <link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css">









  <meta name="google-site-verification" content="VsdEz17DzZPAdPIQ2K1kjppHtRWQ1HvY4SXP2UYoGb4">







  <meta name="baidu-site-verification" content="jqZ0Y8rEND.yutouwd.github.io">











<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.0.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.0">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.0.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="å…¶å®ä¸æ˜¯ç‰¹åˆ«æ¨èåœ¨Windowsä¸‹ä½¿ç”¨kaldiï¼Œå› ä¸ºåœ¨egsä¸‹æ‰€æœ‰çš„è„šæœ¬éƒ½æ— æ³•è¿è¡Œï¼Œæˆ‘ä¹Ÿæ˜¯å¼„äº†å¾ˆä¹…æ‰åœ¨Windowsä¸‹é…ç½®å¥½kaldiï¼Œéƒ½ä¸€åº¦å·®ç‚¹å¼ƒå‘ã€‚å°±è¿å®˜æ–¹ä¹Ÿè¯´There is no commitment to support Windows. The Windows port of Kaldi is targeted at experienced developers who want t">
<meta name="keywords" content="å£°çº¹è¯†åˆ«,kaldi,Visual Studio">
<meta property="og:type" content="article">
<meta property="og:title" content="kaldiåœ¨Windowsä¸‹çš„ä½¿ç”¨">
<meta property="og:url" content="http://yutouwd.github.io/posts/3944650563/index.html">
<meta property="og:site_name" content="yutouwd">
<meta property="og:description" content="å…¶å®ä¸æ˜¯ç‰¹åˆ«æ¨èåœ¨Windowsä¸‹ä½¿ç”¨kaldiï¼Œå› ä¸ºåœ¨egsä¸‹æ‰€æœ‰çš„è„šæœ¬éƒ½æ— æ³•è¿è¡Œï¼Œæˆ‘ä¹Ÿæ˜¯å¼„äº†å¾ˆä¹…æ‰åœ¨Windowsä¸‹é…ç½®å¥½kaldiï¼Œéƒ½ä¸€åº¦å·®ç‚¹å¼ƒå‘ã€‚å°±è¿å®˜æ–¹ä¹Ÿè¯´There is no commitment to support Windows. The Windows port of Kaldi is targeted at experienced developers who want t">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://yutouwd.github.io/posts/3944650563/1.jpg">
<meta property="og:image" content="http://yutouwd.github.io/posts/3944650563/2.jpg">
<meta property="og:image" content="http://yutouwd.github.io/posts/3944650563/11.jpg">
<meta property="og:image" content="http://yutouwd.github.io/posts/3944650563/4.jpg">
<meta property="og:image" content="http://yutouwd.github.io/posts/3944650563/5.jpg">
<meta property="og:image" content="http://yutouwd.github.io/posts/3944650563/6.jpg">
<meta property="og:image" content="http://yutouwd.github.io/posts/3944650563/7.jpg">
<meta property="og:image" content="http://yutouwd.github.io/posts/3944650563/8.jpg">
<meta property="og:image" content="http://yutouwd.github.io/posts/3944650563/10.jpg">
<meta property="og:image" content="http://yutouwd.github.io/posts/3944650563/9.jpg">
<meta property="og:image" content="http://yutouwd.github.io/posts/3944650563/3.png">
<meta property="og:updated_time" content="2019-04-10T06:22:05.043Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="kaldiåœ¨Windowsä¸‹çš„ä½¿ç”¨">
<meta name="twitter:description" content="å…¶å®ä¸æ˜¯ç‰¹åˆ«æ¨èåœ¨Windowsä¸‹ä½¿ç”¨kaldiï¼Œå› ä¸ºåœ¨egsä¸‹æ‰€æœ‰çš„è„šæœ¬éƒ½æ— æ³•è¿è¡Œï¼Œæˆ‘ä¹Ÿæ˜¯å¼„äº†å¾ˆä¹…æ‰åœ¨Windowsä¸‹é…ç½®å¥½kaldiï¼Œéƒ½ä¸€åº¦å·®ç‚¹å¼ƒå‘ã€‚å°±è¿å®˜æ–¹ä¹Ÿè¯´There is no commitment to support Windows. The Windows port of Kaldi is targeted at experienced developers who want t">
<meta name="twitter:image" content="http://yutouwd.github.io/posts/3944650563/1.jpg">



  <link rel="alternate" href="/atom.xml" title="yutouwd" type="application/atom+xml">




  <link rel="canonical" href="http://yutouwd.github.io/posts/3944650563/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>kaldiåœ¨Windowsä¸‹çš„ä½¿ç”¨ | yutouwd</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">yutouwd</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <h1 class="site-subtitle" itemprop="description">æˆ‘çš„ã€Œç²¾ç¥å®¶å›­ã€</h1>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>é¦–é¡µ</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>æ ‡ç­¾</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>åˆ†ç±»</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>å½’æ¡£</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-leet">

    
    
    
      
    

    

    <a href="/leetcode/" rel="section"><i class="menu-item-icon fa fa-fw fa-terminal"></i> <br>leet</a>

  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yutouwd.github.io/posts/3944650563/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yutouwd">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="yutouwd">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">kaldiåœ¨Windowsä¸‹çš„ä½¿ç”¨

              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-02-26 20:49:11" itemprop="dateCreated datePublished" datetime="2019-02-26T20:49:11+08:00">2019-02-26</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-04-10 14:22:05" itemprop="dateModified" datetime="2019-04-10T14:22:05+08:00">2019-04-10</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/å£°çº¹è¯†åˆ«/" itemprop="url" rel="index"><span itemprop="name">å£°çº¹è¯†åˆ«</span></a></span>

                
                
                  ï¼Œ
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/å£°çº¹è¯†åˆ«/kaldi/" itemprop="url" rel="index"><span itemprop="name">kaldi</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <a href="/posts/3944650563/#comments" itemprop="discussionUrl">
                  <span class="post-meta-item-text">è¯„è®ºæ•°ï¼š</span> <span class="post-comments-count valine-comment-count" data-xid="/posts/3944650563/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
            <span id="/posts/3944650563/" class="leancloud_visitors" data-flag-title="kaldiåœ¨Windowsä¸‹çš„ä½¿ç”¨">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="post.wordcount">
                  3k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é—´ &asymp;</span>
                
                <span title="post.min2read">
                  12
                </span>
              
            </div>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>å…¶å®ä¸æ˜¯ç‰¹åˆ«æ¨èåœ¨Windowsä¸‹ä½¿ç”¨kaldiï¼Œå› ä¸ºåœ¨egsä¸‹æ‰€æœ‰çš„è„šæœ¬éƒ½æ— æ³•è¿è¡Œï¼Œæˆ‘ä¹Ÿæ˜¯å¼„äº†å¾ˆä¹…æ‰åœ¨Windowsä¸‹é…ç½®å¥½kaldiï¼Œéƒ½ä¸€åº¦å·®ç‚¹å¼ƒå‘ã€‚å°±è¿å®˜æ–¹ä¹Ÿè¯´<strong>There is no commitment to support Windows. The Windows port of Kaldi is targeted at experienced developers who want to program their own apps using the kaldi libraries and are able to do the troubleshooting on their own.</strong>å°±è®©æˆ‘æ¥æŠŠå‘å¡«å¹³é‚£ä¹ˆä¸€ç‚¹ç‚¹å§ğŸ§<br><a id="more"></a></p>
<h1 id="kaldiåœ¨Windowsä¸‹çš„å®‰è£…"><a href="#kaldiåœ¨Windowsä¸‹çš„å®‰è£…" class="headerlink" title="kaldiåœ¨Windowsä¸‹çš„å®‰è£…"></a>kaldiåœ¨Windowsä¸‹çš„å®‰è£…</h1><h2 id="å·¥å…·å‡†å¤‡"><a href="#å·¥å…·å‡†å¤‡" class="headerlink" title="å·¥å…·å‡†å¤‡"></a>å·¥å…·å‡†å¤‡</h2><ul>
<li>git</li>
<li>cmake</li>
<li>Visual Studio 2017</li>
</ul>
<p>vs2017è¦æ³¨æ„å®‰è£…win8.1 SDKï¼Œå¦‚æœå·²ç»å®‰è£…äº†vs2017ï¼Œä¹Ÿå¯ä»¥åœ¨ä¸Šæ–¹çš„èœå•æ ä¸­çš„å·¥å…·-&gt;è·å–å·¥å…·å’ŒåŠŸèƒ½ä¸­æ¥æŸ¥çœ‹æ˜¯å¦æœ‰å®‰è£…ã€‚gitå’Œcmakeçš„å®‰è£…æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„ï¼Œå°±ä¸åšä»‹ç»äº†ã€‚</p>
<img src="/posts/3944650563/1.jpg">
<h2 id="ç¼–è¯‘Openfst"><a href="#ç¼–è¯‘Openfst" class="headerlink" title="ç¼–è¯‘Openfst"></a>ç¼–è¯‘Openfst</h2><p>é¦–å…ˆä»githubä¸Šå°†openfst cloneä¸‹æ¥ã€‚ç„¶åè¿™é‡Œç”¨cmakeçš„æ–¹å¼æ¥å…ˆç¼–è¯‘å‡ºvsçš„å·¥ç¨‹æ–‡ä»¶ï¼Œå…·ä½“æ“ä½œæ–¹æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/kkm000/openfst.git</span><br><span class="line">cd openfst</span><br><span class="line">mkdir build64</span><br><span class="line">cd build64</span><br><span class="line">cmake -G "Visual Studio 15 2017 Win64" ../</span><br></pre></td></tr></table></figure>
<p>å¦‚æœè¿™ä¸€æ­¥æˆåŠŸä¼šæ˜¾ç¤ºä»¥ä¸‹æç¤ºï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">-- The C compiler identification is MSVC 19.11.25547.0</span><br><span class="line">-- The CXX compiler identification is MSVC 19.11.25547.0</span><br><span class="line">-- Check for working C compiler: C:/Program Files (x86)/Microsoft Visual Studio/2017/Community/VC/Tools/MSVC/14.11.25503/bin/Hostx86/x64/cl.exe</span><br><span class="line">-- Check for working C compiler: C:/Program Files (x86)/Microsoft Visual Studio/2017/Community/VC/Tools/MSVC/14.11.25503/bin/Hostx86/x64/cl.exe -- works</span><br><span class="line">-- Detecting C compiler ABI info</span><br><span class="line">-- Detecting C compiler ABI info - done</span><br><span class="line">-- Check for working CXX compiler: C:/Program Files (x86)/Microsoft Visual Studio/2017/Community/VC/Tools/MSVC/14.11.25503/bin/Hostx86/x64/cl.exe</span><br><span class="line">-- Check for working CXX compiler: C:/Program Files (x86)/Microsoft Visual Studio/2017/Community/VC/Tools/MSVC/14.11.25503/bin/Hostx86/x64/cl.exe -- works</span><br><span class="line">-- Detecting CXX compiler ABI info</span><br><span class="line">-- Detecting CXX compiler ABI info - done</span><br><span class="line">-- Detecting CXX compile features</span><br><span class="line">-- Detecting CXX compile features - done</span><br><span class="line">-- The following ICU libraries were not found:</span><br><span class="line">--   data (required)</span><br><span class="line">--   i18n (required)</span><br><span class="line">--   io (required)</span><br><span class="line">--   test (required)</span><br><span class="line">--   tu (required)</span><br><span class="line">--   uc (required)</span><br><span class="line">-- Failed to find all ICU components (missing: ICU_INCLUDE_DIR ICU_LIBRARY _ICU_REQUIRED_LIBS_FOUND)</span><br><span class="line">-- Could NOT find ZLIB (missing: ZLIB_LIBRARY ZLIB_INCLUDE_DIR)</span><br><span class="line">-- Configuring done</span><br><span class="line">-- Generating done</span><br><span class="line">-- Build files have been written to: C:/Users/jtrmal/Documents/openfst/build64</span><br></pre></td></tr></table></figure>
<p>æˆåŠŸåä¼šåœ¨build64ç›®å½•ä¸‹é¢ç”Ÿæˆä¸€ä¸ªopenfst.slnæ–‡ä»¶ï¼Œç”¨vs2017æ‰“å¼€è¿™ä¸ªæ–‡ä»¶ï¼Œåˆ†åˆ«ç”¨Debug|x64å’ŒRelease|x64æ¥ç”Ÿæˆä¸€éï¼Œå¦‚ä¸‹å›¾ï¼Œå¦‚æœå¤±è´¥ä¸º0åˆ™ä»£è¡¨ç¼–è¯‘é€šè¿‡ã€‚</p>
<img src="/posts/3944650563/2.jpg">
<h2 id="é…ç½®OpenBLAS"><a href="#é…ç½®OpenBLAS" class="headerlink" title="é…ç½®OpenBLAS"></a>é…ç½®OpenBLAS</h2><p>é¦–å…ˆä¹Ÿæ˜¯ä»githubä¸Šå…ˆå°†kaldi cloneä¸‹æ¥</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/kaldi-asr/kaldi.git kaldi</span><br></pre></td></tr></table></figure>
<p>ç„¶åæˆ‘ä»¬å°±éœ€è¦å»é…ç½®çº¿æ€§ä»£æ•°åº“ï¼Œè¿™é‡Œæœ‰ä¸¤ä¸ªé€‰æ‹©ï¼Œä¸€ä¸ªæ˜¯Intel MKLï¼Œä¸€ä¸ªæ˜¯OpenBLASã€‚è¿™é‡Œæˆ‘é€‰ç”¨OpenBLASã€‚ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥ä¸‹è½½OpenBLASçš„äºŒè¿›åˆ¶åŒ…ï¼ˆåœ¨kaldi/toolsç›®å½•ä¸‹ï¼‰ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -L -O http://sourceforge.net/projects/openblas/files/v0.2.14/OpenBLAS-v0.2.14-Win64-int32.zip</span><br><span class="line">unzip OpenBLAS-v0.2.14-Win64-int32.zip</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„è¿™é‡Œè¦ä¸‹è½½Win64-int32ç‰ˆæœ¬ï¼Œè€Œä¸æ˜¯Win64-int64ç‰ˆæœ¬</strong></p>
<h2 id="ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶</h2><p>è¿›å…¥kaldi/windowsè·¯å¾„æƒ³ï¼Œå°†varialbe.props.devå¤åˆ¶ä¸€ä»½é‡å‘½åä¸ºvariables.propsï¼Œæ‰“å¼€åå°†åˆšåˆšé…ç½®å¥½çš„åº“ä¿®æ”¹ä¸ºè‡ªå·±çš„è·¯å¾„ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Change the following paths so they are correct on your machine --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Do not modify anything before this line --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">MKLDIR</span>&gt;</span>C:\Program Files\(x86)\IntelSWTools\compilers_and_libraries\windows\mkl\<span class="tag">&lt;/<span class="name">MKLDIR</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">OPENBLASDIR</span>&gt;</span>C:\Users\Yenda\Downloads\kaldi-svn\tools\OpenBLAS-v0.2.14-Win64-int32<span class="tag">&lt;/<span class="name">OPENBLASDIR</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">OPENFST</span>&gt;</span>C:\Users\jtrmal\Documents\openfst<span class="tag">&lt;/<span class="name">OPENFST</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">OPENFSTLIB</span>&gt;</span>C:\Users\jtrmal\Documents\openfst\build64<span class="tag">&lt;/<span class="name">OPENFSTLIB</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Do not modify anything after this line --&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>æˆ‘ä»¬éœ€è¦å°†OpenBLASå’ŒOpenfstä¿®æ”¹ä¸ºè‡ªå·±çš„è·¯å¾„ï¼Œå› ä¸ºæ²¡æœ‰ç”¨åˆ°MKLå°±ä¸ç”¨ä¿®æ”¹äº†ã€‚ä¸‹é¢å°±æ˜¯æˆ‘ä¿®æ”¹åçš„è·¯å¾„ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Change the following paths so they are correct on your machine --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Do not modify anything before this line --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">MKLDIR</span>&gt;</span>C:\Program Files(x86)\IntelSWTools\compilers_and_libraries\windows\mkl\<span class="tag">&lt;/<span class="name">MKLDIR</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">OPENBLASDIR</span>&gt;</span>D:\git_home\kaldi\tools\OpenBLAS-v0.2.14-Win64-int32<span class="tag">&lt;/<span class="name">OPENBLASDIR</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">OPENFST</span>&gt;</span>D:\git_home\openfst<span class="tag">&lt;/<span class="name">OPENFST</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">OPENFSTLIB</span>&gt;</span>D:\git_home\openfst\build64<span class="tag">&lt;/<span class="name">OPENFSTLIB</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Do not modify anything after this line --&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="äº§ç”Ÿå·¥ç¨‹æ–‡ä»¶"><a href="#äº§ç”Ÿå·¥ç¨‹æ–‡ä»¶" class="headerlink" title="äº§ç”Ÿå·¥ç¨‹æ–‡ä»¶"></a>äº§ç”Ÿå·¥ç¨‹æ–‡ä»¶</h2><p>åŒæ ·è¿˜æ˜¯åœ¨kaldi/windowsè·¯å¾„ä¸‹ï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯ä½¿ç”¨OpenBLASæ‰€ä»¥å°±æŠŠkaldiwin_openblas.propså¤åˆ¶ä¸€ä»½é‡å‘½åä¸ºkaldiwin.prospã€‚ç„¶ååœ¨windowsè·¯å¾„ä¸‹ç”¨git bashè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./generate_solution.pl --vsver vs2017 --enable-openblas</span><br><span class="line">./get_version.pl</span><br></pre></td></tr></table></figure></p>
<h2 id="kaldiç¼–è¯‘æµ‹è¯•"><a href="#kaldiç¼–è¯‘æµ‹è¯•" class="headerlink" title="kaldiç¼–è¯‘æµ‹è¯•"></a>kaldiç¼–è¯‘æµ‹è¯•</h2><p>ç„¶åæˆ‘ä»¬æ‰“å¼€åœ¨kaldi/kaldiwin_vs2017_OPENBLASè¿™ä¸ªæ–°ç”Ÿæˆçš„æ–‡ä»¶å¤¹ï¼Œæ‰“å¡é‡Œé¢çš„kaldiwin_vs2017.slnå·¥ç¨‹æ–‡ä»¶ï¼Œè¿™é‡Œé¢å°±åŒ…æ‹¬äº†æ‰€æœ‰kaldi/srcä¸­*binä¸­çš„.ccæ–‡ä»¶ã€‚è¿™æ—¶å€™éœ€è¦æ¥æµ‹è¯•ä¸€ä¸‹kaldièƒ½å¦è¿è¡Œï¼Œé¦–å…ˆè¦æŠŠDebug|Win32æ”¹ä¸ºDebug|x64ï¼Œç„¶åå³é”®é€‰æ‹©online2-wav-nnet2-latgen-fasterç”Ÿæˆï¼Œå¦‚ä¸‹å›¾ï¼Œå¦‚æœç”ŸæˆæˆåŠŸåˆ™ä»£è¡¨ä¹‹å‰çš„å·¥ä½œéƒ½åšå¯¹å•¦ï¼Œkaldiå·²ç»é…ç½®å¥½äº†âœŒï¸~exeæ–‡ä»¶ä¼šç”Ÿæˆåœ¨kaldiwin_vs2017_OPENBLAS/x64/Debugä¸­ï¼Œä¸è¿‡å½“ç”¨å‘½ä»¤è¡Œæ¥è¿è¡Œåˆšåˆšç”Ÿæˆçš„exeæ–‡ä»¶æ—¶ï¼Œè¿˜æ˜¯æœ‰å¯èƒ½ä¼šæŠ¥é”™ï¼Œå¦‚ç¼ºå°‘dllç­‰ï¼Œè§£å†³æ–¹æ³•è§å¸¸è§é—®é¢˜ã€‚</p>
<img src="/posts/3944650563/11.jpg">
<h1 id="kaldiåœ¨Windowsä¸‹çš„è°ƒè¯•"><a href="#kaldiåœ¨Windowsä¸‹çš„è°ƒè¯•" class="headerlink" title="kaldiåœ¨Windowsä¸‹çš„è°ƒè¯•"></a>kaldiåœ¨Windowsä¸‹çš„è°ƒè¯•</h1><h2 id="æ–°å»ºè‡ªå·±çš„kaldié¡¹ç›®"><a href="#æ–°å»ºè‡ªå·±çš„kaldié¡¹ç›®" class="headerlink" title="æ–°å»ºè‡ªå·±çš„kaldié¡¹ç›®"></a>æ–°å»ºè‡ªå·±çš„kaldié¡¹ç›®</h2><p>åœ¨é…ç½®å¥½kaldiä¹‹åï¼Œå°±å¯ä»¥å¼€å§‹è°ƒè¯•å’Œç¼–å†™è‡ªå·±çš„ä½¿ç”¨kaldiçš„ç¨‹åºäº†ã€‚ä¸è¿‡åŸæ¥çš„kaldié¡¹ç›®ä¸­æœ‰630ä¸ªé¡¹ç›®æˆ–è€…ç§°ä¸ºè§£å†³æ–¹æ¡ˆï¼Œæ¯æ¬¡æ‰“å¼€éƒ½è¦åŠ è½½å¾ˆä¹…ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ–°å»ºä¸€ä¸ªç©ºé¡¹ç›®ï¼š</p>
<img src="/posts/3944650563/4.jpg">
<h3 id="æ·»åŠ å¼•ç”¨"><a href="#æ·»åŠ å¼•ç”¨" class="headerlink" title="æ·»åŠ å¼•ç”¨"></a>æ·»åŠ å¼•ç”¨</h3><p>ç„¶åç‚¹å‡»å·¦ä¸Šè§’æ–‡ä»¶-&gt;æ·»åŠ -&gt;ç°æœ‰é¡¹ç›®ï¼Œåˆ‡æ¢åˆ°kaldi/kaldiwin_vs2017_OPENBLAS/kaldiwinè·¯å¾„ä¸‹ã€‚</p>
<img src="/posts/3944650563/5.jpg">
<p>æœ€å¥½æŠŠæ‰€æœ‰ä»¥kaldiå¼€å¤´çš„é¡¹ç›®éƒ½æ·»åŠ è¿›å»ï¼ˆç‚¹è¿›å»å…·ä½“çš„æ–‡ä»¶å¤¹ï¼Œæ·»åŠ .vcxprojæ–‡ä»¶ï¼‰ï¼ŒåŒ…å«testçš„ä¸ç”¨ã€‚ä¸è¿‡å¦‚æœä½ æ¸…æ¥šä½ ç”¨çš„é¡¹ç›®è¦ç”¨åˆ°å“ªäº›å…·ä½“çš„å¼•ç”¨ï¼Œé‚£ä¹ˆåªæ·»åŠ ç‰¹å®šçš„é¡¹ç›®å³å¯ã€‚é‚£ä¹ˆè¦æ€ä¹ˆçœ‹éœ€è¦ç”¨åˆ°é‚£äº›å¼•ç”¨å‘¢ï¼Œè¿™æ—¶å°±è¦å›åˆ°ä¹‹å‰é‚£ä¸ªåŒ…å«630ä¸ªé¡¹ç›®çš„vsä¸­å»ã€‚</p>
<img src="/posts/3944650563/6.jpg">
<p>æ¯”å¦‚è¯´æˆ‘æƒ³è¦æå–mfccç‰¹å¾ï¼Œå°±å¯ä»¥å»çœ‹çœ‹compute-mfcc-featsè¿™ä¸ªé¡¹ç›®ä¸­ä»¥ç”¨äº†é‚£äº›é¡¹ç›®ï¼Œç„¶ååœ¨è‡ªå·±çš„é¡¹ç›®æå–mfccç‰¹å¾é¡¹ç›®ä¸­ï¼Œä¹Ÿè¦ä»¥ç”¨ç›¸åŒçš„é¡¹ç›®ï¼Œé‚£ä¹ˆå°±æŠŠå¯¹åº”çš„é¡¹ç›®æ·»åŠ åˆ°è‡ªå·±çš„é¡¹ç›®ä¸­ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<img src="/posts/3944650563/7.jpg">
<h3 id="æ·»åŠ å·¥ç¨‹å±æ€§è¡¨"><a href="#æ·»åŠ å·¥ç¨‹å±æ€§è¡¨" class="headerlink" title="æ·»åŠ å·¥ç¨‹å±æ€§è¡¨"></a>æ·»åŠ å·¥ç¨‹å±æ€§è¡¨</h3><p>é…ç½®å¥½å¼•ç”¨è¿˜éœ€è¦æˆ‘ä»¬å»æ·»åŠ åˆšæ‰é…ç½®å¥½çš„vså·¥ç¨‹å±æ€§è¡¨ï¼Œç‚¹å¼€å·¦ä¸Šèœå•æ ä¸­çš„è§†å›¾-&gt;å…¶ä»–çª—å£-&gt;å±æ€§ç®¡ç†å™¨ã€‚</p>
<img src="/posts/3944650563/8.jpg">
<p>ç„¶ååœ¨è‡ªå·±çš„é¡¹ç›®çš„Debug|64ä¸­æ·»åŠ variables.props kaldiwin.props openfst_debug.propsï¼ˆå¦‚æœè¦releaseåˆ™æ·»åŠ å¯¹åº”çš„releaseç‰ˆæœ¬ï¼‰</p>
<h3 id="ä¿®æ”¹é™„åŠ åŒ…å«ç›®å½•"><a href="#ä¿®æ”¹é™„åŠ åŒ…å«ç›®å½•" class="headerlink" title="ä¿®æ”¹é™„åŠ åŒ…å«ç›®å½•"></a>ä¿®æ”¹é™„åŠ åŒ…å«ç›®å½•</h3><p>è¿˜å·®ä¸€æ­¥å°±å¤§åŠŸå‘Šæˆï¼Œé¦–å…ˆè¦åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­æ·»åŠ ä¸€ä¸ªcppæ–‡ä»¶ï¼Œç„¶åå³é”®å±æ€§-&gt;C/C++-&gt;æ‰€æœ‰é€‰é¡¹-&gt;é™„åŠ åŒ…å«ç›®å½•ï¼Œéœ€è¦æŠŠkaldi/srcç›®å½•æ·»åŠ è¿›å»</p>
<img src="/posts/3944650563/10.jpg">
<p>é…ç½®å¥½ä¹‹åï¼Œå°±å¯ä»¥å†™è‡ªå·±çš„è°ƒç”¨kaldiçš„ç¨‹åºäº†ï¼Œä¹‹åä¹Ÿå¯ä»¥æŒ‰ç…§è¿™æ ·çš„æ–¹å¼æ¥ã€‚æ€»ç»“ä¸€ä¸‹ï¼š</p>
<ul>
<li>åœ¨å½“å‰é¡¹ç›®ä¸­æ–‡ä»¶-&gt;æ·»åŠ -&gt;æ–°å»ºé¡¹ç›®</li>
<li>æ·»åŠ éœ€è¦ç”¨åˆ°çš„å¼•ç”¨</li>
<li>æ·»åŠ å·²ç»é…ç½®å¥½çš„å·¥ç¨‹å±æ€§è¡¨</li>
<li>æœ€åæŠŠkaldi/srcæ·»åŠ åˆ°é™„åŠ åŒ…å«ç›®å½•å°±å¯ä»¥äº†</li>
<li><strong><em>å¦å¤–è¦è®°ä½è°ƒè¯•æ¨¡å¼è¦åˆ‡æ¢æˆDebug|x64</em></strong></li>
</ul>
<h2 id="å†™è‡ªå·±çš„kaldiç¨‹åº"><a href="#å†™è‡ªå·±çš„kaldiç¨‹åº" class="headerlink" title="å†™è‡ªå·±çš„kaldiç¨‹åº"></a>å†™è‡ªå·±çš„kaldiç¨‹åº</h2><p>å¦‚æœæƒ³å†™è‡ªå·±çš„è°ƒç”¨kaldiçš„ç¨‹åºè¦æ€ä¹ˆå¼€å§‹å‘¢ï¼Œæœ€å¥½çš„åŠæ³•å°±æ˜¯å»çœ‹run.shä¸­ç”¨åˆ°äº†å“ªäº›å‘½ä»¤ï¼Œç„¶ååœ¨çœ‹å‘½ä»¤ä¸­C++ä»£ç æ˜¯æ€ä¹ˆåšçš„ã€‚ä»¥æå–mfccç‰¹å¾ä¸ºä¾‹ï¼Œåœ¨å£°çº¹è¯†åˆ«ä¸­ï¼Œä¸€èˆ¬éƒ½æ˜¯ä¸‹é¢å‡ æ¡å‘½ä»¤ç”¨æ¥æå–mfccç‰¹å¾ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> run.sh</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Now make MFCC features.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> mfccdir should be some place with a largish disk <span class="built_in">where</span> you</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> want to store MFCC features.</span></span><br><span class="line">mfccdir=mfcc</span><br><span class="line">for x in train test; do</span><br><span class="line">  steps/make_mfcc.sh --cmd "$train_cmd" --nj 10 data/$x exp/make_mfcc/$x $mfccdir</span><br><span class="line">  sid/compute_vad_decision.sh --nj 10 --cmd "$train_cmd" data/$x exp/make_mfcc/$x $mfccdir</span><br><span class="line">  utils/fix_data_dir.sh data/$x</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<p>å…·ä½“çš„æå–mfccçš„ç‰¹å¾ç¨‹åºå°±åœ¨steps/make_mfcc.shä¸­äº†</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> make_mfcc.sh</span></span><br><span class="line"><span class="meta">$</span><span class="bash">cmd JOB=1:<span class="variable">$nj</span> <span class="variable">$logdir</span>/make_mfcc_<span class="variable">$&#123;name&#125;</span>.JOB.log \</span></span><br><span class="line">  extract-segments scp,p:$scp $logdir/segments.JOB ark:- \| \</span><br><span class="line">  compute-mfcc-feats $vtln_opts --verbose=2 --config=$mfcc_config ark:- ark:- \| \</span><br><span class="line">  copy-feats --compress=$compress $write_num_frames_opt ark:- \</span><br><span class="line">  ark,scp:$mfccdir/raw_mfcc_$name.JOB.ark,$mfccdir/raw_mfcc_$name.JOB.scp \</span><br><span class="line">  || exit 1;</span><br></pre></td></tr></table></figure>
<p>é‡Œé¢å…·ä½“æå–mfccç‰¹å¾çš„å‘½ä»¤å°±åº”è¯¥æ˜¯steps/make_mfcc.shäº†ï¼Œçœ‹ä¸‹make_mfcc.shï¼Œåœ¨ç»è¿‡ä¸€ç³»åˆ—å¤„ç†åï¼Œä½¿ç”¨compute-mfcc-featè¿™ä¸ªå‘½ä»¤æ¥æå–mfccç‰¹å¾çš„ã€‚æˆ‘ä»¬å°±å¯ä»¥å»çœ‹åœ¨featbinä¸‹çš„compute-mfcc-feat.ccä¸­æ˜¯å¦‚ä½•æå–mfccç‰¹å¾çš„ï¼Œä¸‹é¢å°±è´´ä¸Šæˆ‘çš„æå–mfccå¹¶å†™å…¥ä¸€ä¸ªtxtæ–‡ä»¶çš„ä»£ç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">"feat/feature-mfcc.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">"feat/wave-reader.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">"base/kaldi-math.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">"matrix/kaldi-matrix-inl.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">"matrix/kaldi-vector.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span> * argv[])</span></span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">using</span> <span class="keyword">namespace</span> kaldi;   <span class="comment">//è¦è®°ä½ä½¿ç”¨namespace kaldi</span></span><br><span class="line">        <span class="keyword">const</span> <span class="keyword">char</span> * Usage =</span><br><span class="line">            <span class="string">"my_kaldi.exe [wav_filename] [mfcc_filename] \n"</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="function">ParseOptions <span class="title">po</span><span class="params">(Usage)</span></span>;</span><br><span class="line">        po.Read(argc, argv);</span><br><span class="line">        <span class="keyword">if</span> (po.NumArgs() != <span class="number">2</span>) &#123;</span><br><span class="line">            po.PrintUsage();</span><br><span class="line">            <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">string</span> wav_filename = po.GetArg(<span class="number">1</span>);</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">string</span> mfcc_filename = po.GetArg(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*è¯»å–wavæ–‡ä»¶*/</span></span><br><span class="line">        <span class="built_in">std</span>::ifstream wav_file;</span><br><span class="line">        wav_file.open(wav_filename, <span class="built_in">std</span>::ios_base::binary);</span><br><span class="line">        WaveData wave;</span><br><span class="line">        wave.Read(wav_file);</span><br><span class="line">        SubVector&lt;BaseFloat&gt; waveform(wave.Data(), <span class="number">0</span>);<span class="comment">//å°†wavæ–‡ä»¶æ•°æ®æ”¾åˆ°waveformä¸­</span></span><br><span class="line">              </span><br><span class="line">        <span class="comment">/*mfccç‰¹å¾é…ç½®*/</span></span><br><span class="line">        MfccOptions mfcc_opts;</span><br><span class="line">        mfcc_opts.frame_opts.samp_freq = <span class="number">16000</span>;</span><br><span class="line">        mfcc_opts.frame_opts.frame_length_ms = <span class="number">25</span>;</span><br><span class="line">        mfcc_opts.frame_opts.frame_shift_ms = <span class="number">10</span>;</span><br><span class="line">        mfcc_opts.frame_opts.preemph_coeff = <span class="number">0.95</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*æå–mfccç‰¹å¾*/</span></span><br><span class="line">        Matrix&lt;BaseFloat&gt; mfcc_feature;</span><br><span class="line">        <span class="function">Mfcc <span class="title">feat</span><span class="params">(mfcc_opts)</span></span>;</span><br><span class="line">        feat.ComputeFeatures(waveform, wave.SampFreq(), <span class="number">1.0</span>, &amp;mfcc_feature);</span><br><span class="line">              </span><br><span class="line">        <span class="comment">/*å†™å…¥åˆ°æ–‡ä»¶ä¸­*/</span></span><br><span class="line">        WriteKaldiObject(mfcc_feature,mfcc,<span class="literal">false</span>);</span><br><span class="line">        <span class="comment">//kaldiä¸­éƒ½å¯ä»¥ä½¿ç”¨WriteKaldiObjectæ¥å†™ä½¿ç”¨åˆ°çš„kaldiå¯¹è±¡</span></span><br><span class="line">    &#125;</span><br><span class="line">       </span><br><span class="line">    <span class="keyword">catch</span> (<span class="keyword">const</span> <span class="built_in">std</span>::exception &amp;e) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cerr</span> &lt;&lt; e.what();</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;   </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="kaldiæ¨¡å‹çš„è¯»å–"><a href="#kaldiæ¨¡å‹çš„è¯»å–" class="headerlink" title="kaldiæ¨¡å‹çš„è¯»å–"></a>kaldiæ¨¡å‹çš„è¯»å–</h2><p>åœ¨windowsä¸Šè·‘kaldiï¼Œä¸å¯é¿å…åœ°ä¼šç”¨åˆ°kaldiä¸­çš„I/Oæ¥å£ï¼Œæ¯”å¦‚è¯»å–åœ¨Linuxä¸‹å·²ç»è®­ç»ƒå¥½çš„æ¨¡å‹ç­‰ã€‚kaldiä¸­çš„æ¨¡å‹å¾€å¾€éƒ½æ˜¯ä¸€ä¸ªç±»ï¼Œæ¯”å¦‚è¯´å£°çº¹è¯†åˆ«ä¸­ç”¨åˆ°çš„UBMç±»FullGmmï¼Œæå–ivectorçš„IvectorExtractorç­‰ç­‰ï¼Œå¯¹äºè¿™äº›ç±»çš„æå–éƒ½å¯ä»¥ç”¨ReadKaldiObjectæ¥å®Œæˆ</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> kaldi;</span><br><span class="line">FullGmm fgmm;                           <span class="comment">//é¦–å…ˆè¦å£°æ˜æƒ³è¦è¯»å–çš„æ¨¡å‹çš„ç±»</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">string</span> ubmFile = <span class="string">"final.ubm"</span>;    <span class="comment">//ç„¶åç¡®å®šæ–‡ä»¶å</span></span><br><span class="line">ReadKaldiObject(ubmFile, &amp;fgmm);</span><br></pre></td></tr></table></figure>
<p>å¯¹äºå…¶ä»–çš„æ¨¡å‹ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ç±»ä¼¼çš„æ–¹æ³•æ¥è¯»å–åˆ°å†…å­˜ä¸­ã€‚å¦‚æœæƒ³æŠŠæ¨¡å‹ç­‰å†™å‡ºæ¥ä¹Ÿå¯ä»¥é€šè¿‡WriteKaldiObjectæ¥å®Œæˆã€‚</p>
<h1 id="kaldiåœ¨Windowsä¸‹çš„ç§»æ¤"><a href="#kaldiåœ¨Windowsä¸‹çš„ç§»æ¤" class="headerlink" title="kaldiåœ¨Windowsä¸‹çš„ç§»æ¤"></a>kaldiåœ¨Windowsä¸‹çš„ç§»æ¤</h1><p>æ­¤å¤„çš„ç§»æ¤æŒ‡çš„æ˜¯èƒ½å¤Ÿä½¿kaldiåœ¨ä¸€å°æ²¡æœ‰å¼€å‘ç¯å¢ƒä¸‹çš„ç”µè„‘ä¸­æ­£å¸¸è¿è¡Œã€‚åˆšå¼€å§‹è¦åšçš„æ—¶å€™æ„Ÿè§‰å¯èƒ½ä¼šæœ‰å„ç§çš„å‘ï¼Œä¸è¿‡å®é™…ä¸­åšè¦æ¯”æƒ³è±¡ä¸­ç®€å•å¾—å¤šï¼Œå¦‚æœä¸Šé¢é…ç½®åŸºæœ¬æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œç§»æ¤çš„è¯ä¹Ÿå°±æ²¡ä»€ä¹ˆé—®é¢˜äº†ã€‚</p>
<h2 id="ç”Ÿæˆexe"><a href="#ç”Ÿæˆexe" class="headerlink" title="ç”Ÿæˆexe"></a>ç”Ÿæˆexe</h2><p>ç”Ÿæˆexeå…¶å®å¾ˆç®€å•ï¼Œåœ¨æ¯æ¬¡Debugçš„æ—¶å€™éƒ½ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œä¸è¿‡è¦æƒ³åœ¨ä¸€ä¸ªæ²¡æœ‰å¼€å‘ç¯å¢ƒçš„ç”µè„‘ä¸Šä½¿ç”¨ï¼Œè¦ç”¨Releaseæ¥é‡æ–°ç”Ÿæˆä¸€ä¸‹ã€‚æˆ‘ä»¬å¯ä»¥ç”¨main(int argc, char * argv[])æ¥è¯»å–å‘½ä»¤è¡Œçš„å‚æ•°ï¼Œç„¶åå¯ä»¥ç”¨ParseOptions po(Usage);æ¥æ§åˆ¶è¾“å…¥çš„å‚æ•°ï¼Œå…·ä½“å‚è€ƒä¸Šé¢æå–mfccçš„ä»£ç ï¼Œè¿™é‡Œå°±ä¸åšè¿‡å¤šçš„ä»‹ç»äº†ã€‚åœ¨ç§»æ¤è¿‡ç¨‹ä¸­è¿˜é‡åˆ°çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯ç¼ºå°‘ä¸€äº›dllï¼Œä¸»è¦æ˜¯mingwçš„ä¸€äº›dllï¼Œè§£å†³æ–¹æ³•è§ä¸‹é¢é‡åˆ°çš„é—®é¢˜ã€‚</p>
<h2 id="ç”Ÿæˆdll"><a href="#ç”Ÿæˆdll" class="headerlink" title="ç”Ÿæˆdll"></a>ç”Ÿæˆdll</h2><p>å¦‚æœæƒ³ç”Ÿæˆdllæ‰“åŒ…ç»™å…¶ä»–ç¨‹åºç”¨ï¼Œå°±éœ€è¦åœ¨å¤´æ–‡ä»¶ä¸­æƒ³è¦å¯¼å‡ºçš„å‡½æ•°çš„å‰é¢åŠ ä¸Šdeclspec(dllexport)ï¼Œå¹¶ä¸”å³é”®å³ä¾§çš„é¡¹ç›®å±æ€§æ ï¼ŒæŠŠå¸¸è§„ä¸­çš„é¡¹ç›®é»˜è®¤å€¼-&gt;é…ç½®ç±»å‹æ”¹ä¸ºåŠ¨æ€åº“ï¼ˆ.dllï¼‰</p>
<h1 id="é‡åˆ°çš„é—®é¢˜è®°å½•"><a href="#é‡åˆ°çš„é—®é¢˜è®°å½•" class="headerlink" title="é‡åˆ°çš„é—®é¢˜è®°å½•"></a>é‡åˆ°çš„é—®é¢˜è®°å½•</h1><h2 id="cmakeç”ŸæˆOpenfstå·¥ç¨‹æ–‡ä»¶å¤±è´¥"><a href="#cmakeç”ŸæˆOpenfstå·¥ç¨‹æ–‡ä»¶å¤±è´¥" class="headerlink" title="cmakeç”ŸæˆOpenfstå·¥ç¨‹æ–‡ä»¶å¤±è´¥"></a>cmakeç”ŸæˆOpenfstå·¥ç¨‹æ–‡ä»¶å¤±è´¥</h2><img src="/posts/3944650563/9.jpg">
<p>æ ¹æ®é”™è¯¯æç¤ºï¼Œåº”è¯¥æ˜¯ç¼ºå°‘äº†fst_test.h weight-tester.h algo_test.hï¼Œåœ¨openfst/srcç›®å½•ä¸‹æœç´¢è¿™å‡ ä¸ªæ–‡ä»¶ï¼Œå‘ç°éƒ½åœ¨openfst\src\include\fst\testä¸­ï¼Œäºæ˜¯æŠŠå‡ ä¸ªæ–‡ä»¶éƒ½å¤åˆ¶è¿‡æ¥ï¼Œç„¶åå†æ‰§è¡Œé‚£æ¡cmakeçš„å‘½ä»¤ï¼Œå°±å¯ä»¥æˆåŠŸäº†~ã€‚</p>
<h2 id="ç¼ºå°‘libopenblas-dll"><a href="#ç¼ºå°‘libopenblas-dll" class="headerlink" title="ç¼ºå°‘libopenblas.dll"></a>ç¼ºå°‘libopenblas.dll</h2><p>å½“åœ¨å‘½ä»¤è¡Œæˆ–git bashä¸­è¿è¡Œç”Ÿæˆå¥½çš„exeæ—¶ï¼Œä¼šæŠ¥é”™ç¼ºå°‘libopenblas.dllï¼š</p>
<img src="/posts/3944650563/3.png">
<p>æˆ‘ä»¬éœ€è¦å°†ä¹‹å‰ä¸‹è½½çš„OpenBLASä¸­binç›®å½•ä¸‹çš„libopenblas.dllæ‹·åˆ°å’Œexeæ–‡ä»¶åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­å°±å¯ä»¥æ‰§è¡Œäº†ã€‚</p>
<h2 id="mingw-dllä¸‹è½½"><a href="#mingw-dllä¸‹è½½" class="headerlink" title="mingw dllä¸‹è½½"></a>mingw dllä¸‹è½½</h2><p>åŒ…æ‹¬libgcc_s_seh-1.dll libgfortran-3.dll libquadmath-0.dllï¼Œä¸‹è½½ååŒæ ·éœ€è¦æ”¾åˆ°å’ŒexeåŒä¸€ç›®å½•ä¸‹ã€‚<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -L -O http://sourceforge.net/projects/openblas/files/v0.2.14/mingw64_dll.zip</span><br><span class="line">unzip mingw64_dll.zip</span><br></pre></td></tr></table></figure></p>
<h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p>å®˜æ–¹Windowsä¸‹å®‰è£…æŒ‡å—ï¼š<br><a href="https://github.com/kaldi-asr/kaldi/blob/master/windows/INSTALL.md" target="_blank" rel="noopener">https://github.com/kaldi-asr/kaldi/blob/master/windows/INSTALL.md</a><br>ä¸€ä¸ªä¸­æ–‡çš„å®‰è£…è¯´æ˜ï¼š<br><a href="https://www.jianshu.com/p/5494d6607789" target="_blank" rel="noopener">https://www.jianshu.com/p/5494d6607789</a><br>Windowsä¸‹å®‰è£…å¸¸è§çš„é—®é¢˜ï¼š<br><a href="https://blog.csdn.net/qq_25867649/article/details/78356474?locationNum=8&amp;fps=1" target="_blank" rel="noopener">https://blog.csdn.net/qq_25867649/article/details/78356474?locationNum=8&amp;fps=1</a><br>kaldiä¸­IOæ¥å£ä»‹ç»ï¼š<br><a href="http://kaldi-asr.org/doc/io.html" target="_blank" rel="noopener">http://kaldi-asr.org/doc/io.html</a></p>

      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/å£°çº¹è¯†åˆ«/" rel="tag"><i class="menu-item-icon fa fa-fw fa-tags"></i> å£°çº¹è¯†åˆ«</a>
          
            <a href="/tags/kaldi/" rel="tag"><i class="menu-item-icon fa fa-fw fa-tags"></i> kaldi</a>
          
            <a href="/tags/Visual-Studio/" rel="tag"><i class="menu-item-icon fa fa-fw fa-tags"></i> Visual Studio</a>
          
        </div>
      

      
      
        <div class="post-widgets">
        

        

        
          
          <div class="social_share">
            
            
              <div id="needsharebutton-postbottom">
                <span class="btn">
                  <i class="fa fa-share-alt" aria-hidden="true"></i>
                </span>
              </div>
            
          </div>
        
        </div>
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/posts/87e6cb09/" rel="next" title="åšå®¢æŠ˜è…¾è®°å½•">
                <i class="fa fa-chevron-left"></i> åšå®¢æŠ˜è…¾è®°å½•
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/posts/921238856/" rel="prev" title="æˆä¸ºä¸€ä¸ªã€Œæ•°æ®æ ‡è®°å‘˜ã€">
                æˆä¸ºä¸€ä¸ªã€Œæ•°æ®æ ‡è®°å‘˜ã€ <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  
    <div class="comments" id="comments">
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">yutouwd</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">24</span>
                    <span class="site-state-item-name">æ—¥å¿—</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">7</span>
                    <span class="site-state-item-name">åˆ†ç±»</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">19</span>
                    <span class="site-state-item-name">æ ‡ç­¾</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/yutouwd" title="GitHub &rarr; https://github.com/yutouwd" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:yutouwd@gmail.com" title="E-Mail &rarr; mailto:yutouwd@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#kaldiåœ¨Windowsä¸‹çš„å®‰è£…"><span class="nav-text">kaldiåœ¨Windowsä¸‹çš„å®‰è£…</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#å·¥å…·å‡†å¤‡"><span class="nav-text">å·¥å…·å‡†å¤‡</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ç¼–è¯‘Openfst"><span class="nav-text">ç¼–è¯‘Openfst</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#é…ç½®OpenBLAS"><span class="nav-text">é…ç½®OpenBLAS</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ä¿®æ”¹é…ç½®æ–‡ä»¶"><span class="nav-text">ä¿®æ”¹é…ç½®æ–‡ä»¶</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#äº§ç”Ÿå·¥ç¨‹æ–‡ä»¶"><span class="nav-text">äº§ç”Ÿå·¥ç¨‹æ–‡ä»¶</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#kaldiç¼–è¯‘æµ‹è¯•"><span class="nav-text">kaldiç¼–è¯‘æµ‹è¯•</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#kaldiåœ¨Windowsä¸‹çš„è°ƒè¯•"><span class="nav-text">kaldiåœ¨Windowsä¸‹çš„è°ƒè¯•</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#æ–°å»ºè‡ªå·±çš„kaldié¡¹ç›®"><span class="nav-text">æ–°å»ºè‡ªå·±çš„kaldié¡¹ç›®</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#æ·»åŠ å¼•ç”¨"><span class="nav-text">æ·»åŠ å¼•ç”¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ·»åŠ å·¥ç¨‹å±æ€§è¡¨"><span class="nav-text">æ·»åŠ å·¥ç¨‹å±æ€§è¡¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä¿®æ”¹é™„åŠ åŒ…å«ç›®å½•"><span class="nav-text">ä¿®æ”¹é™„åŠ åŒ…å«ç›®å½•</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å†™è‡ªå·±çš„kaldiç¨‹åº"><span class="nav-text">å†™è‡ªå·±çš„kaldiç¨‹åº</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#kaldiæ¨¡å‹çš„è¯»å–"><span class="nav-text">kaldiæ¨¡å‹çš„è¯»å–</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#kaldiåœ¨Windowsä¸‹çš„ç§»æ¤"><span class="nav-text">kaldiåœ¨Windowsä¸‹çš„ç§»æ¤</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ç”Ÿæˆexe"><span class="nav-text">ç”Ÿæˆexe</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ç”Ÿæˆdll"><span class="nav-text">ç”Ÿæˆdll</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#é‡åˆ°çš„é—®é¢˜è®°å½•"><span class="nav-text">é‡åˆ°çš„é—®é¢˜è®°å½•</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#cmakeç”ŸæˆOpenfstå·¥ç¨‹æ–‡ä»¶å¤±è´¥"><span class="nav-text">cmakeç”ŸæˆOpenfstå·¥ç¨‹æ–‡ä»¶å¤±è´¥</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ç¼ºå°‘libopenblas-dll"><span class="nav-text">ç¼ºå°‘libopenblas.dll</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#mingw-dllä¸‹è½½"><span class="nav-text">mingw dllä¸‹è½½</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#å‚è€ƒèµ„æ–™"><span class="nav-text">å‚è€ƒèµ„æ–™</span></a></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">yutouwd</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">æ–‡å­—æ€»æ•°&#58;</span>
    
    <span title="post.totalcount">20.2k</span>
  

  

  
</div>


  <div class="powered-by">ç”± <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> å¼ºåŠ›é©±åŠ¨ v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ â€“ <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.0.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=7.0.0"></script>

  <script src="/js/src/motion.js?v=7.0.0"></script>



  
  


  <script src="/js/src/schemes/muse.js?v=7.0.0"></script>



  
  <script src="/js/src/scrollspy.js?v=7.0.0"></script>
<script src="/js/src/post-details.js?v=7.0.0"></script>



  


  <script src="/js/src/bootstrap.js?v=7.0.0"></script>



  
  

<script src="//cdn1.lncld.net/static/js/3.11.1/av-min.js"></script>



<script src="//unpkg.com/valine/dist/Valine.min.js"></script>

<script>
  var GUEST = ['nick', 'mail', 'link'];
  var guest = 'nick,mail,link';
  guest = guest.split(',').filter(function(item) {
    return GUEST.indexOf(item) > -1;
  });
  new Valine({
    el: '#comments',
    verify: true,
    notify: true,
    appId: 'IyLr0ozy6Xzdjq2JrDehrIn9-gzGzoHsz',
    appKey: 'FEqRgVoI4cMfVIGolcQ46n6G',
    placeholder: 'å¿«æ¥è¯„è®ºå§ (à¹‘â€¢Ì€ã…‚â€¢Ì)Ùˆâœ§',
    avatar: 'mm',
    meta: guest,
    pageSize: '10' || 10,
    visitor: true
  });
</script>




  


  





  

  

  
  <script>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>


  

  
  

  
  

  


  
  
  
  <script src="/lib/needsharebutton/needsharebutton.js"></script>
  <script>
    
      pbOptions = {};
      
        pbOptions.iconStyle = "box";
      
        pbOptions.boxForm = "horizontal";
      
        pbOptions.position = "bottomCenter";
      
        pbOptions.networks = "Weibo,Wechat,Douban,QQZone,Twitter,Facebook";
      
      new needShareButton('#needsharebutton-postbottom', pbOptions);
    
    
  </script>


  

  
  
  
  <script src="/lib/pangu/dist/pangu.min.js?v=3.3"></script>
  <script>pangu.spacingPage();</script>


  

  

  

  
  <style>
    .copy-btn {
      display: inline-block;
      padding: 6px 12px;
      font-size: 13px;
      font-weight: 700;
      line-height: 20px;
      color: #333;
      white-space: nowrap;
      vertical-align: middle;
      cursor: pointer;
      background-color: #eee;
      background-image: linear-gradient(#fcfcfc, #eee);
      border: 1px solid #d5d5d5;
      border-radius: 3px;
      user-select: none;
      outline: 0;
    }

    .highlight-wrap .copy-btn {
      transition: opacity .3s ease-in-out;
      opacity: 0;
      padding: 2px 6px;
      position: absolute;
      right: 4px;
      top: 8px;
    }

    .highlight-wrap:hover .copy-btn,
    .highlight-wrap .copy-btn:focus {
      opacity: 1
    }

    .highlight-wrap {
      position: relative;
    }
  </style>
  <script>
    $('.highlight').each(function(i, e) {
      var $wrap = $('<div>').addClass('highlight-wrap');
      $(e).after($wrap);
      $wrap.append($('<button>').addClass('copy-btn').append('å¤åˆ¶').on('click', function(e) {
        var code = $(this).parent().find('.code').find('.line').map(function(i, e) {
          return $(e).text();
        }).toArray().join('\n');
        var ta = document.createElement('textarea');
        var range = document.createRange(); //For Chrome
        var sel = window.getSelection(); //For Chrome
        var yPosition = window.pageYOffset || document.documentElement.scrollTop;
        ta.style.top = yPosition + 'px'; //Prevent page scroll
        ta.style.position = 'absolute';
        ta.style.opacity = '0';
        ta.value = code;
        ta.textContent = code; //For FireFox
        ta.contentEditable = true;
        ta.readOnly = false;
        document.body.appendChild(ta);
        range.selectNode(ta);
        sel.removeAllRanges();
        sel.addRange(range);
        ta.setSelectionRange(0, code.length);
        var result = document.execCommand('copy');
        
          if (result) $(this).text('å¤åˆ¶æˆåŠŸ');
          else $(this).text('å¤åˆ¶å¤±è´¥');
        
        ta.blur(); //For iOS
        $(this).blur();
      })).on('mouseleave', function(e) {
        var $b = $(this).find('.copy-btn');
        setTimeout(function() {
          $b.text('å¤åˆ¶');
        }, 300);
      }).append(e);
    })
  </script>


  

</body>
</html>
